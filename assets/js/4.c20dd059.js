(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{360:function(s,a,t){s.exports=t.p+"assets/img/image-9.474dd47d.png"},361:function(s,a,t){s.exports=t.p+"assets/img/image-13.3a0fcb8f.png"},362:function(s,a,t){s.exports=t.p+"assets/img/image-1.2fb8c60d.png"},363:function(s,a,t){s.exports=t.p+"assets/img/image-7.002cf092.png"},415:function(s,a,t){s.exports=t.p+"assets/img/image-20.06053337.png"},416:function(s,a,t){s.exports=t.p+"assets/img/image-21.465bfe22.png"},490:function(s,a,t){"use strict";t.r(a);var n=t(35),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"javaé¢è¯•æ€»ç»“"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#javaé¢è¯•æ€»ç»“"}},[s._v("#")]),s._v(" Javaé¢è¯•æ€»ç»“")]),s._v(" "),n("p"),n("div",{staticClass:"table-of-contents-default"},[n("div",{staticClass:"toc-container-header"},[s._v("æ–‡ç« ç›®å½•")]),n("ul",[n("li",[n("a",{attrs:{href:"#èµ„æº"}},[s._v("èµ„æº")])]),n("li",[n("a",{attrs:{href:"#redisç¯‡"}},[s._v("Redisç¯‡")]),n("ul",[n("li",[n("a",{attrs:{href:"#é—®é¢˜-æˆ‘çœ‹ä½ åšçš„é¡¹ç›®ä¸­-éƒ½ç”¨åˆ°äº†-redis-ä½ åœ¨æœ€è¿‘çš„é¡¹ç›®ä¸­å“ªäº›åœºæ™¯ä½¿ç”¨äº†-redis-å‘¢"}},[s._v("é—®é¢˜ï¼šæˆ‘çœ‹ä½ åšçš„é¡¹ç›®ä¸­ï¼Œéƒ½ç”¨åˆ°äº† Redisï¼Œä½ åœ¨æœ€è¿‘çš„é¡¹ç›®ä¸­å“ªäº›åœºæ™¯ä½¿ç”¨äº† Redis å‘¢ï¼Ÿ")]),n("ul",[n("li",[n("a",{attrs:{href:"#âšª-é—®é¢˜-ä»€ä¹ˆæ˜¯ç¼“å­˜ç©¿é€ã€å‡»ç©¿ã€é›ªå´©-å¦‚æœå‘ç”Ÿäº†ç¼“å­˜ç©¿é€ã€å‡»ç©¿ã€é›ªå´©-è¯¥å¦‚ä½•è§£å†³"}},[s._v("âšª é—®é¢˜ï¼šä»€ä¹ˆæ˜¯ç¼“å­˜ç©¿é€ã€å‡»ç©¿ã€é›ªå´©ï¼Ÿå¦‚æœå‘ç”Ÿäº†ç¼“å­˜ç©¿é€ã€å‡»ç©¿ã€é›ªå´©ï¼Œè¯¥å¦‚ä½•è§£å†³ï¼Ÿ")]),n("ul",[n("li",[n("a",{attrs:{href:"#âšª-â“ä»€ä¹ˆæ˜¯ç¼“å­˜ç©¿é€ã€å‡»ç©¿ã€é›ªå´©"}},[s._v("âšª â“ä»€ä¹ˆæ˜¯ç¼“å­˜ç©¿é€ã€å‡»ç©¿ã€é›ªå´©ï¼Ÿ")])]),n("li",[n("a",{attrs:{href:"#âšª-â“æ€ä¹ˆè§£å†³ç¼“å­˜ç©¿é€"}},[s._v("âšª â“æ€ä¹ˆè§£å†³ç¼“å­˜ç©¿é€ï¼Ÿ")])]),n("li",[n("a",{attrs:{href:"#âšª-â“æ€ä¹ˆè§£å†³ç¼“å­˜å‡»ç©¿"}},[s._v("âšª â“æ€ä¹ˆè§£å†³ç¼“å­˜å‡»ç©¿ï¼Ÿ")])]),n("li",[n("a",{attrs:{href:"#âšª-â“æ€ä¹ˆè§£å†³ç¼“å­˜é›ªå´©"}},[s._v("âšª â“æ€ä¹ˆè§£å†³ç¼“å­˜é›ªå´©ï¼Ÿ")])])])]),n("li",[n("a",{attrs:{href:"#âšª-é—®é¢˜-redisåšä¸ºç¼“å­˜-mysqlçš„æ•°æ®å¦‚ä½•ä¸redisè¿›è¡ŒåŒæ­¥å‘¢-åŒå†™ä¸€è‡´æ€§"}},[s._v("âšª é—®é¢˜ï¼šRedisåšä¸ºç¼“å­˜ï¼ŒMysqlçš„æ•°æ®å¦‚ä½•ä¸Redisè¿›è¡ŒåŒæ­¥å‘¢ï¼Ÿï¼ˆåŒå†™ä¸€è‡´æ€§ï¼‰")])]),n("li",[n("a",{attrs:{href:"#âšª-é—®é¢˜-redisåšä¸ºç¼“å­˜-æ•°æ®çš„æŒä¹…åŒ–æ˜¯æ€ä¹ˆåšçš„"}},[s._v("âšª é—®é¢˜ï¼šRedisåšä¸ºç¼“å­˜ï¼Œæ•°æ®çš„æŒä¹…åŒ–æ˜¯æ€ä¹ˆåšçš„ï¼Ÿ")])])])])])]),n("li",[n("a",{attrs:{href:"#ğŸ¯javaé›†åˆç¯‡"}},[s._v("ğŸ¯Javaé›†åˆç¯‡")]),n("ul",[n("li",[n("a",{attrs:{href:"#listç›¸å…³é¢è¯•é¢˜"}},[s._v("Listç›¸å…³é¢è¯•é¢˜")]),n("ul",[n("li",[n("a",{attrs:{href:"#âšª-arrayliståº•å±‚çš„å®ç°åŸç†â“"}},[s._v("âšª ArrayListåº•å±‚çš„å®ç°åŸç†â“")])]),n("li",[n("a",{attrs:{href:"#âšª-arraylistçš„æ‰©å®¹æœºåˆ¶â“"}},[s._v("âšª ArrayListçš„æ‰©å®¹æœºåˆ¶â“")])]),n("li",[n("a",{attrs:{href:"#âšª-arraylistå’Œarray-æ•°ç»„-çš„åŒºåˆ«â“"}},[s._v("âšª ArrayListå’ŒArrayï¼ˆæ•°ç»„ï¼‰çš„åŒºåˆ«â“")])]),n("li",[n("a",{attrs:{href:"#âšª-å¦‚ä½•å®ç°array-æ•°ç»„-å’Œlistä¹‹é—´çš„è½¬æ¢â“"}},[s._v("âšª å¦‚ä½•å®ç°Arrayï¼ˆæ•°ç»„ï¼‰å’ŒListä¹‹é—´çš„è½¬æ¢â“")])]),n("li",[n("a",{attrs:{href:"#âšª-arraylistå’Œlinkedlistçš„åŒºåˆ«â“"}},[s._v("âšª ArrayListå’ŒLinkedListçš„åŒºåˆ«â“")])]),n("li",[n("a",{attrs:{href:"#âšª-arraydeque-ä¸-linkedlist-çš„åŒºåˆ«â“"}},[s._v("âšª ArrayDeque ä¸ LinkedList çš„åŒºåˆ«â“")])]),n("li",[n("a",{attrs:{href:"#è¯´ä¸€è¯´-priorityqueue"}},[s._v("è¯´ä¸€è¯´ PriorityQueue")])])])]),n("li",[n("a",{attrs:{href:"#hashmapç›¸å…³é¢è¯•é¢˜"}},[s._v("HashMapç›¸å…³é¢è¯•é¢˜")]),n("ul",[n("li",[n("a",{attrs:{href:"#âšª-hashmapçš„putæ–¹æ³•å…·ä½“æµç¨‹â“"}},[s._v("âšª HashMapçš„putæ–¹æ³•å…·ä½“æµç¨‹â“")])]),n("li",[n("a",{attrs:{href:"#âšª-hashmapçš„å¯»å€ç®—æ³•â“"}},[s._v("âšª HashMapçš„å¯»å€ç®—æ³•â“")])]),n("li",[n("a",{attrs:{href:"#âšª-è®²ä¸€è®²hashmapçš„æ‰©å®¹æœºåˆ¶â“"}},[s._v("âšª è®²ä¸€è®²HashMapçš„æ‰©å®¹æœºåˆ¶â“")])]),n("li",[n("a",{attrs:{href:"#âšª-ä¸ºä½•hashmapçš„æ•°ç»„é•¿åº¦ä¸€å®šæ˜¯2çš„æ¬¡å¹‚-â“"}},[s._v("âšª ä¸ºä½•HashMapçš„æ•°ç»„é•¿åº¦ä¸€å®šæ˜¯2çš„æ¬¡å¹‚ï¼Ÿâ“")])]),n("li",[n("a",{attrs:{href:"#âšª-hashmapåœ¨jdk1-7ä¸‹çš„å¤šçº¿ç¨‹æ“ä½œå¯¼è‡´æ­»å¾ªç¯é—®é¢˜â“"}},[s._v("âšª HashMapåœ¨JDK1.7ä¸‹çš„å¤šçº¿ç¨‹æ“ä½œå¯¼è‡´æ­»å¾ªç¯é—®é¢˜â“")])]),n("li",[n("a",{attrs:{href:"#âšª-hashmapå’Œhashsetçš„åŒºåˆ«â“"}},[s._v("âšª HashMapå’ŒHashSetçš„åŒºåˆ«â“")])]),n("li",[n("a",{attrs:{href:"#âšª-hashmapä¸ºä»€ä¹ˆçº¿ç¨‹ä¸å®‰å…¨â“"}},[s._v("âšª HashMapä¸ºä»€ä¹ˆçº¿ç¨‹ä¸å®‰å…¨â“")])])])])])]),n("li",[n("a",{attrs:{href:"#å¹¶å‘ç¼–ç¨‹ç¯‡"}},[s._v("å¹¶å‘ç¼–ç¨‹ç¯‡")]),n("ul",[n("li",[n("a",{attrs:{href:"#çº¿ç¨‹çš„åŸºæœ¬çŸ¥è¯†"}},[s._v("çº¿ç¨‹çš„åŸºæœ¬çŸ¥è¯†")]),n("ul",[n("li",[n("a",{attrs:{href:"#âšª-çº¿ç¨‹å’Œè¿›ç¨‹çš„åŒºåˆ«â“"}},[s._v("âšª çº¿ç¨‹å’Œè¿›ç¨‹çš„åŒºåˆ«â“")])]),n("li",[n("a",{attrs:{href:"#âšª-å¹¶è¡Œå’Œå¹¶å‘çš„åŒºåˆ«â“"}},[s._v("âšª å¹¶è¡Œå’Œå¹¶å‘çš„åŒºåˆ«â“")])]),n("li",[n("a",{attrs:{href:"#âšª-åˆ›å»ºçº¿ç¨‹çš„æ–¹å¼æœ‰å“ªäº›â“"}},[s._v("âšª åˆ›å»ºçº¿ç¨‹çš„æ–¹å¼æœ‰å“ªäº›â“")])]),n("li",[n("a",{attrs:{href:"#âšª-ä½¿ç”¨runnableå’Œcallableéƒ½å¯ä»¥åˆ›å»ºçº¿ç¨‹-å®ƒä»¬æœ‰ä»€ä¹ˆåŒºåˆ«â“"}},[s._v("âšª ä½¿ç”¨Runnableå’ŒCallableéƒ½å¯ä»¥åˆ›å»ºçº¿ç¨‹ï¼Œå®ƒä»¬æœ‰ä»€ä¹ˆåŒºåˆ«â“")])]),n("li",[n("a",{attrs:{href:"#âšª-åœ¨å¯åŠ¨çº¿ç¨‹çš„æ—¶å€™-å¯ä»¥ä½¿ç”¨runæ–¹æ³•å—-run-å’Œstart-æœ‰ä»€ä¹ˆåŒºåˆ«â“"}},[s._v("âšª åœ¨å¯åŠ¨çº¿ç¨‹çš„æ—¶å€™ï¼Œå¯ä»¥ä½¿ç”¨runæ–¹æ³•å—ï¼Ÿrun()å’Œstart()æœ‰ä»€ä¹ˆåŒºåˆ«â“")])]),n("li",[n("a",{attrs:{href:"#âšª-çº¿ç¨‹åŒ…æ‹¬å“ªäº›çŠ¶æ€-çŠ¶æ€ä¹‹é—´æ˜¯å¦‚ä½•å˜åŒ–â“"}},[s._v("âšª çº¿ç¨‹åŒ…æ‹¬å“ªäº›çŠ¶æ€ï¼ŒçŠ¶æ€ä¹‹é—´æ˜¯å¦‚ä½•å˜åŒ–â“")])]),n("li",[n("a",{attrs:{href:"#âšª-wait-å’Œsleep-æ–¹æ³•çš„ä¸åŒâ“"}},[s._v("âšª wait()å’Œsleep()æ–¹æ³•çš„ä¸åŒâ“")])]),n("li",[n("a",{attrs:{href:"#âšª-å¦‚ä½•åœæ­¢ä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„çº¿ç¨‹â“"}},[s._v("âšª å¦‚ä½•åœæ­¢ä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„çº¿ç¨‹â“")])])])]),n("li",[n("a",{attrs:{href:"#çº¿ç¨‹ä¸­çš„å¹¶å‘å®‰å…¨"}},[s._v("çº¿ç¨‹ä¸­çš„å¹¶å‘å®‰å…¨")]),n("ul",[n("li",[n("a",{attrs:{href:"#âšª-synchronizedå…³é”®å­—çš„åº•å±‚åŸç†â“"}},[s._v("âšª synchronizedå…³é”®å­—çš„åº•å±‚åŸç†â“")])]),n("li",[n("a",{attrs:{href:"#âšª-è°ˆè°ˆ-jmm-javaå†…å­˜æ¨¡å‹-â“"}},[s._v("âšª è°ˆè°ˆ JMMï¼ˆJavaå†…å­˜æ¨¡å‹ï¼‰â“")])]),n("li",[n("a",{attrs:{href:"#âšª-è°ˆè°ˆ-cas-å¦å¤–ä»€ä¹ˆæ˜¯æ‚²è§‚é”å’Œä¹è§‚é”â“"}},[s._v("âšª è°ˆè°ˆ CASï¼Œå¦å¤–ä»€ä¹ˆæ˜¯æ‚²è§‚é”å’Œä¹è§‚é”â“")])]),n("li",[n("a",{attrs:{href:"#âšª-è¯·è°ˆè°ˆä½ å¯¹-volatile-çš„ç†è§£â“"}},[s._v("âšª è¯·è°ˆè°ˆä½ å¯¹ volatile çš„ç†è§£â“")])]),n("li",[n("a",{attrs:{href:"#âšª-è¯·ä½ è¯´ä¸€ä¸‹è‡ªå·±å¯¹äº-aqs-åŸç†çš„ç†è§£â“"}},[s._v("âšª è¯·ä½ è¯´ä¸€ä¸‹è‡ªå·±å¯¹äº AQS åŸç†çš„ç†è§£â“")])]),n("li",[n("a",{attrs:{href:"#âšª-reentrantlockçš„å®ç°åŸç†â“"}},[s._v("âšª ReentrantLockçš„å®ç°åŸç†â“")])]),n("li",[n("a",{attrs:{href:"#âšª-synchronizedå’Œlockæœ‰ä»€ä¹ˆåŒºåˆ«â“"}},[s._v("âšª synchronizedå’ŒLockæœ‰ä»€ä¹ˆåŒºåˆ«â“")])]),n("li",[n("a",{attrs:{href:"#âšª-æ­»é”äº§ç”Ÿçš„æ¡ä»¶æ˜¯ä»€ä¹ˆâ“"}},[s._v("âšª æ­»é”äº§ç”Ÿçš„æ¡ä»¶æ˜¯ä»€ä¹ˆâ“")])]),n("li",[n("a",{attrs:{href:"#âšª-å¦‚ä½•è¿›è¡Œæ­»é”è¯Šæ–­â“"}},[s._v("âšª å¦‚ä½•è¿›è¡Œæ­»é”è¯Šæ–­â“")])]),n("li",[n("a",{attrs:{href:"#âšª-èŠä¸€ä¸‹concurrenthashmapâ“"}},[s._v("âšª èŠä¸€ä¸‹ConcurrentHashMapâ“")])]),n("li",[n("a",{attrs:{href:"#âšª-å¯¼è‡´å¹¶å‘ç¨‹åºå‡ºç°é—®é¢˜çš„æ ¹æœ¬åŸå› æ˜¯ä»€ä¹ˆâ“"}},[s._v("âšª å¯¼è‡´å¹¶å‘ç¨‹åºå‡ºç°é—®é¢˜çš„æ ¹æœ¬åŸå› æ˜¯ä»€ä¹ˆâ“")])])])]),n("li",[n("a",{attrs:{href:"#çº¿ç¨‹æ± "}},[s._v("çº¿ç¨‹æ± ")]),n("ul",[n("li",[n("a",{attrs:{href:"#âšª-è¯´ä¸€ä¸‹çº¿ç¨‹æ± çš„æ ¸å¿ƒå‚æ•°-çº¿ç¨‹æ± çš„æ‰§è¡ŒåŸç†çŸ¥é“å˜›-â“"}},[s._v("âšª è¯´ä¸€ä¸‹çº¿ç¨‹æ± çš„æ ¸å¿ƒå‚æ•°ï¼ˆçº¿ç¨‹æ± çš„æ‰§è¡ŒåŸç†çŸ¥é“å˜›ï¼‰â“")])]),n("li",[n("a",{attrs:{href:"#âšª-çº¿ç¨‹æ± ä¸­æœ‰å“ªäº›å¸¸è§çš„é˜»å¡é˜Ÿåˆ—â“"}},[s._v("âšª çº¿ç¨‹æ± ä¸­æœ‰å“ªäº›å¸¸è§çš„é˜»å¡é˜Ÿåˆ—â“")])]),n("li",[n("a",{attrs:{href:"#âšª-å¦‚ä½•ç¡®å®šæ ¸å¿ƒçº¿ç¨‹æ•°â“"}},[s._v("âšª å¦‚ä½•ç¡®å®šæ ¸å¿ƒçº¿ç¨‹æ•°â“")])]),n("li",[n("a",{attrs:{href:"#âšª-çº¿ç¨‹æ± çš„ç§ç±»æœ‰å“ªäº›â“"}},[s._v("âšª çº¿ç¨‹æ± çš„ç§ç±»æœ‰å“ªäº›â“")])]),n("li",[n("a",{attrs:{href:"#âšª-ä¸ºä»€ä¹ˆä¸å»ºè®®ç”¨executorsåˆ›å»ºçº¿ç¨‹æ± â“"}},[s._v("âšª ä¸ºä»€ä¹ˆä¸å»ºè®®ç”¨Executorsåˆ›å»ºçº¿ç¨‹æ± â“")])])])]),n("li",[n("a",{attrs:{href:"#ä½¿ç”¨åœºæ™¯"}},[s._v("ä½¿ç”¨åœºæ™¯")]),n("ul",[n("li",[n("a",{attrs:{href:"#âšª-çº¿ç¨‹æ± ä½¿ç”¨åœºæ™¯-ä½ ä»¬é¡¹ç›®ä¸­å“ªé‡Œç”¨åˆ°äº†çº¿ç¨‹æ± -â“"}},[s._v("âšª çº¿ç¨‹æ± ä½¿ç”¨åœºæ™¯(ä½ ä»¬é¡¹ç›®ä¸­å“ªé‡Œç”¨åˆ°äº†çº¿ç¨‹æ± )â“")])]),n("li",[n("a",{attrs:{href:"#âšª-å¦‚ä½•æ§åˆ¶æŸä¸ªæ–¹æ³•å…è®¸å¹¶å‘è®¿é—®çº¿ç¨‹çš„æ•°é‡â“"}},[s._v("âšª å¦‚ä½•æ§åˆ¶æŸä¸ªæ–¹æ³•å…è®¸å¹¶å‘è®¿é—®çº¿ç¨‹çš„æ•°é‡â“")])]),n("li",[n("a",{attrs:{href:"#âšª-è°ˆè°ˆä½ å¯¹threadlocalçš„ç†è§£â“"}},[s._v("âšª è°ˆè°ˆä½ å¯¹ThreadLocalçš„ç†è§£â“")])])])])])]),n("li",[n("a",{attrs:{href:"#jvmè™šæ‹Ÿæœºç¯‡"}},[s._v("JVMè™šæ‹Ÿæœºç¯‡")]),n("ul",[n("li",[n("a",{attrs:{href:"#jvmç»„æˆ"}},[s._v("JVMç»„æˆ")]),n("ul",[n("li",[n("a",{attrs:{href:"#âšªä»€ä¹ˆæ˜¯ç¨‹åºè®¡æ•°å™¨â“"}},[s._v("âšªä»€ä¹ˆæ˜¯ç¨‹åºè®¡æ•°å™¨â“")])]),n("li",[n("a",{attrs:{href:"#âšªä½ èƒ½ç»™æˆ‘è¯¦ç»†çš„ä»‹ç»ä¸‹å †å—â“"}},[s._v("âšªä½ èƒ½ç»™æˆ‘è¯¦ç»†çš„ä»‹ç»ä¸‹å †å—â“")])]),n("li",[n("a",{attrs:{href:"#âšªèƒ½ä¸èƒ½ä»‹ç»ä¸€ä¸‹æ–¹æ³•åŒºâ“"}},[s._v("âšªèƒ½ä¸èƒ½ä»‹ç»ä¸€ä¸‹æ–¹æ³•åŒºâ“")])]),n("li",[n("a",{attrs:{href:"#âšªä½ å¬è¿‡ç›´æ¥å†…å­˜å—â“"}},[s._v("âšªä½ å¬è¿‡ç›´æ¥å†…å­˜å—â“")])]),n("li",[n("a",{attrs:{href:"#âšªä»€ä¹ˆæ˜¯è™šæ‹Ÿæœºæ ˆâ“"}},[s._v("âšªä»€ä¹ˆæ˜¯è™šæ‹Ÿæœºæ ˆâ“")])]),n("li",[n("a",{attrs:{href:"#âšªä»€ä¹ˆæƒ…å†µä¸‹ä¼šå¯¼è‡´æ ˆå†…å­˜æº¢å‡ºâ“"}},[s._v("âšªä»€ä¹ˆæƒ…å†µä¸‹ä¼šå¯¼è‡´æ ˆå†…å­˜æº¢å‡ºâ“")])]),n("li",[n("a",{attrs:{href:"#âšªå †æ ˆçš„åŒºåˆ«æ˜¯ä»€ä¹ˆâ“"}},[s._v("âšªå †æ ˆçš„åŒºåˆ«æ˜¯ä»€ä¹ˆâ“")])])])]),n("li",[n("a",{attrs:{href:"#ç±»åŠ è½½å™¨"}},[s._v("ç±»åŠ è½½å™¨")]),n("ul",[n("li",[n("a",{attrs:{href:"#âšª-ä»€ä¹ˆæ˜¯ç±»åŠ è½½å™¨-ç±»åŠ è½½å™¨æœ‰å“ªäº›â“"}},[s._v("âšª ä»€ä¹ˆæ˜¯ç±»åŠ è½½å™¨ï¼Œç±»åŠ è½½å™¨æœ‰å“ªäº›â“")])]),n("li",[n("a",{attrs:{href:"#âšª-ä»€ä¹ˆæ˜¯åŒäº²å§”æ´¾æ¨¡å‹â“"}},[s._v("âšª ä»€ä¹ˆæ˜¯åŒäº²å§”æ´¾æ¨¡å‹â“")])]),n("li",[n("a",{attrs:{href:"#âšª-jvmä¸ºä»€ä¹ˆé‡‡ç”¨åŒäº²å§”æ´¾æœºåˆ¶â“"}},[s._v("âšª JVMä¸ºä»€ä¹ˆé‡‡ç”¨åŒäº²å§”æ´¾æœºåˆ¶â“")])]),n("li",[n("a",{attrs:{href:"#âšª-è¯´ä¸€ä¸‹ç±»è£…è½½çš„æ‰§è¡Œè¿‡ç¨‹â“"}},[s._v("âšª è¯´ä¸€ä¸‹ç±»è£…è½½çš„æ‰§è¡Œè¿‡ç¨‹â“")])])])]),n("li",[n("a",{attrs:{href:"#åƒåœ¾å›æ”¶"}},[s._v("åƒåœ¾å›æ”¶")]),n("ul",[n("li",[n("a",{attrs:{href:"#âšª-å¯¹è±¡ä»€ä¹ˆæ—¶å€™å¯ä»¥è¢«åƒåœ¾å™¨å›æ”¶â“"}},[s._v("âšª å¯¹è±¡ä»€ä¹ˆæ—¶å€™å¯ä»¥è¢«åƒåœ¾å™¨å›æ”¶â“")])]),n("li",[n("a",{attrs:{href:"#âšª-å¼ºå¼•ç”¨ã€è½¯å¼•ç”¨ã€å¼±å¼•ç”¨ã€è™šå¼•ç”¨â“"}},[s._v("âšª å¼ºå¼•ç”¨ã€è½¯å¼•ç”¨ã€å¼±å¼•ç”¨ã€è™šå¼•ç”¨â“")])]),n("li",[n("a",{attrs:{href:"#âšª-jvm-åƒåœ¾å›æ”¶ç®—æ³•æœ‰å“ªäº›â“"}},[s._v("âšª JVM åƒåœ¾å›æ”¶ç®—æ³•æœ‰å“ªäº›â“")])]),n("li",[n("a",{attrs:{href:"#âšª-è¯´ä¸€ä¸‹jvmä¸­çš„åˆ†ä»£å›æ”¶â“"}},[s._v("âšª è¯´ä¸€ä¸‹JVMä¸­çš„åˆ†ä»£å›æ”¶â“")])]),n("li",[n("a",{attrs:{href:"#âšª-è¯´ä¸€ä¸‹jvmæœ‰å“ªäº›åƒåœ¾å›æ”¶å™¨â“"}},[s._v("âšª è¯´ä¸€ä¸‹JVMæœ‰å“ªäº›åƒåœ¾å›æ”¶å™¨â“")])]),n("li",[n("a",{attrs:{href:"#âšª-è¯¦ç»†èŠä¸€ä¸‹g1åƒåœ¾å›æ”¶å™¨â“"}},[s._v("âšª è¯¦ç»†èŠä¸€ä¸‹G1åƒåœ¾å›æ”¶å™¨â“")])])])]),n("li",[n("a",{attrs:{href:"#jvm-å®è·µ"}},[s._v("JVM å®è·µ")]),n("ul",[n("li",[n("a",{attrs:{href:"#âšª-jvm-è°ƒä¼˜çš„å‚æ•°å¯ä»¥åœ¨å“ªé‡Œè®¾ç½®â“"}},[s._v("âšª JVM è°ƒä¼˜çš„å‚æ•°å¯ä»¥åœ¨å“ªé‡Œè®¾ç½®â“")])]),n("li",[n("a",{attrs:{href:"#âšª-ç”¨çš„-jvm-è°ƒä¼˜çš„å‚æ•°éƒ½æœ‰å“ªäº›â“"}},[s._v("âšª ç”¨çš„ JVM è°ƒä¼˜çš„å‚æ•°éƒ½æœ‰å“ªäº›â“")])]),n("li",[n("a",{attrs:{href:"#âšª-è¯´ä¸€ä¸‹-jvm-è°ƒä¼˜çš„å·¥å…·â“"}},[s._v("âšª è¯´ä¸€ä¸‹ JVM è°ƒä¼˜çš„å·¥å…·â“")])]),n("li",[n("a",{attrs:{href:"#âšª-javaå†…å­˜æ³„éœ²çš„æ’æŸ¥æ€è·¯â“"}},[s._v("âšª Javaå†…å­˜æ³„éœ²çš„æ’æŸ¥æ€è·¯â“")])]),n("li",[n("a",{attrs:{href:"#âšª-cpué£™é«˜æ’æŸ¥æ–¹æ¡ˆä¸æ€è·¯â“"}},[s._v("âšª CPUé£™é«˜æ’æŸ¥æ–¹æ¡ˆä¸æ€è·¯â“")])])])])])]),n("li",[n("a",{attrs:{href:"#æ¡†æ¶ç¯‡"}},[s._v("æ¡†æ¶ç¯‡")])])])]),n("p"),s._v(" "),n("h2",{attrs:{id:"èµ„æº"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#èµ„æº"}},[s._v("#")]),s._v(" èµ„æº")]),s._v(" "),n("p",[s._v("ç½‘ç›˜ï¼šhttps://pan.baidu.com/s/1NQZDW-9_VCnEUXcXp_G-bA&pwd=9987")]),s._v(" "),n("h2",{attrs:{id:"redisç¯‡"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#redisç¯‡"}},[s._v("#")]),s._v(" Redisç¯‡")]),s._v(" "),n("p",[s._v("é¢è¯•é—®é¢˜æ€»è§ˆï¼š")]),s._v(" "),n("img",{staticClass:"zoom",attrs:{src:"https://raw.githubusercontent.com/DishuZ/PicGo/main/all/20240520001700.png",alt:"é»‘é©¬Redisé¢è¯•é—®é¢˜æ€»è§ˆ"}}),s._v(" "),n("h3",{attrs:{id:"é—®é¢˜-æˆ‘çœ‹ä½ åšçš„é¡¹ç›®ä¸­-éƒ½ç”¨åˆ°äº†-redis-ä½ åœ¨æœ€è¿‘çš„é¡¹ç›®ä¸­å“ªäº›åœºæ™¯ä½¿ç”¨äº†-redis-å‘¢"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#é—®é¢˜-æˆ‘çœ‹ä½ åšçš„é¡¹ç›®ä¸­-éƒ½ç”¨åˆ°äº†-redis-ä½ åœ¨æœ€è¿‘çš„é¡¹ç›®ä¸­å“ªäº›åœºæ™¯ä½¿ç”¨äº†-redis-å‘¢"}},[s._v("#")]),s._v(" é—®é¢˜ï¼šæˆ‘çœ‹ä½ åšçš„é¡¹ç›®ä¸­ï¼Œéƒ½ç”¨åˆ°äº† Redisï¼Œä½ åœ¨æœ€è¿‘çš„é¡¹ç›®ä¸­å“ªäº›åœºæ™¯ä½¿ç”¨äº† Redis å‘¢ï¼Ÿ")]),s._v(" "),n("p",[s._v("è¯¥é—®é¢˜ä¸€æ˜¯éªŒè¯ä½ çš„é¡¹ç›®åœºæ™¯çš„çœŸå®æ€§ï¼ŒäºŒæ˜¯ä¸ºäº†ä½œä¸ºæ·±å…¥å‘é—®çš„åˆ‡å…¥ç‚¹ã€‚å› æ­¤ï¼Œ"),n("strong",[s._v("è¦æ ¹æ®è‡ªå·±ç®€å†ä¸Šçš„ä¸šåŠ¡è¿›è¡Œå›ç­”")]),s._v("ã€‚")]),s._v(" "),n("p",[s._v("ä½¿ç”¨åœºæ™¯åŠå¯¹åº”æ·±å…¥é—®é¢˜ï¼š")]),s._v(" "),n("table",[n("thead",[n("tr",[n("th",{staticStyle:{"text-align":"center"}},[s._v("ä½¿ç”¨åœºæ™¯")]),s._v(" "),n("th",{staticStyle:{"text-align":"center"}},[s._v("æ·±å…¥é—®é¢˜")])])]),s._v(" "),n("tbody",[n("tr",[n("td",{staticStyle:{"text-align":"center"}},[s._v("ç¼“å­˜")]),s._v(" "),n("td",{staticStyle:{"text-align":"center"}},[s._v("ç¼“å­˜ä¸‰å…„å¼Ÿ (ç©¿é€ã€å‡»ç©¿ã€é›ªå´©) ã€åŒå†™ä¸€è‡´ã€æŒä¹…åŒ–ã€æ•°æ®è¿‡æœŸç­–ç•¥ï¼Œæ•°æ®æ·˜æ±°ç­–ç•¥")])]),s._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"center"}},[s._v("åˆ†å¼é”")]),s._v(" "),n("td",{staticStyle:{"text-align":"center"}},[s._v("setnxã€redisson")])]),s._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"center"}},[s._v("æ¶ˆæ¯é˜Ÿåˆ—ã€å»¶è¿Ÿé˜Ÿåˆ—")]),s._v(" "),n("td",{staticStyle:{"text-align":"center"}},[s._v("ä½•ç§æ•°æ®ç±»å‹")])])])]),s._v(" "),n("h4",{attrs:{id:"âšª-é—®é¢˜-ä»€ä¹ˆæ˜¯ç¼“å­˜ç©¿é€ã€å‡»ç©¿ã€é›ªå´©-å¦‚æœå‘ç”Ÿäº†ç¼“å­˜ç©¿é€ã€å‡»ç©¿ã€é›ªå´©-è¯¥å¦‚ä½•è§£å†³"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#âšª-é—®é¢˜-ä»€ä¹ˆæ˜¯ç¼“å­˜ç©¿é€ã€å‡»ç©¿ã€é›ªå´©-å¦‚æœå‘ç”Ÿäº†ç¼“å­˜ç©¿é€ã€å‡»ç©¿ã€é›ªå´©-è¯¥å¦‚ä½•è§£å†³"}},[s._v("#")]),s._v(" âšª é—®é¢˜ï¼šä»€ä¹ˆæ˜¯ç¼“å­˜ç©¿é€ã€å‡»ç©¿ã€é›ªå´©ï¼Ÿå¦‚æœå‘ç”Ÿäº†ç¼“å­˜ç©¿é€ã€å‡»ç©¿ã€é›ªå´©ï¼Œè¯¥å¦‚ä½•è§£å†³ï¼Ÿ")]),s._v(" "),n("h5",{attrs:{id:"âšª-â“ä»€ä¹ˆæ˜¯ç¼“å­˜ç©¿é€ã€å‡»ç©¿ã€é›ªå´©"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#âšª-â“ä»€ä¹ˆæ˜¯ç¼“å­˜ç©¿é€ã€å‡»ç©¿ã€é›ªå´©"}},[s._v("#")]),s._v(" âšª â“ä»€ä¹ˆæ˜¯ç¼“å­˜ç©¿é€ã€å‡»ç©¿ã€é›ªå´©ï¼Ÿ")]),s._v(" "),n("p",[s._v("ï¼ˆ1ï¼‰"),n("strong",[s._v("ç¼“å­˜ç©¿é€")])]),s._v(" "),n("p",[s._v("å½“ "),n("strong",[s._v("ç”¨æˆ·è®¿é—®çš„æ•°æ®ï¼Œæ—¢ä¸åœ¨ç¼“å­˜ä¸­ï¼Œä¹Ÿä¸åœ¨æ•°æ®åº“ä¸­")]),s._v("ï¼Œå¯¼è‡´è¯·æ±‚åœ¨è®¿é—®ç¼“å­˜æ—¶ï¼Œå‘ç°ç¼“å­˜ç¼ºå¤±ï¼Œå†å»è®¿é—®æ•°æ®åº“æ—¶ï¼Œå‘ç°æ•°æ®åº“ä¸­ä¹Ÿæ²¡æœ‰è¦è®¿é—®çš„æ•°æ®ï¼Œæ²¡åŠæ³•æ„å»ºç¼“å­˜æ•°æ®ï¼Œæ¥æœåŠ¡åç»­çš„è¯·æ±‚ã€‚é‚£ä¹ˆå½“æœ‰å¤§é‡è¿™æ ·çš„è¯·æ±‚åˆ°æ¥æ—¶ï¼Œæ•°æ®åº“çš„å‹åŠ›éª¤å¢ï¼Œè¿™å°±æ˜¯ "),n("strong",[s._v("ç¼“å­˜ç©¿é€")]),s._v(" çš„é—®é¢˜ã€‚")]),s._v(" "),n("p",[s._v("ï¼ˆ2ï¼‰"),n("strong",[s._v("ç¼“å­˜å‡»ç©¿")])]),s._v(" "),n("p",[n("strong",[s._v("ç¼“å­˜ä¸­çš„æŸä¸ªçƒ­ç‚¹æ•°æ®è¿‡æœŸäº†")]),s._v("ï¼Œæ­¤æ—¶å¤§é‡çš„è¯·æ±‚è®¿é—®äº†è¯¥çƒ­ç‚¹æ•°æ®ï¼Œå°±æ— æ³•ä»ç¼“å­˜ä¸­è¯»å–ï¼Œç›´æ¥è®¿é—®æ•°æ®åº“ï¼Œæ•°æ®åº“å¾ˆå®¹æ˜“å°±è¢« "),n("strong",[s._v("é«˜å¹¶å‘çš„è¯·æ±‚")]),s._v(" å†²å®ï¼Œè¿™å°±æ˜¯ "),n("strong",[s._v("ç¼“å­˜å‡»ç©¿")]),s._v(" çš„é—®é¢˜ã€‚")]),s._v(" "),n("p",[s._v("ï¼ˆ3ï¼‰"),n("strong",[s._v("ç¼“å­˜é›ªå´©")])]),s._v(" "),n("p",[s._v("å½“ "),n("strong",[s._v("å¤§é‡ç¼“å­˜æ•°æ®åœ¨åŒä¸€æ—¶é—´è¿‡æœŸï¼ˆå¤±æ•ˆï¼‰æˆ–è€… Redis æ•…éšœå®•æœº")]),s._v(" æ—¶ï¼Œå¦‚æœæ­¤æ—¶æœ‰å¤§é‡çš„ç”¨æˆ·è¯·æ±‚ï¼Œéƒ½æ— æ³•åœ¨ Redis ä¸­å¤„ç†ï¼Œäºæ˜¯å…¨éƒ¨è¯·æ±‚éƒ½ç›´æ¥è®¿é—®æ•°æ®åº“ï¼Œä»è€Œå¯¼è‡´æ•°æ®åº“çš„å‹åŠ›éª¤å¢ï¼Œä¸¥é‡çš„ä¼šé€ æˆæ•°æ®åº“å®•æœºï¼Œä»è€Œå½¢æˆä¸€ç³»åˆ—è¿é”ååº”ï¼Œé€ æˆæ•´ä¸ªç³»ç»Ÿå´©æºƒï¼Œè¿™å°±æ˜¯ "),n("strong",[s._v("ç¼“å­˜é›ªå´©")]),s._v(" çš„é—®é¢˜")]),s._v(" "),n("img",{staticClass:"zoom",attrs:{src:"https://raw.githubusercontent.com/DishuZ/PicGo/main/all/20240520100823.png",alt:"å°æ—Coding-ç¼“å­˜å¼‚å¸¸æ€»ç»“"}}),s._v(" "),n("h5",{attrs:{id:"âšª-â“æ€ä¹ˆè§£å†³ç¼“å­˜ç©¿é€"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#âšª-â“æ€ä¹ˆè§£å†³ç¼“å­˜ç©¿é€"}},[s._v("#")]),s._v(" âšª â“æ€ä¹ˆè§£å†³ç¼“å­˜ç©¿é€ï¼Ÿ")]),s._v(" "),n("p",[s._v("â–£ è§£å†³æ–¹æ¡ˆ1ï¼šé™åˆ¶éæ³•è¯·æ±‚")]),s._v(" "),n("p",[s._v("åœ¨ API å…¥å£å¤„ï¼ˆåœ¨è®¿é—®ç¼“å­˜å’Œæ•°æ®åº“ä¹‹å‰ï¼‰åˆ¤æ–­è¯·æ±‚å‚æ•°æ˜¯å¦åˆç†ï¼ˆæ•°æ®åˆæ³•æ€§æ ¡éªŒï¼‰ï¼Œè¯·æ±‚å‚æ•°æ˜¯å¦å«æœ‰éæ³•å€¼ã€è¯·æ±‚å­—æ®µæ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœåˆ¤æ–­å‡ºæ˜¯æ¶æ„è¯·æ±‚å°±ç›´æ¥è¿”å›é”™è¯¯ï¼Œé¿å…è¿›ä¸€æ­¥è®¿é—®ç¼“å­˜å’Œæ•°æ®åº“ã€‚")]),s._v(" "),n("p",[s._v("â–£ è§£å†³æ–¹æ¡ˆ2ï¼šç¼“å­˜ç©ºå€¼æˆ–è€…é»˜è®¤å€¼")]),s._v(" "),n("p",[s._v("å¯é’ˆå¯¹æŸ¥è¯¢çš„æ•°æ®ï¼Œåœ¨ç¼“å­˜ä¸­è®¾ç½®ä¸€ä¸ªç©ºå€¼æˆ–è€…é»˜è®¤å€¼ï¼Œè¿™æ ·åç»­è¯·æ±‚å°±å¯ä»¥ä»ç¼“å­˜ä¸­è¯»å–åˆ°ç©ºå€¼æˆ–è€…é»˜è®¤å€¼ï¼Œè¿”å›ç»™åº”ç”¨ï¼Œè€Œä¸ä¼šç»§ç»­æŸ¥è¯¢æ•°æ®åº“ã€‚")]),s._v(" "),n("ul",[n("li",[s._v("ä¼˜ç‚¹ï¼šç®€å•")]),s._v(" "),n("li",[s._v("ç¼ºç‚¹ï¼šæ¶ˆè€—å†…å­˜ï¼Œå¯èƒ½ä¼šå‘ç”Ÿæ•°æ®ä¸ä¸€è‡´çš„é—®é¢˜")])]),s._v(" "),n("p",[s._v("â–£ è§£å†³æ–¹æ¡ˆ3ï¼šå¸ƒéš†è¿‡æ»¤å™¨å¿«é€Ÿåˆ¤æ–­æ•°æ®æ˜¯å¦å­˜åœ¨")]),s._v(" "),n("p",[s._v("åœ¨å†™å…¥æ•°æ®åº“æ•°æ®æ—¶ï¼Œä½¿ç”¨å¸ƒéš†è¿‡æ»¤å™¨åšä¸ªæ ‡è®°ï¼Œç„¶ååœ¨ç”¨æˆ·è¯·æ±‚åˆ°æ¥æ—¶ï¼Œå¯ä»¥é€šè¿‡æŸ¥è¯¢å¸ƒéš†è¿‡æ»¤å™¨å¿«é€Ÿåˆ¤æ–­æ•°æ®æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œè¯´æ˜æ•°æ®åº“ä¸­ä¸å­˜åœ¨è¯¥æ•°æ®ï¼Œåˆ™ç›´æ¥è¿”å›ï¼Œæ— éœ€æŸ¥è¯¢æ•°æ®åº“ã€‚")]),s._v(" "),n("p",[s._v("å³ä½¿å‘ç”Ÿäº†ç¼“å­˜ç©¿é€ï¼Œå¤§é‡è¯·æ±‚åªä¼šæŸ¥è¯¢ Redis å’Œå¸ƒéš†è¿‡æ»¤å™¨ï¼Œè€Œä¸ä¼šæŸ¥è¯¢æ•°æ®åº“ï¼Œä¿è¯äº†æ•°æ®åº“èƒ½æ­£å¸¸è¿è¡Œã€‚")]),s._v(" "),n("ul",[n("li",[s._v("ä¼˜ç‚¹ï¼šå†…å­˜å ç”¨è¾ƒå°‘ï¼Œæ²¡æœ‰å¤šä½™ key")]),s._v(" "),n("li",[s._v("ç¼ºç‚¹ï¼šå®ç°å¤æ‚ï¼Œå­˜åœ¨è¯¯åˆ¤")])]),s._v(" "),n("h5",{attrs:{id:"âšª-â“æ€ä¹ˆè§£å†³ç¼“å­˜å‡»ç©¿"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#âšª-â“æ€ä¹ˆè§£å†³ç¼“å­˜å‡»ç©¿"}},[s._v("#")]),s._v(" âšª â“æ€ä¹ˆè§£å†³ç¼“å­˜å‡»ç©¿ï¼Ÿ")]),s._v(" "),n("p",[s._v("â–£ è§£å†³æ–¹æ¡ˆ1ï¼šäº’æ–¥é”")]),s._v(" "),n("p",[s._v("åœ¨ç¼“å­˜å¤±æ•ˆæ—¶ï¼Œéœ€è¦å»è®¿é—®æ•°æ®åº“æ›´æ–°ç¼“å­˜ã€‚å› æ­¤ï¼Œé€šè¿‡æ·»åŠ äº’æ–¥é”ï¼Œä¿è¯åŒä¸€æ—¶é—´åªæœ‰ä¸€ä¸ªä¸šåŠ¡çº¿ç¨‹æ›´æ–°ç¼“å­˜ï¼Œæœªèƒ½è·å–äº’æ–¥é”çš„è¯·æ±‚ï¼Œè¦ä¹ˆç­‰å¾…é”é‡Šæ”¾åé‡æ–°è¯»å–ç¼“å­˜ï¼Œè¦ä¹ˆå°±è¿”å›ç©ºå€¼æˆ–è€…é»˜è®¤å€¼ã€‚")]),s._v(" "),n("p",[s._v("â–£ è§£å†³æ–¹æ¡ˆ2ï¼šä¸ç»™çƒ­ç‚¹æ•°æ®è®¾ç½®è¿‡æœŸæ—¶é—´ / é€»è¾‘è¿‡æœŸ")]),s._v(" "),n("p",[s._v("åœ¨è®¾ç½®ç¼“å­˜æ—¶ï¼Œç»™keyæ·»åŠ ä¸€ä¸ªè¿‡æœŸæ—¶é—´å­—æ®µã€‚åœ¨æŸ¥è¯¢ç¼“å­˜æ•°æ®æ—¶ï¼Œåˆ¤æ–­æ•°æ®çš„è¿‡æœŸæ—¶é—´å­—æ®µæ˜¯å¦è¿‡æœŸã€‚")]),s._v(" "),n("p",[s._v("å¦‚æœè¿‡æœŸäº†ï¼Œå¼€ä¸€ä¸ªçº¿ç¨‹ç”±åå°å¼‚æ­¥æ›´æ–°ç¼“å­˜ï¼Œæˆ–è€…åœ¨çƒ­ç‚¹æ•°æ®å‡†å¤‡è¦è¿‡æœŸå‰ï¼Œæå‰é€šçŸ¥åå°çº¿ç¨‹æ›´æ–°ç¼“å­˜ï¼Œå¹¶é‡æ–°è®¾ç½®è¿‡æœŸæ—¶é—´å­—æ®µã€‚å½“å‰è¯·æ±‚çº¿ç¨‹ä»ç„¶æ­£å¸¸è¿”å›æ•°æ®ï¼Œè¿™ä¸ªæ•°æ®ä¸æ˜¯è¿˜æœ€æ–°çš„ã€‚")]),s._v(" "),n("img",{staticClass:"zoom",attrs:{src:"https://raw.githubusercontent.com/DishuZ/PicGo/main/all/20240520104948.png",alt:"ç¼“å­˜å‡»ç©¿è§£å†³æ–¹æ¡ˆï¼šäº’æ–¥é”&é€»è¾‘è¿‡æœŸ"}}),s._v(" "),n("h5",{attrs:{id:"âšª-â“æ€ä¹ˆè§£å†³ç¼“å­˜é›ªå´©"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#âšª-â“æ€ä¹ˆè§£å†³ç¼“å­˜é›ªå´©"}},[s._v("#")]),s._v(" âšª â“æ€ä¹ˆè§£å†³ç¼“å­˜é›ªå´©ï¼Ÿ")]),s._v(" "),n("p",[s._v("å‘ç”Ÿç¼“å­˜é›ªå´©æœ‰ä¸¤ä¸ªåŸå› ï¼š")]),s._v(" "),n("ol",[n("li",[s._v("å¤§é‡æ•°æ®åŒæ—¶è¿‡æœŸ")]),s._v(" "),n("li",[s._v("Redis æ•…éšœå®•æœº")])]),s._v(" "),n("p",[s._v("ä¸åŒçš„è¯±å› ï¼Œåº”å¯¹çš„ç­–ç•¥ä¹Ÿä¼šä¸åŒã€‚")]),s._v(" "),n("p",[s._v("â—‰ "),n("strong",[s._v("åŸå› 1ï¼šå¤§é‡æ•°æ®åŒæ—¶è¿‡æœŸ")])]),s._v(" "),n("p",[s._v("â–£ è§£å†³æ–¹æ¡ˆ1ï¼šå‡åŒ€è®¾ç½®è¿‡æœŸæ—¶é—´")]),s._v(" "),n("p",[s._v("é¿å…å°†å¤§é‡çš„æ•°æ®è®¾ç½®æˆåŒä¸€ä¸ªè¿‡æœŸæ—¶é—´ï¼Œæ‰€ä»¥åœ¨å¯¹ç¼“å­˜æ•°æ®è®¾ç½®è¿‡æœŸæ—¶é—´æ—¶ï¼Œç»™è¿™äº›æ•°æ®çš„è¿‡æœŸæ—¶é—´åŠ ä¸Šä¸€ä¸ªéšæœºæ•°ï¼Œè¿™æ ·å°±ä¿è¯æ•°æ®ä¸ä¼šåœ¨åŒä¸€æ—¶é—´è¿‡æœŸã€‚")]),s._v(" "),n("p",[s._v("â–£ è§£å†³æ–¹æ¡ˆ2ï¼šäº’æ–¥é”")]),s._v(" "),n("p",[s._v("å½“ä¸šåŠ¡çº¿ç¨‹åœ¨å¤„ç†ç”¨æˆ·è¯·æ±‚æ—¶ï¼Œå¦‚æœå‘ç°è®¿é—®çš„æ•°æ®ä¸åœ¨ Redis é‡Œï¼Œå°±åŠ ä¸ªäº’æ–¥é”ï¼Œä¿è¯åŒä¸€æ—¶é—´å†…åªæœ‰ä¸€ä¸ªè¯·æ±‚æ¥æ„å»ºç¼“å­˜ï¼ˆä»æ•°æ®åº“è¯»å–æ•°æ®ï¼Œå†å°†æ•°æ®æ›´æ–°åˆ° Redis é‡Œï¼‰ï¼Œå½“ç¼“å­˜æ„å»ºå®Œæˆåï¼Œå†é‡Šæ”¾é”ã€‚æœªèƒ½è·å–äº’æ–¥é”çš„è¯·æ±‚ï¼Œè¦ä¹ˆç­‰å¾…é”é‡Šæ”¾åé‡æ–°è¯»å–ç¼“å­˜ï¼Œè¦ä¹ˆå°±è¿”å›ç©ºå€¼æˆ–è€…é»˜è®¤å€¼ã€‚")]),s._v(" "),n("p",[s._v("å®ç°äº’æ–¥é”çš„æ—¶å€™ï¼Œæœ€å¥½è®¾ç½®è¶…æ—¶æ—¶é—´ï¼Œä¸ç„¶ç¬¬ä¸€ä¸ªè¯·æ±‚æ‹¿åˆ°äº†é”ï¼Œç„¶åè¿™ä¸ªè¯·æ±‚å‘ç”Ÿäº†æŸç§æ„å¤–è€Œä¸€ç›´é˜»å¡ï¼Œä¸€ç›´ä¸é‡Šæ”¾é”ï¼Œè¿™æ—¶å…¶ä»–è¯·æ±‚ä¹Ÿä¸€ç›´æ‹¿ä¸åˆ°é”ï¼Œæ•´ä¸ªç³»ç»Ÿå°±ä¼šå‡ºç°æ— å“åº”çš„ç°è±¡ã€‚")]),s._v(" "),n("p",[s._v("â–£ è§£å†³æ–¹æ¡ˆ3ï¼šåå°æ›´æ–°ç¼“å­˜ / ä¸ç»™çƒ­ç‚¹æ•°æ®è®¾ç½®è¿‡æœŸæ—¶é—´ / é€»è¾‘è¿‡æœŸ")]),s._v(" "),n("p",[s._v("â—‰ "),n("strong",[s._v("åŸå› 2ï¼šRedis æ•…éšœå®•æœº")])]),s._v(" "),n("p",[s._v("â–£ è§£å†³æ–¹æ¡ˆ1ï¼šæœåŠ¡ç†”æ–­æˆ–è¯·æ±‚é™æµæœºåˆ¶")]),s._v(" "),n("p",[s._v("å› ä¸º Redis æ•…éšœå®•æœºè€Œå¯¼è‡´ç¼“å­˜é›ªå´©é—®é¢˜æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥å¯åŠ¨ "),n("strong",[s._v("æœåŠ¡ç†”æ–­æœºåˆ¶")]),s._v("ï¼Œæš‚åœä¸šåŠ¡åº”ç”¨å¯¹ç¼“å­˜æœåŠ¡çš„è®¿é—®ï¼Œç›´æ¥è¿”å›é”™è¯¯ï¼Œä¸ç”¨å†ç»§ç»­è®¿é—®æ•°æ®åº“ï¼Œä»è€Œé™ä½å¯¹æ•°æ®åº“çš„è®¿é—®å‹åŠ›ï¼Œä¿è¯æ•°æ®åº“ç³»ç»Ÿçš„æ­£å¸¸è¿è¡Œï¼Œç„¶åç­‰åˆ° Redis æ¢å¤æ­£å¸¸åï¼Œå†å…è®¸ä¸šåŠ¡åº”ç”¨è®¿é—®ç¼“å­˜æœåŠ¡ã€‚")]),s._v(" "),n("p",[s._v("æœåŠ¡ç†”æ–­æœºåˆ¶æ˜¯ä¿æŠ¤æ•°æ®åº“çš„æ­£å¸¸å…è®¸ï¼Œä½†æ˜¯æš‚åœäº†ä¸šåŠ¡åº”ç”¨è®¿é—®ç¼“å­˜æœç³»ç»Ÿï¼Œå…¨éƒ¨ä¸šåŠ¡éƒ½æ— æ³•æ­£å¸¸å·¥ä½œï¼Œæ‰€ä»¥è¦å®¡æ…é€‰æ‹©è¯¥æ“ä½œã€‚")]),s._v(" "),n("p",[s._v("ä¸ºäº†å‡å°‘å¯¹ä¸šåŠ¡çš„å½±å“ï¼Œæˆ‘ä»¬å¯ä»¥å¯ç”¨ "),n("strong",[s._v("è¯·æ±‚é™æµæœºåˆ¶")]),s._v("ï¼Œåªå°†å°‘éƒ¨åˆ†è¯·æ±‚å‘é€åˆ°æ•°æ®åº“è¿›è¡Œå¤„ç†ï¼Œå†å¤šçš„è¯·æ±‚å°±åœ¨å…¥å£ç›´æ¥æ‹’ç»æœåŠ¡ï¼Œç­‰åˆ° Redis æ¢å¤æ­£å¸¸å¹¶æŠŠç¼“å­˜é¢„çƒ­å®Œåï¼Œå†è§£é™¤è¯·æ±‚é™æµçš„æœºåˆ¶ã€‚")]),s._v(" "),n("p",[s._v("â–£ è§£å†³æ–¹æ¡ˆ2ï¼šæ„å»º Redis ç¼“å­˜é«˜å¯é é›†ç¾¤")]),s._v(" "),n("p",[s._v("æœåŠ¡ç†”æ–­æˆ–è¯·æ±‚é™æµæœºåˆ¶æ˜¯ç¼“å­˜é›ªå´©å‘ç”Ÿåçš„åº”å¯¹æ–¹æ¡ˆï¼Œæˆ‘ä»¬æœ€å¥½é€šè¿‡ä¸»ä»èŠ‚ç‚¹çš„æ–¹å¼æ„å»º Redis ç¼“å­˜é«˜å¯é é›†ç¾¤ã€‚")]),s._v(" "),n("p",[s._v("å¦‚æœ Redis ç¼“å­˜çš„ä¸»èŠ‚ç‚¹æ•…éšœå®•æœºï¼Œä»èŠ‚ç‚¹å¯ä»¥åˆ‡æ¢æˆä¸ºä¸»èŠ‚ç‚¹ï¼Œç»§ç»­æä¾›ç¼“å­˜æœåŠ¡ï¼Œé¿å…äº†ç”±äº Redis æ•…éšœå®•æœºè€Œå¯¼è‡´çš„ç¼“å­˜é›ªå´©é—®é¢˜ã€‚")]),s._v(" "),n("h4",{attrs:{id:"âšª-é—®é¢˜-redisåšä¸ºç¼“å­˜-mysqlçš„æ•°æ®å¦‚ä½•ä¸redisè¿›è¡ŒåŒæ­¥å‘¢-åŒå†™ä¸€è‡´æ€§"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#âšª-é—®é¢˜-redisåšä¸ºç¼“å­˜-mysqlçš„æ•°æ®å¦‚ä½•ä¸redisè¿›è¡ŒåŒæ­¥å‘¢-åŒå†™ä¸€è‡´æ€§"}},[s._v("#")]),s._v(" âšª é—®é¢˜ï¼šRedisåšä¸ºç¼“å­˜ï¼ŒMysqlçš„æ•°æ®å¦‚ä½•ä¸Redisè¿›è¡ŒåŒæ­¥å‘¢ï¼Ÿï¼ˆåŒå†™ä¸€è‡´æ€§ï¼‰")]),s._v(" "),n("p",[s._v("ç®€å•å›é¡¾æ•°æ®ä¸€è‡´æ€§é—®é¢˜ï¼š")]),s._v(" "),n("p",[s._v("å¼•å…¥Redisç¼“å­˜åï¼Œå®¢æˆ·ç«¯è¯·æ±‚æ•°æ®æ—¶ï¼Œå¦‚æœèƒ½åœ¨ç¼“å­˜ä¸­å‘½ä¸­æ•°æ®ï¼Œé‚£å°±æŸ¥è¯¢ç¼“å­˜ï¼Œä¸ç”¨åœ¨å»æŸ¥è¯¢æ•°æ®åº“ï¼Œä»è€Œå‡è½»æ•°æ®åº“çš„å‹åŠ›ï¼Œæé«˜æœåŠ¡å™¨çš„æ€§èƒ½ã€‚")]),s._v(" "),n("p",[s._v("ä½†æ˜¯å¼•å…¥äº†ç¼“å­˜ï¼Œé‚£ä¹ˆåœ¨æ•°æ®æ›´æ–°æ—¶ï¼Œéœ€è¦åŒæ—¶å¤„ç†Redisç¼“å­˜å’ŒMysqlæ•°æ®åº“ä¸­çš„æ•°æ®ï¼Œè¿™å…¶ä¸­å°±æ¶‰åŠåˆ°æ•°æ®ä¸€è‡´æ€§çš„é—®é¢˜ã€‚")]),s._v(" "),n("p",[n("strong",[s._v("æ€è·¯1")]),s._v("ï¼šæ•°æ®æ›´æ–°æ—¶ï¼ŒåŒæ—¶æ›´æ–°ç¼“å­˜å’Œæ•°æ®åº“")]),s._v(" "),n("ul",[n("li",[s._v("ç­–ç•¥1ï¼šå…ˆæ›´æ–°ç¼“å­˜ï¼Œå†æ›´æ–°æ•°æ®åº“")]),s._v(" "),n("li",[s._v("ç­–ç•¥2ï¼šå…ˆæ›´æ–°æ•°æ®åº“ï¼Œå†æ›´æ–°ç¼“å­˜")])]),s._v(" "),n("p",[s._v("è¿™ä¸¤ä¸ªæ–¹æ¡ˆéƒ½å­˜åœ¨å¹¶å‘é—®é¢˜ï¼Œå½“ä¸¤ä¸ªè¯·æ±‚å¹¶å‘æ›´æ–°åŒä¸€æ¡æ•°æ®çš„æ—¶å€™ï¼Œå¯èƒ½ä¼šå‡ºç°ç¼“å­˜å’Œæ•°æ®åº“ä¸­çš„æ•°æ®ä¸ä¸€è‡´çš„ç°è±¡")]),s._v(" "),n("p",[n("strong",[s._v("å¦‚æœæˆ‘ä»¬çš„ä¸šåŠ¡å¯¹ç¼“å­˜å‘½ä¸­ç‡æœ‰å¾ˆé«˜çš„è¦æ±‚ï¼Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨ã€Œæ›´æ–°æ•°æ®åº“ + æ›´æ–°ç¼“å­˜ã€çš„æ–¹æ¡ˆ")]),s._v("ï¼Œå› ä¸ºè¿™ç§ç­–ç•¥ä¸ä¼šå‡ºç°ç¼“å­˜æœªå‘½ä¸­çš„æƒ…å†µã€‚åŒæ—¶å¢åŠ ä¸€äº›æ‰‹æ®µæ¥è§£å†³æ•°æ®ä¸ä¸€è‡´çš„é—®é¢˜ï¼Œè¿™é‡Œæä¾›ä¸¤ç§åšæ³•ï¼š")]),s._v(" "),n("ul",[n("li",[s._v("åœ¨æ›´æ–°ç¼“å­˜å‰å…ˆ"),n("strong",[s._v("åŠ ä¸ªåˆ†å¸ƒå¼é”")]),s._v("ï¼Œä¿è¯åŒä¸€æ—¶é—´åªè¿è¡Œä¸€ä¸ªè¯·æ±‚æ›´æ–°ç¼“å­˜ï¼Œå°±ä¼šä¸ä¼šäº§ç”Ÿå¹¶å‘é—®é¢˜äº†ï¼Œå½“ç„¶å¼•å…¥äº†é”åï¼Œå¯¹äºå†™å…¥çš„æ€§èƒ½å°±ä¼šå¸¦æ¥å½±å“ã€‚")]),s._v(" "),n("li",[s._v("åœ¨æ›´æ–°å®Œç¼“å­˜æ—¶ï¼Œç»™ç¼“å­˜"),n("strong",[s._v("åŠ ä¸Šè¾ƒçŸ­çš„è¿‡æœŸæ—¶é—´")]),s._v("ï¼Œè¿™æ ·å³æ—¶å‡ºç°ç¼“å­˜ä¸ä¸€è‡´çš„æƒ…å†µï¼Œç¼“å­˜çš„æ•°æ®ä¹Ÿä¼šå¾ˆå¿«è¿‡æœŸï¼Œå¯¹ä¸šåŠ¡è¿˜æ˜¯èƒ½æ¥å—çš„ã€‚")])]),s._v(" "),n("p",[n("strong",[s._v("æ€è·¯2")]),s._v("ï¼šå†™æ“ä½œâ€”æ•°æ®æ›´æ–°æ—¶ï¼Œåªæ›´æ–°æ•°æ®åº“ï¼Œåˆ é™¤ç¼“å­˜ï¼›è¯»æ“ä½œâ€”åœ¨æ•°æ®è¯»å–æ—¶ï¼Œå¦‚æœç¼“å­˜å‘½ä¸­ï¼Œç›´æ¥è¿”å›ã€‚å¦‚æœç¼“å­˜æœªå‘½ä¸­ï¼Œåˆ™æŸ¥è¯¢æ•°æ®åº“æ•°æ®ï¼Œå†™å…¥ç¼“å­˜è®¾ç½®è¶…æ—¶æ—¶é—´ã€‚")]),s._v(" "),n("ul",[n("li",[s._v("ç­–ç•¥1ï¼šå…ˆåˆ é™¤ç¼“å­˜ï¼Œå†æ›´æ–°æ•°æ®åº“")]),s._v(" "),n("li",[s._v("ç­–ç•¥2ï¼šå…ˆæ›´æ–°æ•°æ®åº“ï¼Œå†åˆ é™¤ç¼“å­˜")])]),s._v(" "),n("p",[s._v("ç­–ç•¥1 åœ¨ã€Œè¯»æ“ä½œ+å†™æ“ä½œã€å¹¶å‘çš„æ—¶å€™ï¼Œè¿˜æ˜¯ä¼šå‡ºç°ç¼“å­˜å’Œæ•°æ®åº“çš„æ•°æ®ä¸ä¸€è‡´çš„é—®é¢˜ã€‚è€Œ ç­–ç•¥2 åœ¨åŸå­æ“ä½œä¸‹ä¸€å®šç¨‹åº¦ä¸Šå¯ä»¥ä¿è¯æ•°æ®ä¸€è‡´æ€§ã€‚")]),s._v(" "),n("p",[s._v("é’ˆå¯¹ç­–ç•¥1åœ¨ã€Œè¯»æ“ä½œ+å†™æ“ä½œã€å¹¶å‘è¯·æ±‚è€Œé€ æˆç¼“å­˜ä¸ä¸€è‡´çš„è§£å†³åŠæ³•æ˜¯ã€Œå»¶è¿ŸåŒåˆ ã€ï¼Œä¼ªä»£ç å¦‚ä¸‹ï¼š")]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# åˆ é™¤ç¼“å­˜")]),s._v("\nredis.delKey"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("X"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ›´æ–°æ•°æ®åº“")]),s._v("\ndb.update"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("X"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ç¡çœ ")]),s._v("\nThread.sleep"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("N"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å†åˆ é™¤ç¼“å­˜")]),s._v("\nredis.delKey"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("X"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("p",[s._v("ç­–ç•¥2åœ¨åŸå­æ“ä½œä¸‹å¯ä»¥ä¿è¯æ•°æ®ä¸€è‡´æ€§ï¼Œä¹Ÿå°±æ˜¯è¯´è¿˜æ˜¯å¯èƒ½å‡ºç°æ•°æ®ä¸ä¸€è‡´çš„é—®é¢˜ï¼Œæ€ä¹ˆå‘ç”Ÿçš„ï¼Ÿå…¶å®å°±æ˜¯ï¼šåœ¨åˆ é™¤ç¼“å­˜ï¼ˆç¬¬äºŒä¸ªæ“ä½œï¼‰çš„æ—¶å€™å¤±è´¥äº†ï¼Œå¯¼è‡´ç¼“å­˜è¿˜æ˜¯æ—§å€¼ï¼Œè€Œæ•°æ®åº“æ˜¯æœ€æ–°å€¼ï¼Œé€ æˆæ•°æ®åº“å’Œç¼“å­˜æ•°æ®ä¸ä¸€è‡´çš„é—®é¢˜ï¼Œä¼šå¯¹æ•æ„Ÿä¸šåŠ¡é€ æˆå½±å“ã€‚")]),s._v(" "),n("p",[s._v("æœ‰ä¸¤ç§è§£å†³æ–¹æ³•ï¼š")]),s._v(" "),n("ul",[n("li",[s._v("æ–¹æ³•1ï¼šé‡è¯•æœºåˆ¶â€”å¼•å…¥æ¶ˆæ¯é˜Ÿåˆ—ï¼Œå°†ç¬¬äºŒä¸ªæ“ä½œï¼ˆåˆ é™¤ç¼“å­˜ï¼‰è¦æ“ä½œçš„æ•°æ®åŠ å…¥åˆ°æ¶ˆæ¯é˜Ÿåˆ—ï¼Œç”±æ¶ˆè´¹è€…æ¥æ“ä½œæ•°æ®ã€‚\n"),n("ul",[n("li",[s._v("å¦‚æœåº”ç”¨åˆ é™¤ç¼“å­˜å¤±è´¥ï¼Œå¯ä»¥ä»æ¶ˆæ¯é˜Ÿåˆ—ä¸­é‡æ–°è¯»å–æ•°æ®ï¼Œç„¶åå†æ¬¡åˆ é™¤ç¼“å­˜ï¼Œè¿™ä¸ªå°±æ˜¯é‡è¯•æœºåˆ¶ã€‚å½“ç„¶ï¼Œå¦‚æœé‡è¯•è¶…è¿‡çš„ä¸€å®šæ¬¡æ•°ï¼Œè¿˜æ˜¯æ²¡æœ‰æˆåŠŸï¼Œæˆ‘ä»¬å°±éœ€è¦å‘ä¸šåŠ¡å±‚å‘é€æŠ¥é”™ä¿¡æ¯äº†ã€‚")]),s._v(" "),n("li",[s._v("å¦‚æœåˆ é™¤ç¼“å­˜æˆåŠŸï¼Œå°±è¦æŠŠæ•°æ®ä»æ¶ˆæ¯é˜Ÿåˆ—ä¸­ç§»é™¤ï¼Œé¿å…é‡å¤æ“ä½œï¼Œå¦åˆ™å°±ç»§ç»­é‡è¯•ã€‚")])])])]),s._v(" "),n("img",{staticClass:"zoom",attrs:{src:"https://raw.githubusercontent.com/DishuZ/PicGo/main/all/20240520154503.png",alt:"å…ˆæ›´æ–°æ•°æ®åº“ï¼Œå†åˆ é™¤ç¼“å­˜â€”å¼‚æ­¥æ–¹æ¡ˆâ€”MQé‡è¯•æœºåˆ¶"}}),s._v(" "),n("ul",[n("li",[s._v("æ–¹æ³•2ï¼šè®¢é˜… MySQL binlogï¼Œå†æ“ä½œç¼“å­˜ã€‚")])]),s._v(" "),n("img",{staticClass:"zoom",attrs:{src:"https://raw.githubusercontent.com/DishuZ/PicGo/main/all/20240520154813.png",alt:"å…ˆæ›´æ–°æ•°æ®åº“ï¼Œå†åˆ é™¤ç¼“å­˜â€”å¼‚æ­¥æ–¹æ¡ˆâ€”è®¢é˜… MySQL binlog"}}),s._v(" "),n("h4",{attrs:{id:"âšª-é—®é¢˜-redisåšä¸ºç¼“å­˜-æ•°æ®çš„æŒä¹…åŒ–æ˜¯æ€ä¹ˆåšçš„"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#âšª-é—®é¢˜-redisåšä¸ºç¼“å­˜-æ•°æ®çš„æŒä¹…åŒ–æ˜¯æ€ä¹ˆåšçš„"}},[s._v("#")]),s._v(" âšª é—®é¢˜ï¼šRedisåšä¸ºç¼“å­˜ï¼Œæ•°æ®çš„æŒä¹…åŒ–æ˜¯æ€ä¹ˆåšçš„ï¼Ÿ")]),s._v(" "),n("h2",{attrs:{id:"ğŸ¯javaé›†åˆç¯‡"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ¯javaé›†åˆç¯‡"}},[s._v("#")]),s._v(" ğŸ¯Javaé›†åˆç¯‡")]),s._v(" "),n("h3",{attrs:{id:"listç›¸å…³é¢è¯•é¢˜"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#listç›¸å…³é¢è¯•é¢˜"}},[s._v("#")]),s._v(" Listç›¸å…³é¢è¯•é¢˜")]),s._v(" "),n("h4",{attrs:{id:"âšª-arrayliståº•å±‚çš„å®ç°åŸç†â“"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#âšª-arrayliståº•å±‚çš„å®ç°åŸç†â“"}},[s._v("#")]),s._v(" âšª ArrayListåº•å±‚çš„å®ç°åŸç†â“")]),s._v(" "),n("h4",{attrs:{id:"âšª-arraylistçš„æ‰©å®¹æœºåˆ¶â“"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#âšª-arraylistçš„æ‰©å®¹æœºåˆ¶â“"}},[s._v("#")]),s._v(" âšª ArrayListçš„æ‰©å®¹æœºåˆ¶â“")]),s._v(" "),n("div",{staticClass:"zenbu-answer"},[n("p",{staticClass:"zenbu-answer-title"},[s._v("ğŸ™‹ğŸ»â€â™‚ï¸ ç­”ï¼š")]),n("div",{staticClass:"zenbu-answer-context"},[n("p",[n("strong",[s._v("æ‰©å®¹æ ¸å¿ƒæ–¹æ³•")]),s._v("ï¼š"),n("code",[s._v("grow(int minCapacity)")]),s._v(", å‚æ•°è¡¨ç¤ºæœ€å°éœ€è¦å®¹é‡ï¼Œæ˜¯ä¸ºäº†ä¿è¯æ•°ç»„é•¿åº¦èƒ½å¤Ÿå®¹çº³è‡³å°‘ "),n("code",[s._v("minCapacity")]),s._v(" ä¸ªå…ƒç´ ")]),s._v(" "),n("p",[n("strong",[s._v("æ‰©å®¹æœºåˆ¶")]),s._v("ï¼š")]),s._v(" "),n("ul",[n("li",[s._v("åœ¨è°ƒç”¨ "),n("code",[s._v("add(E e)")]),s._v(" æˆ–å…¶ä»–æ·»åŠ å…ƒç´ çš„æ–¹æ³•æ—¶ï¼Œå†…éƒ¨é¦–å…ˆä¼šé€šè¿‡ "),n("code",[s._v("ensureCapacityInternal()")]),s._v(" æ¥ä¿è¯æ•°ç»„æ‹¥æœ‰è¶³å¤Ÿç©ºé—´ï¼Œç„¶åå†æ·»åŠ å…ƒç´ ã€‚")]),s._v(" "),n("li",[n("code",[s._v("ensureCapacityInternal()")]),s._v(" æ–¹æ³•å†…éƒ¨å°±ä¼šåˆ¤æ–­æ•°ç»„æ˜¯å¦éœ€è¦æ‰©å®¹ï¼Œè‹¥éœ€è¦ï¼Œå°±è°ƒç”¨ "),n("code",[s._v("grow()")]),s._v(" æ–¹æ³•ã€‚")]),s._v(" "),n("li",[s._v("åœ¨ "),n("code",[s._v("grow()")]),s._v(" å†…éƒ¨ï¼ŒArrayList æ¯æ¬¡æ‰©å®¹ä¹‹åçš„å®¹é‡éƒ½ä¼šå˜ä¸ºåŸæ¥çš„ 1.5 å€å·¦å³ï¼ˆ"),n("code",[s._v("int newCapacity = oldCapacity + (oldCapacity >> 1)")]),s._v(", oldCapacity ä¸ºå¶æ•°å°±æ˜¯ 1.5 å€ï¼Œå¦åˆ™æ˜¯ 1.5 å€å·¦å³ï¼‰")])]),s._v(" "),n("p",[n("strong",[s._v("æ‰©å®¹ç¤ºä¾‹")]),s._v("ï¼ˆä»¥æ— å‚æ„é€ å®ä¾‹åŒ–ArrayListä¸ºä¾‹ï¼‰ï¼š")]),s._v(" "),n("ul",[n("li",[s._v("æ— å‚æ•°æ„é€ æ–¹æ³•åˆ›å»º ArrayList æ—¶ï¼Œå®é™…ä¸Šåˆå§‹åŒ–èµ‹å€¼çš„æ˜¯ä¸€ä¸ªç©ºæ•°ç»„ï¼ˆ"),n("code",[s._v("this.elementData = {}")]),s._v("ï¼‰ã€‚")]),s._v(" "),n("li",[s._v("å½“æˆ‘ä»¬è¦ "),n("code",[s._v("add")]),s._v(" è¿›ç¬¬ 1 ä¸ªå…ƒç´ åˆ° ArrayList æ—¶ï¼Œ"),n("code",[s._v("elementData.length")]),s._v(" ä¸º "),n("code",[s._v("0")]),s._v(" ï¼ˆå› ä¸ºè¿˜æ˜¯ä¸€ä¸ªç©ºçš„ listï¼‰ï¼Œå› ä¸ºæ‰§è¡Œäº† "),n("code",[s._v("ensureCapacityInternal()")]),s._v(" æ–¹æ³• ï¼Œæ‰€ä»¥ "),n("code",[s._v("minCapacity")]),s._v(" æ­¤æ—¶ä¸º "),n("code",[s._v("10")]),s._v("ã€‚æ­¤æ—¶ï¼Œ"),n("code",[s._v("minCapacity - elementData.length > 0")]),s._v(" æˆç«‹ï¼Œæ‰€ä»¥ä¼šè¿›å…¥ "),n("code",[s._v("grow(minCapacity)")]),s._v(" æ–¹æ³•ã€‚")]),s._v(" "),n("li",[s._v("å½“ "),n("code",[s._v("add")]),s._v(" ç¬¬ 2 ä¸ªå…ƒç´ æ—¶ï¼Œ"),n("code",[s._v("minCapacity")]),s._v(" ä¸º "),n("code",[s._v("2")]),s._v("ï¼Œæ­¤æ—¶ "),n("code",[s._v("elementData.length(å®¹é‡)")]),s._v(" åœ¨æ·»åŠ ç¬¬ä¸€ä¸ªå…ƒç´ åæ‰©å®¹æˆ 10 äº†ã€‚æ­¤æ—¶ï¼Œ"),n("code",[s._v("minCapacity - elementData.length > 0")]),s._v(" ä¸æˆç«‹ï¼Œæ‰€ä»¥ä¸ä¼šè¿›å…¥ ï¼ˆæ‰§è¡Œï¼‰"),n("code",[s._v("grow(minCapacity)")]),s._v(" æ–¹æ³•ã€‚")]),s._v(" "),n("li",[s._v("æ·»åŠ ç¬¬ 3ã€4Â·Â·Â·åˆ°ç¬¬ 10 ä¸ªå…ƒç´ æ—¶ï¼Œä¾ç„¶ä¸ä¼šæ‰§è¡Œ "),n("code",[s._v("grow")]),s._v(" æ–¹æ³•ï¼Œæ•°ç»„å®¹é‡éƒ½ä¸º 10ã€‚")]),s._v(" "),n("li",[s._v("ç›´åˆ°æ·»åŠ ç¬¬ 11 ä¸ªå…ƒç´ ï¼Œ"),n("code",[s._v("minCapacity")]),s._v("(ä¸º 11)æ¯” "),n("code",[s._v("elementData.length")]),s._v("ï¼ˆä¸º 10ï¼‰è¦å¤§ã€‚è¿›å…¥ "),n("code",[s._v("grow")]),s._v(" æ–¹æ³•è¿›è¡Œæ‰©å®¹ï¼Œæ•°ç»„æ‰©å®¹æˆ 15ã€‚")])])])]),n("h4",{attrs:{id:"âšª-arraylistå’Œarray-æ•°ç»„-çš„åŒºåˆ«â“"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#âšª-arraylistå’Œarray-æ•°ç»„-çš„åŒºåˆ«â“"}},[s._v("#")]),s._v(" âšª ArrayListå’ŒArrayï¼ˆæ•°ç»„ï¼‰çš„åŒºåˆ«â“")]),s._v(" "),n("div",{staticClass:"zenbu-answer"},[n("p",{staticClass:"zenbu-answer-title"},[s._v("ğŸ™‹ğŸ»â€â™‚ï¸ ç­”ï¼š")]),n("div",{staticClass:"zenbu-answer-context"},[n("p",[s._v("ArrayList å†…éƒ¨"),n("strong",[s._v("åŸºäºåŠ¨æ€æ•°ç»„å®ç°")]),s._v("ï¼Œæ¯” Arrayï¼ˆé™æ€æ•°ç»„ï¼‰ ä½¿ç”¨èµ·æ¥æ›´åŠ çµæ´»ã€‚")]),s._v(" "),n("p",[s._v("ä¸¤è€…çš„åŒºåˆ«å¯ä»¥ä»ä»¥ä¸‹è¿™å‡ æ–¹é¢å›ç­”ï¼š")]),s._v(" "),n("ul",[n("li",[n("strong",[s._v("æ‰©å®¹æœºåˆ¶")]),s._v("ï¼š"),n("code",[s._v("ArrayList")]),s._v(" ä¼šæ ¹æ®å®é™…å­˜å‚¨çš„å…ƒç´ åŠ¨æ€åœ°æ‰©å®¹æˆ–ç¼©å®¹ï¼Œè€Œ "),n("code",[s._v("Array")]),s._v(" è¢«åˆ›å»ºä¹‹åå°±ä¸èƒ½æ”¹å˜å®ƒçš„é•¿åº¦äº†ã€‚")]),s._v(" "),n("li",[n("strong",[s._v("æ³›å‹æ”¯æŒ")]),s._v("ï¼š"),n("code",[s._v("ArrayList")]),s._v(" å…è®¸ä½ ä½¿ç”¨æ³›å‹æ¥ç¡®ä¿ç±»å‹å®‰å…¨ï¼Œ"),n("code",[s._v("Array")]),s._v(" åˆ™ä¸å¯ä»¥ã€‚")]),s._v(" "),n("li",[n("strong",[s._v("å­˜å‚¨ç±»å‹")]),s._v("ï¼š"),n("code",[s._v("ArrayList")]),s._v(" ä¸­åªèƒ½å­˜å‚¨å¯¹è±¡ã€‚å¯¹äºåŸºæœ¬ç±»å‹æ•°æ®ï¼Œéœ€è¦ä½¿ç”¨å…¶å¯¹åº”çš„åŒ…è£…ç±»ï¼ˆå¦‚ Integerã€Double ç­‰ï¼‰ã€‚"),n("code",[s._v("Array")]),s._v(" å¯ä»¥ç›´æ¥å­˜å‚¨åŸºæœ¬ç±»å‹æ•°æ®ï¼Œä¹Ÿå¯ä»¥å­˜å‚¨å¯¹è±¡ã€‚")]),s._v(" "),n("li",[n("strong",[s._v("æ“ä½œèƒ½åŠ›")]),s._v("ï¼š"),n("code",[s._v("ArrayList")]),s._v(" æ”¯æŒæ’å…¥ã€åˆ é™¤ã€éå†ç­‰å¸¸è§æ“ä½œï¼Œå¹¶ä¸”æä¾›äº†ä¸°å¯Œçš„ API æ“ä½œæ–¹æ³•ï¼Œæ¯”å¦‚ "),n("code",[s._v("add()")]),s._v("ã€"),n("code",[s._v("remove()")]),s._v(" ç­‰ã€‚"),n("code",[s._v("Array")]),s._v(" åªæ˜¯ä¸€ä¸ªå›ºå®šé•¿åº¦çš„æ•°ç»„ï¼Œåªèƒ½æŒ‰ç…§ä¸‹æ ‡è®¿é—®å…¶ä¸­çš„å…ƒç´ ï¼Œä¸å…·å¤‡åŠ¨æ€æ·»åŠ ã€åˆ é™¤å…ƒç´ çš„èƒ½åŠ›ã€‚")]),s._v(" "),n("li",[n("strong",[s._v("åˆå§‹åŒ–")]),s._v("ï¼š"),n("code",[s._v("ArrayList")]),s._v("åˆ›å»ºæ—¶ä¸éœ€è¦æŒ‡å®šå¤§å°ï¼Œè€Œ "),n("code",[s._v("Array")]),s._v(" åˆ›å»ºæ—¶å¿…é¡»æŒ‡å®šå¤§å°ã€‚")])])])]),n("h4",{attrs:{id:"âšª-å¦‚ä½•å®ç°array-æ•°ç»„-å’Œlistä¹‹é—´çš„è½¬æ¢â“"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#âšª-å¦‚ä½•å®ç°array-æ•°ç»„-å’Œlistä¹‹é—´çš„è½¬æ¢â“"}},[s._v("#")]),s._v(" âšª å¦‚ä½•å®ç°Arrayï¼ˆæ•°ç»„ï¼‰å’ŒListä¹‹é—´çš„è½¬æ¢â“")]),s._v(" "),n("div",{staticClass:"zenbu-answer"},[n("p",{staticClass:"zenbu-answer-title"},[s._v("ğŸ™‹ğŸ»â€â™‚ï¸ ç­”ï¼š")]),n("div",{staticClass:"zenbu-answer-context"},[n("p",[s._v("ï¼ˆ1ï¼‰ä¸¤ä¸ªæ–¹æ³•")]),s._v(" "),n("ul",[n("li",[s._v("æ•°ç»„è½¬List ï¼Œä½¿ç”¨JDKä¸­ "),n("code",[s._v("java.util.Arrays")]),s._v(" å·¥å…·ç±»çš„ "),n("code",[s._v("asList")]),s._v(" æ–¹æ³•\n"),n("ul",[n("li",[s._v("ä½¿ç”¨Listçš„ä¿®æ”¹æ–¹æ³•: "),n("code",[s._v("add()")]),s._v("ã€"),n("code",[s._v("remove()")]),s._v("ã€"),n("code",[s._v("clear()")]),s._v(" ä¼šæŠ›å‡ºå¼‚å¸¸")]),s._v(" "),n("li",[s._v("é€šè¿‡å‡ ç§æ–¹æ³•å¯ä»¥è§£å†³ä¸Šæ¡æ— æ³•ä¿®æ”¹çš„é—®é¢˜ï¼Œæ¯”å¦‚ï¼š\n"),n("ul",[n("li",[s._v("æ–¹æ³•1ï¼š"),n("code",[s._v('List list = new ArrayList<>(Arrays.asList("a", "b", "c"))')])]),s._v(" "),n("li",[s._v("æ–¹æ³•2ï¼šä½¿ç”¨Java8çš„ "),n("code",[s._v("Stream")]),s._v("ï¼ˆæ¨èï¼‰")])]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Integer")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" myArray "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("List")]),s._v(" myList "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Arrays")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("stream")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("myArray"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("collect")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Collectors")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("toList")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//åŸºæœ¬ç±»å‹ä¹Ÿå¯ä»¥å®ç°è½¬æ¢ï¼ˆä¾èµ–boxedçš„è£…ç®±æ“ä½œï¼‰")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" myArray2 "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("List")]),s._v(" myList "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Arrays")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("stream")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("myArray2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("boxed")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("collect")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Collectors")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("toList")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("ul",[n("li",[s._v("æ–¹æ³•3ï¼šä½¿ç”¨Java9çš„ "),n("code",[s._v("List.of()")]),s._v(" æ–¹æ³•")])]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Integer")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" array "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("List")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Integer")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" list "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("List")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("of")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("array"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])])])])]),s._v(" "),n("li",[s._v("Listè½¬æ•°ç»„ï¼Œä½¿ç”¨ "),n("code",[s._v("List")]),s._v(" çš„ "),n("code",[s._v("toArray")]),s._v(" æ–¹æ³•ã€‚\n"),n("ul",[n("li",[s._v("æ— å‚ "),n("code",[s._v("toArray")]),s._v(" æ–¹æ³•è¿”å› "),n("code",[s._v("Object")]),s._v(" æ•°ç»„")]),s._v(" "),n("li",[s._v("ä¼ å…¥æ•°ç»„å¯¹è±¡ï¼Œè¿”å›è¯¥å¯¹è±¡æ•°ç»„")])])])]),s._v(" "),n("p",[s._v("ï¼ˆ2ï¼‰ä»£ç ç¤ºä¾‹")]),s._v(" "),n("ul",[n("li",[s._v("æ•°ç»„è½¬List"),n("div",{staticClass:"language-java line-numbers-mode"},[n("div",{staticClass:"highlight-lines"},[n("br"),n("br"),n("div",{staticClass:"highlighted"},[s._v("Â ")]),n("br"),n("br"),n("br"),n("div",{staticClass:"highlighted"},[s._v("Â ")]),n("br")]),n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// intæ•°ç»„ï¼Œéœ€è¦ä½¿ç”¨åŸºæœ¬ç±»å‹å¯¹åº”çš„åŒ…è£…ç±»æ¥åˆ›å»ºæ•°ç»„")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Integer")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" a1 "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Integer")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("List")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Integer")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" b1 "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Arrays")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("asList")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("a"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Stringæ•°ç»„")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" a2 "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"aaa"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bbb"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"cccc"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("List")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" b2 "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Arrays")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("asList")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("a"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])])]),s._v(" "),n("li",[s._v("Listè½¬æ•°ç»„"),n("div",{staticClass:"language-java line-numbers-mode"},[n("div",{staticClass:"highlight-lines"},[n("br"),n("br"),n("div",{staticClass:"highlighted"},[s._v("Â ")]),n("br"),n("br"),n("br"),n("div",{staticClass:"highlighted"},[s._v("Â ")]),n("br")]),n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("List")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Integer")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" b1 "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ArrayList")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// LinkedListä¹Ÿå¯ä»¥")]),s._v("\nb1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  b1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Integer")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" a1 "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" b1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("toArray")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Integer")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" b2 "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("LinkedList")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nb2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"aaa"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  b2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bbb"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  b2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ccc"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  \n"),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("List")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" a2 "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" b2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("toArray")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// new String[0]å°±æ˜¯èµ·ä¸€ä¸ªæ¨¡æ¿çš„ä½œç”¨")]),s._v("\n")])]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])])])]),s._v(" "),n("p",[n("strong",[s._v("æ‹“å±•é—®é¢˜")]),s._v("ï¼š")]),s._v(" "),n("p",[s._v("ğŸ§›ğŸ»â€â™‚ï¸ é—®ï¼šç”¨ "),n("code",[s._v("Arrays.asList")]),s._v(" å°†æ•°ç»„è½¬ List åï¼Œå¦‚æœä¿®æ”¹äº†æ•°ç»„å†…å®¹ï¼ŒList å—å½±å“å—ï¼Ÿ")]),s._v(" "),n("p",[s._v("ğŸ™‹ğŸ»â€â™‚ï¸ ç­”ï¼šArrays.asListè½¬æ¢listä¹‹åï¼Œå¦‚æœä¿®æ”¹äº†æ•°ç»„çš„å†…å®¹ï¼Œlistä¼šå—å½±å“ï¼Œå› ä¸ºå®ƒçš„åº•å±‚ä½¿ç”¨çš„Arraysç±»ä¸­çš„ä¸€ä¸ªå†…éƒ¨ç±»ArrayListæ¥æ„é€ çš„é›†åˆï¼Œåœ¨è¿™ä¸ªé›†åˆçš„æ„é€ å™¨ä¸­ï¼ŒæŠŠæˆ‘ä»¬ä¼ å…¥çš„è¿™ä¸ªé›†åˆè¿›è¡Œäº†åŒ…è£…è€Œå·²ï¼Œæœ€ç»ˆæŒ‡å‘çš„éƒ½æ˜¯åŒä¸€ä¸ªå†…å­˜åœ°å€")]),s._v(" "),n("p",[s._v("ğŸ§›ğŸ»â€â™‚ï¸ é—®ï¼šList ç”¨ "),n("code",[s._v("toArray")]),s._v(" è½¬æ•°ç»„åï¼Œå¦‚æœä¿®æ”¹äº† List å†…å®¹ï¼Œæ•°ç»„å—å½±å“å—ï¼Ÿ")]),s._v(" "),n("p",[s._v("ğŸ™‹ğŸ»â€â™‚ï¸ ç­”ï¼šlistç”¨äº†toArrayè½¬æ•°ç»„åï¼Œå¦‚æœä¿®æ”¹äº†listå†…å®¹ï¼Œæ•°ç»„ä¸ä¼šå½±å“ï¼Œå½“è°ƒç”¨äº†toArrayä»¥åï¼Œåœ¨åº•å±‚æ˜¯å®ƒæ˜¯è¿›è¡Œäº†æ•°ç»„çš„æ‹·è´ï¼Œè·ŸåŸæ¥çš„å…ƒç´ å°±æ²¡å•¥å…³ç³»äº†ï¼Œæ‰€ä»¥å³ä½¿listä¿®æ”¹äº†ä»¥åï¼Œæ•°ç»„ä¹Ÿä¸å—å½±å“")])])]),n("h4",{attrs:{id:"âšª-arraylistå’Œlinkedlistçš„åŒºåˆ«â“"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#âšª-arraylistå’Œlinkedlistçš„åŒºåˆ«â“"}},[s._v("#")]),s._v(" âšª ArrayListå’ŒLinkedListçš„åŒºåˆ«â“")]),s._v(" "),n("div",{staticClass:"zenbu-answer"},[n("p",{staticClass:"zenbu-answer-title"},[s._v("ğŸ™‹ğŸ»â€â™‚ï¸ ç­”ï¼š")]),n("div",{staticClass:"zenbu-answer-context"},[n("p",[s._v("å¯ä»¥ä»ä»¥ä¸‹å‡ æ–¹é¢å›ç­”ï¼š")]),s._v(" "),n("ul",[n("li",[n("strong",[s._v("æ˜¯å¦ä¿è¯çº¿ç¨‹å®‰å…¨")]),s._v("ï¼š ArrayList å’Œ LinkedList éƒ½æ˜¯ä¸åŒæ­¥çš„ï¼Œä¹Ÿå°±æ˜¯ä¸ä¿è¯çº¿ç¨‹å®‰å…¨ï¼›")]),s._v(" "),n("li",[n("strong",[s._v("åº•å±‚æ•°æ®ç»“æ„")]),s._v("ï¼š ArrayList åº•å±‚ä½¿ç”¨çš„æ˜¯ "),n("code",[s._v("Object")]),s._v(" æ•°ç»„ï¼›LinkedList åº•å±‚ä½¿ç”¨çš„æ˜¯ åŒå‘é“¾è¡¨ æ•°æ®ç»“æ„ï¼ˆJDK1.6 ä¹‹å‰ä¸ºå¾ªç¯é“¾è¡¨ï¼ŒJDK1.7 å–æ¶ˆäº†å¾ªç¯ã€‚æ³¨æ„åŒå‘é“¾è¡¨å’ŒåŒå‘å¾ªç¯é“¾è¡¨çš„åŒºåˆ«ï¼Œä¸‹é¢æœ‰ä»‹ç»åˆ°ï¼ï¼‰")]),s._v(" "),n("li",[n("strong",[s._v("æ’å…¥å’Œåˆ é™¤æ˜¯å¦å—å…ƒç´ ä½ç½®çš„å½±å“")]),s._v("ï¼š\n"),n("ul",[n("li",[s._v("ArrayList é‡‡ç”¨æ•°ç»„å­˜å‚¨ï¼Œæ‰€ä»¥æ’å…¥å’Œåˆ é™¤å…ƒç´ çš„æ—¶é—´å¤æ‚åº¦å—å…ƒç´ ä½ç½®çš„å½±å“ã€‚ æ¯”å¦‚ï¼šæ‰§è¡Œ "),n("code",[s._v("add(E e)")]),s._v(" æ–¹æ³•çš„æ—¶å€™ï¼Œ ArrayList ä¼šé»˜è®¤åœ¨å°†æŒ‡å®šçš„å…ƒç´ è¿½åŠ åˆ°æ­¤åˆ—è¡¨çš„æœ«å°¾ï¼Œè¿™ç§æƒ…å†µæ—¶é—´å¤æ‚åº¦å°±æ˜¯ "),n("span",{staticClass:"katex"},[n("span",{staticClass:"katex-mathml"},[n("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[n("semantics",[n("mrow",[n("mi",[s._v("O")]),n("mo",{attrs:{stretchy:"false"}},[s._v("(")]),n("mn",[s._v("1")]),n("mo",{attrs:{stretchy:"false"}},[s._v(")")])],1),n("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("O(1)")])],1)],1)],1),n("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[n("span",{staticClass:"base"},[n("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),n("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.02778em"}},[s._v("O")]),n("span",{staticClass:"mopen"},[s._v("(")]),n("span",{staticClass:"mord"},[s._v("1")]),n("span",{staticClass:"mclose"},[s._v(")")])])])]),s._v("ã€‚ä½†æ˜¯å¦‚æœè¦åœ¨æŒ‡å®šä½ç½® i æ’å…¥å’Œåˆ é™¤å…ƒç´ çš„è¯ï¼ˆ"),n("code",[s._v("add(int index, E element)")]),s._v("ï¼‰ï¼Œæ—¶é—´å¤æ‚åº¦å°±ä¸º "),n("span",{staticClass:"katex"},[n("span",{staticClass:"katex-mathml"},[n("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[n("semantics",[n("mrow",[n("mi",[s._v("O")]),n("mo",{attrs:{stretchy:"false"}},[s._v("(")]),n("mi",[s._v("n")]),n("mo",{attrs:{stretchy:"false"}},[s._v(")")])],1),n("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("O(n)")])],1)],1)],1),n("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[n("span",{staticClass:"base"},[n("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),n("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.02778em"}},[s._v("O")]),n("span",{staticClass:"mopen"},[s._v("(")]),n("span",{staticClass:"mord mathnormal"},[s._v("n")]),n("span",{staticClass:"mclose"},[s._v(")")])])])]),s._v("ã€‚å› ä¸ºåœ¨è¿›è¡Œä¸Šè¿°æ“ä½œçš„æ—¶å€™é›†åˆä¸­ç¬¬ i å’Œç¬¬ i ä¸ªå…ƒç´ ä¹‹åçš„(n-i)ä¸ªå…ƒç´ éƒ½è¦æ‰§è¡Œå‘åä½/å‘å‰ç§»ä¸€ä½çš„æ“ä½œã€‚")]),s._v(" "),n("li",[s._v("LinkedList é‡‡ç”¨é“¾è¡¨å­˜å‚¨ï¼Œæ‰€ä»¥åœ¨å¤´å°¾æ’å…¥æˆ–è€…åˆ é™¤å…ƒç´ ä¸å—å…ƒç´ ä½ç½®çš„å½±å“ï¼ˆ"),n("code",[s._v("add(E e)")]),s._v("ã€"),n("code",[s._v("addFirst(E e)")]),s._v("ã€"),n("code",[s._v("addLast(E e)")]),s._v("ã€"),n("code",[s._v("removeFirst()")]),s._v("ã€ "),n("code",[s._v("removeLast()")]),s._v("ï¼‰ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º O(1)ï¼Œå¦‚æœæ˜¯è¦åœ¨æŒ‡å®šä½ç½® i æ’å…¥å’Œåˆ é™¤å…ƒç´ çš„è¯ï¼ˆ"),n("code",[s._v("add(int index, E element)")]),s._v("ï¼Œ"),n("code",[s._v("remove(Object o)")]),s._v(", "),n("code",[s._v("remove(int index)")]),s._v("ï¼‰ï¼Œ æ—¶é—´å¤æ‚åº¦ä¸º "),n("span",{staticClass:"katex"},[n("span",{staticClass:"katex-mathml"},[n("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[n("semantics",[n("mrow",[n("mi",[s._v("O")]),n("mo",{attrs:{stretchy:"false"}},[s._v("(")]),n("mi",[s._v("n")]),n("mo",{attrs:{stretchy:"false"}},[s._v(")")])],1),n("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("O(n)")])],1)],1)],1),n("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[n("span",{staticClass:"base"},[n("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),n("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.02778em"}},[s._v("O")]),n("span",{staticClass:"mopen"},[s._v("(")]),n("span",{staticClass:"mord mathnormal"},[s._v("n")]),n("span",{staticClass:"mclose"},[s._v(")")])])])]),s._v(" ï¼Œå› ä¸ºéœ€è¦å…ˆç§»åŠ¨åˆ°æŒ‡å®šä½ç½®å†æ’å…¥å’Œåˆ é™¤ã€‚")])])]),s._v(" "),n("li",[n("strong",[s._v("æ˜¯å¦æ”¯æŒå¿«é€Ÿéšæœºè®¿é—®")]),s._v("ï¼š LinkedList ä¸æ”¯æŒé«˜æ•ˆçš„éšæœºå…ƒç´ è®¿é—®ï¼Œè€Œ ArrayListï¼ˆå®ç°äº† "),n("code",[s._v("RandomAccess")]),s._v(" æ¥å£ï¼‰ æ”¯æŒã€‚å¿«é€Ÿéšæœºè®¿é—®å°±æ˜¯é€šè¿‡å…ƒç´ çš„åºå·å¿«é€Ÿè·å–å…ƒç´ å¯¹è±¡(å¯¹åº”äº "),n("code",[s._v("get(int index)")]),s._v(" æ–¹æ³•)ã€‚")]),s._v(" "),n("li",[n("strong",[s._v("å†…å­˜ç©ºé—´å ç”¨")]),s._v("ï¼š ArrayList çš„ç©ºé—´æµªè´¹ä¸»è¦ä½“ç°åœ¨åœ¨ list åˆ—è¡¨çš„ç»“å°¾ä¼šé¢„ç•™ä¸€å®šçš„å®¹é‡ç©ºé—´ï¼Œè€Œ LinkedList çš„ç©ºé—´èŠ±è´¹åˆ™ä½“ç°åœ¨å®ƒçš„æ¯ä¸€ä¸ªå…ƒç´ éƒ½éœ€è¦æ¶ˆè€—æ¯” ArrayList æ›´å¤šçš„ç©ºé—´ï¼ˆå› ä¸ºè¦å­˜æ”¾ç›´æ¥åç»§å’Œç›´æ¥å‰é©±ä»¥åŠæ•°æ®ï¼‰ã€‚")])]),s._v(" "),n("blockquote",[n("p",[s._v("é˜…è¯» "),n("code",[s._v("RandomAccess")]),s._v(" æ¥å£ä¸­çš„æºç ï¼Œå‘ç°å…¶ä¸­ä»€ä¹ˆéƒ½æ²¡æœ‰å®šä¹‰ï¼Œæ‰€ä»¥å…¶ä½œç”¨æ˜¯æ ‡è¯†å®ç°è¿™ä¸ªæ¥å£çš„ç±»å…·æœ‰éšæœºè®¿é—®åŠŸèƒ½")])])])]),n("h4",{attrs:{id:"âšª-arraydeque-ä¸-linkedlist-çš„åŒºåˆ«â“"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#âšª-arraydeque-ä¸-linkedlist-çš„åŒºåˆ«â“"}},[s._v("#")]),s._v(" âšª ArrayDeque ä¸ LinkedList çš„åŒºåˆ«â“")]),s._v(" "),n("p",[s._v("ArrayDeque å’Œ LinkedList éƒ½å®ç°äº† Deque æ¥å£ï¼Œä¸¤è€…éƒ½å…·æœ‰é˜Ÿåˆ—çš„åŠŸèƒ½ï¼Œä½†ä¸¤è€…æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ")]),s._v(" "),n("div",{staticClass:"zenbu-answer"},[n("p",{staticClass:"zenbu-answer-title"},[s._v("ğŸ™‹ğŸ»â€â™‚ï¸ ç­”ï¼š")]),n("div",{staticClass:"zenbu-answer-context"},[n("ul",[n("li",[n("code",[s._v("ArrayDeque")]),s._v(" æ˜¯åŸºäºå¯å˜é•¿çš„æ•°ç»„å’ŒåŒæŒ‡é’ˆæ¥å®ç°ï¼Œè€Œ "),n("code",[s._v("LinkedList")]),s._v(" åˆ™é€šè¿‡é“¾è¡¨æ¥å®ç°ã€‚")]),s._v(" "),n("li",[n("code",[s._v("ArrayDeque")]),s._v(" ä¸æ”¯æŒå­˜å‚¨ NULL æ•°æ®ï¼Œä½† "),n("code",[s._v("LinkedList")]),s._v(" æ”¯æŒã€‚")]),s._v(" "),n("li",[n("code",[s._v("ArrayDeque")]),s._v(" æ˜¯åœ¨ JDK1.6 æ‰è¢«å¼•å…¥çš„ï¼Œè€Œ"),n("code",[s._v("LinkedList")]),s._v(" æ—©åœ¨ JDK1.2 æ—¶å°±å·²ç»å­˜åœ¨ã€‚")]),s._v(" "),n("li",[n("code",[s._v("ArrayDeque")]),s._v(" æ’å…¥æ—¶å¯èƒ½å­˜åœ¨æ‰©å®¹è¿‡ç¨‹, ä¸è¿‡å‡æ‘Šåçš„æ’å…¥æ“ä½œä¾ç„¶ä¸º O(1)ã€‚è™½ç„¶ "),n("code",[s._v("LinkedList")]),s._v(" ä¸éœ€è¦æ‰©å®¹ï¼Œä½†æ˜¯æ¯æ¬¡æ’å…¥æ•°æ®æ—¶å‡éœ€è¦ç”³è¯·æ–°çš„å †ç©ºé—´ï¼Œå‡æ‘Šæ€§èƒ½ç›¸æ¯”æ›´æ…¢ã€‚")])]),s._v(" "),n("p",[s._v("ä»æ€§èƒ½çš„è§’åº¦ä¸Šï¼Œé€‰ç”¨ "),n("code",[s._v("ArrayDeque")]),s._v(" æ¥å®ç°é˜Ÿåˆ—è¦æ¯” "),n("code",[s._v("LinkedList")]),s._v(" æ›´å¥½ã€‚æ­¤å¤–ï¼Œ"),n("code",[s._v("ArrayDeque")]),s._v(" ä¹Ÿå¯ä»¥ç”¨äºå®ç°æ ˆã€‚")])])]),n("h4",{attrs:{id:"è¯´ä¸€è¯´-priorityqueue"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#è¯´ä¸€è¯´-priorityqueue"}},[s._v("#")]),s._v(" è¯´ä¸€è¯´ PriorityQueue")]),s._v(" "),n("div",{staticClass:"zenbu-answer"},[n("p",{staticClass:"zenbu-answer-title"},[s._v("ğŸ™‹ğŸ»â€â™‚ï¸ ç­”ï¼š")]),n("div",{staticClass:"zenbu-answer-context"},[n("p",[n("code",[s._v("PriorityQueue")]),s._v(" æ˜¯åœ¨ JDK1.5 ä¸­è¢«å¼•å…¥çš„, å…¶ä¸ Queue çš„åŒºåˆ«åœ¨äºå…ƒç´ å‡ºé˜Ÿé¡ºåºæ˜¯ä¸ä¼˜å…ˆçº§ç›¸å…³çš„ï¼Œå³æ€»æ˜¯ä¼˜å…ˆçº§æœ€é«˜çš„å…ƒç´ å…ˆå‡ºé˜Ÿã€‚")]),s._v(" "),n("p",[s._v("è¿™é‡Œåˆ—ä¸¾å…¶ç›¸å…³çš„ä¸€äº›è¦ç‚¹ï¼š")]),s._v(" "),n("ul",[n("li",[n("strong",[s._v("åº•å±‚")]),s._v("ï¼š"),n("code",[s._v("PriorityQueue")]),s._v(" åˆ©ç”¨äº†"),n("strong",[s._v("äºŒå‰å †")]),s._v("çš„æ•°æ®ç»“æ„æ¥å®ç°çš„ï¼Œ"),n("strong",[s._v("åº•å±‚ä½¿ç”¨å¯å˜é•¿çš„æ•°ç»„")]),s._v("æ¥å­˜å‚¨æ•°æ®")]),s._v(" "),n("li",[n("strong",[s._v("è°ƒæ•´")]),s._v("ï¼š"),n("code",[s._v("PriorityQueue")]),s._v(" é€šè¿‡å †å…ƒç´ çš„ä¸Šæµ®å’Œä¸‹æ²‰ï¼Œå®ç°äº†åœ¨ O(logn) çš„æ—¶é—´å¤æ‚åº¦å†…æ’å…¥å…ƒç´ å’Œåˆ é™¤å †é¡¶å…ƒç´ ã€‚")]),s._v(" "),n("li",[n("strong",[s._v("å…ƒç´ ")]),s._v("ï¼š"),n("code",[s._v("PriorityQueue")]),s._v(" æ˜¯"),n("strong",[s._v("éçº¿ç¨‹å®‰å…¨")]),s._v("çš„ï¼Œä¸”ä¸æ”¯æŒå­˜å‚¨ NULL å’Œ non-comparable çš„å¯¹è±¡ã€‚")]),s._v(" "),n("li",[n("strong",[s._v("åˆå§‹åŒ–")]),s._v("ï¼š"),n("code",[s._v("PriorityQueue")]),s._v(" "),n("strong",[s._v("é»˜è®¤æ˜¯å°é¡¶å †")]),s._v("ï¼Œä½†å¯ä»¥æ¥æ”¶ä¸€ä¸ª Comparator ä½œä¸ºæ„é€ å‚æ•°ï¼Œä»è€Œæ¥è‡ªå®šä¹‰å…ƒç´ ä¼˜å…ˆçº§çš„å…ˆåã€‚")])]),s._v(" "),n("p",[s._v("æ³¨ï¼š"),n("code",[s._v("PriorityQueue")]),s._v(" åœ¨é¢è¯•ä¸­å¯èƒ½æ›´å¤šçš„ä¼šå‡ºç°åœ¨æ‰‹æ’•ç®—æ³•çš„æ—¶å€™ï¼Œå…¸å‹ä¾‹é¢˜åŒ…æ‹¬å †æ’åºã€æ±‚ç¬¬ K å¤§çš„æ•°ã€å¸¦æƒå›¾çš„éå†ç­‰ï¼Œæ‰€ä»¥éœ€è¦ä¼šç†Ÿç»ƒä½¿ç”¨æ‰è¡Œã€‚")])])]),n("h3",{attrs:{id:"hashmapç›¸å…³é¢è¯•é¢˜"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#hashmapç›¸å…³é¢è¯•é¢˜"}},[s._v("#")]),s._v(" HashMapç›¸å…³é¢è¯•é¢˜")]),s._v(" "),n("h4",{attrs:{id:"âšª-hashmapçš„putæ–¹æ³•å…·ä½“æµç¨‹â“"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#âšª-hashmapçš„putæ–¹æ³•å…·ä½“æµç¨‹â“"}},[s._v("#")]),s._v(" âšª HashMapçš„putæ–¹æ³•å…·ä½“æµç¨‹â“")]),s._v(" "),n("div",{staticClass:"zenbu-answer"},[n("p",{staticClass:"zenbu-answer-title"},[s._v("ğŸ™‹ğŸ»â€â™‚ï¸ ç­”ï¼š")]),n("div",{staticClass:"zenbu-answer-context"},[n("p",[s._v("HashMap çš„ "),n("code",[s._v("put(key, value)")]),s._v(" æ·»åŠ æ–¹æ³•ï¼š")]),s._v(" "),n("ol",[n("li",[s._v("è®¡ç®— "),n("code",[s._v("key")]),s._v(" çš„ "),n("code",[s._v("hash")]),s._v(" å€¼ï¼ˆé€šè¿‡ "),n("code",[s._v("hash(key)")]),s._v(" è®¡ç®—ï¼‰ï¼š\n"),n("ul",[n("li",[s._v("JDK 1.7ï¼š\n"),n("ul",[n("li",[s._v("(1) "),n("code",[s._v("h ^= (h >>> 20) ^ (h >>> 12);")])]),s._v(" "),n("li",[s._v("(2) "),n("code",[s._v("h ^ (h >>> 7) ^ (h >>> 4);")])])])]),s._v(" "),n("li",[s._v("JDK 1.8ï¼š"),n("code",[s._v("((h = key.hashCode()) ^ (h >>> 16))")])])])]),s._v(" "),n("li",[s._v("å®šä½ "),n("code",[s._v("key")]),s._v(" å­˜å‚¨ä½ç½® bucketï¼ˆæ¡¶ï¼‰ ä¸‹æ ‡ï¼š"),n("code",[s._v("index = hash & (table.length - 1)")]),s._v("ï¼›")]),s._v(" "),n("li",[s._v("æ’å…¥æ“ä½œï¼Œåˆ†æƒ…å†µï¼š\n"),n("ul",[n("li",[s._v("æƒ…å†µ1 bucket ä¸ºç©ºæ¡¶ï¼š"),n("strong",[s._v("ç›´æ¥æ’å…¥")])]),s._v(" "),n("li",[s._v("æƒ…å†µ2 bucket éç©ºæ¡¶ï¼šå¿«é€Ÿåˆ¤æ–­ç¬¬ä¸€ä¸ªèŠ‚ç‚¹æ˜¯å¦ä¸æ’å…¥çš„ "),n("code",[s._v("key")]),s._v(" ç›¸åŒï¼Œ"),n("strong",[s._v("ç›¸åŒåˆ™æ’å…¥")]),s._v("ï¼Œä¸åŒåˆ™ç»§ç»­...ï¼ˆJDK 1.8 è¦å…ˆåˆ¤æ–­æ˜¯é“¾è¡¨è¿˜æ˜¯çº¢é»‘æ ‘ï¼Œå†æ¥ç€éå†ï¼‰\n"),n("ul",[n("li",[n("code",[s._v("key")]),s._v(" ä¸å­˜åœ¨ï¼š"),n("strong",[s._v("å°†é”®å€¼å­˜å‚¨åˆ°é“¾è¡¨/çº¢é»‘æ ‘å°¾éƒ¨")]),s._v("ï¼›ï¼ˆJava7 æ˜¯æ’å…¥åˆ°é“¾è¡¨çš„æœ€å‰é¢/å¤´æ’æ³•ï¼‰")]),s._v(" "),n("li",[n("code",[s._v("key")]),s._v(" å­˜åœ¨ï¼šéå†é“¾è¡¨/çº¢é»‘æ ‘æ¯”è¾ƒ keyï¼Œ"),n("strong",[s._v("å¦‚æœå­˜åœ¨ keyï¼Œæ›´æ–° value")]),s._v("ï¼›")])])])])]),s._v(" "),n("li",[s._v("æ’å…¥/æ›´æ–°å…ƒç´ ä¹‹åï¼Œåˆ¤æ–­å½“å‰ bucket é“¾è¡¨æ˜¯å¦éœ€è¦å‡çº§ä¸ºçº¢é»‘æ ‘ï¼šé“¾è¡¨é•¿åº¦å¤§äº 8 ï¼Œå¹¶ä¸”æ•°ç»„é•¿åº¦å¤§äº 64ï¼Œåˆ™å‡çº§ä¸ºçº¢é»‘æ ‘ï¼ˆ"),n("code",[s._v("treeifyBin")]),s._v(" æ–¹æ³•ä¸­åˆ¤æ–­æ˜¯å¦çœŸçš„è½¬æ¢ä¸ºçº¢é»‘æ ‘ï¼‰ï¼›")]),s._v(" "),n("li",[s._v("æ‰©å®¹åˆ¤æ–­ï¼š"),n("code",[s._v("++size > threshold")]),s._v(" æˆç«‹ï¼Œåˆ™è¿›è¡Œæ‰©å®¹æ“ä½œ "),n("code",[s._v("resize()")]),s._v("ï¼›ï¼ˆJava7 æ˜¯å…ˆæ‰©å®¹åæ’å…¥æ–°å€¼çš„ï¼ŒJava8 å…ˆæ’å€¼å†æ‰©å®¹ï¼‰")]),s._v(" "),n("li",[s._v("å°†æ‰§è¡Œç»“æœè¿”å›")])])])]),n("h4",{attrs:{id:"âšª-hashmapçš„å¯»å€ç®—æ³•â“"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#âšª-hashmapçš„å¯»å€ç®—æ³•â“"}},[s._v("#")]),s._v(" âšª HashMapçš„å¯»å€ç®—æ³•â“")]),s._v(" "),n("div",{staticClass:"zenbu-answer"},[n("p",{staticClass:"zenbu-answer-title"},[s._v("ğŸ™‹ğŸ»â€â™‚ï¸ ç­”ï¼š")]),n("div",{staticClass:"zenbu-answer-context"},[n("ul",[n("li",[n("strong",[s._v("Step1")]),s._v(" / é¦–å…ˆï¼Œé€šè¿‡ "),n("code",[s._v("hash(key)")]),s._v(" å¾—åˆ°å¯¹åº” "),n("code",[s._v("key")]),s._v(" çš„å“ˆå¸Œå€¼ "),n("code",[s._v("hash")]),s._v(" "),n("ul",[n("li",[n("code",[s._v("key")]),s._v(" ä¸º "),n("code",[s._v("null")]),s._v(" æ—¶ï¼Œ"),n("code",[s._v("hash")]),s._v(" ä¸º "),n("code",[s._v("0")])]),s._v(" "),n("li",[n("code",[s._v("key")]),s._v(" ä¸ä¸º "),n("code",[s._v("null")]),s._v(" æ—¶ï¼Œè®¡ç®— "),n("code",[s._v("(h = key.hashCode()) ^ (h >>> 16)")]),s._v("ï¼Œå³å°† "),n("code",[s._v("key.hashCode()")]),s._v(" çš„ é«˜16ä½ å’Œ ä½16ä½ è¿›è¡Œ å¼‚æˆ–è¿ç®—ï¼Œè¿ç®—ç»“æœä½œä¸ºå“ˆå¸Œå€¼ "),n("code",[s._v("hash")])]),s._v(" "),n("li",[n("code",[s._v("hash(key)")]),s._v(" ç›¸å½“äºå¯¹åŸå§‹å“ˆå¸Œç åšäº†æ‰°åŠ¨ï¼Œä½¿å¾—æ‰°åŠ¨åçš„æ–°å“ˆå¸Œç  "),n("code",[s._v("hash")]),s._v(" æ›´åŠ å‡åŒ€ï¼Œå‡å°‘å“ˆå¸Œå†²çª")])])]),s._v(" "),n("li",[n("strong",[s._v("Step2")]),s._v(" / ç„¶åï¼Œé€šè¿‡ "),n("code",[s._v("hash & (n - 1)")]),s._v(" è®¡ç®— "),n("code",[s._v("key")]),s._v(" åœ¨å“ˆå¸Œè¡¨ï¼ˆæ•°ç»„ï¼‰ä¸­çš„ bucketï¼ˆæ¡¶ï¼‰ ç´¢å¼•\n"),n("ul",[n("li",[n("code",[s._v("n")]),s._v(" è¡¨ç¤ºå“ˆå¸Œè¡¨ï¼ˆæ•°ç»„ï¼‰é•¿åº¦")]),s._v(" "),n("li",[s._v("è¯¥è®¡ç®—ä»£æ›¿å¸¸è§„çš„å–æ¨¡è¿ç®—ï¼Œæ€§èƒ½æ›´å¥½ã€‚å‰ææ˜¯ï¼šè¦æ±‚ "),n("code",[s._v("n")]),s._v(" å¿…é¡»æ˜¯ 2 çš„æ¬¡å¹‚")])])])])])]),n("h4",{attrs:{id:"âšª-è®²ä¸€è®²hashmapçš„æ‰©å®¹æœºåˆ¶â“"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#âšª-è®²ä¸€è®²hashmapçš„æ‰©å®¹æœºåˆ¶â“"}},[s._v("#")]),s._v(" âšª è®²ä¸€è®²HashMapçš„æ‰©å®¹æœºåˆ¶â“")]),s._v(" "),n("div",{staticClass:"zenbu-answer"},[n("p",{staticClass:"zenbu-answer-title"},[s._v("ğŸ™‹ğŸ»â€â™‚ï¸ ç­”ï¼š")]),n("div",{staticClass:"zenbu-answer-context"},[n("p",[n("strong",[s._v("å…³é”®ç‚¹")]),s._v("ï¼šæ‰©å®¹å…¥å£ "),n("code",[s._v("put()")]),s._v(" ã€æ‰©å®¹å‡½æ•° "),n("code",[s._v("resize()")]),s._v(" ã€æƒ°æ€§åŠ è½½ã€å®¹é‡ç¿»å€ã€æ•°æ®è¿ç§»")]),s._v(" "),n("p",[n("strong",[s._v("å†…å®¹")]),s._v("ï¼š")]),s._v(" "),n("p",[s._v("HashMap æ˜¯æƒ°æ€§åŠ è½½ï¼Œåœ¨åˆ›å»ºå¯¹è±¡ "),n("code",[s._v("new HashMap<>()")]),s._v(" æ—¶å¹¶æ²¡æœ‰åˆå§‹åŒ–æ•°ç»„ã€‚")]),s._v(" "),n("p",[s._v("å› æ­¤ï¼Œåœ¨é¦–æ¬¡ä½¿ç”¨ HashMap å®ä¾‹çš„ "),n("code",[s._v("put")]),s._v(" æ“ä½œæ—¶ï¼Œä¼šè°ƒç”¨ "),n("code",[s._v("resize()")]),s._v(" æ–¹æ³•è¿›è¡Œæ‰©å®¹ï¼š")]),s._v(" "),n("ul",[n("li",[s._v("å¦‚æœæ˜¯æ— å‚æ„é€ ï¼Œé‚£ä¹ˆåˆå§‹åŒ–æ•°ç»„é•¿åº¦ä¸º16ï¼›")]),s._v(" "),n("li",[s._v("å¦‚æœæä¾›äº†å‚æ•° "),n("code",[s._v("initialCapacity")]),s._v("ï¼Œé‚£ä¹ˆåˆå§‹åŒ–æ•°ç»„é•¿åº¦æ˜¯ä¸ "),n("code",[s._v("initialCapacity")]),s._v(" æœ€æ¥è¿‘çš„ 2 çš„å¹‚æ¬¡æ–¹å¤§å°ï¼ˆHashMap ä¸­çš„ "),n("code",[s._v("tableSizeFor(initialCapacity)")]),s._v(" æ–¹æ³•ä¿è¯ï¼‰ï¼›")])]),s._v(" "),n("p",[s._v("åœ¨ "),n("code",[s._v("put")]),s._v(" æ“ä½œä¹‹åï¼Œéƒ½ä¼šæ£€æŸ¥ "),n("code",[s._v("++size > threshold")]),s._v(" æ˜¯å¦æˆç«‹ï¼ˆ"),n("code",[s._v("size")]),s._v(" è¡¨ç¤º HashMap å·²å­˜æ”¾çš„å…ƒç´ æ•°é‡ï¼Œ"),n("code",[s._v("threshold")]),s._v(" è¡¨ç¤ºå®¹é‡é˜ˆå€¼ï¼‰ã€‚å¦‚æœæˆç«‹ï¼Œè¡¨ç¤ºéœ€è¦æ‰©å®¹ï¼Œæ•°ç»„æ‰©å¤§åˆ°ä¹‹å‰å®¹é‡çš„ 2 å€ "),n("code",[s._v("newThr = oldThr << 1")]),s._v("ã€‚")]),s._v(" "),n("p",[s._v("åœ¨ "),n("code",[s._v("resize()")]),s._v(" ä¸­ï¼Œæ‰©å®¹æ“ä½œæ˜¯åˆ›å»ºä¸€ä¸ªæ–°çš„æ•°ç»„ï¼Œæ‰€ä»¥åœ¨æ‰©å®¹åéœ€è¦æŠŠè€æ•°ç»„ä¸­çš„æ•°æ®æŒªåŠ¨åˆ°æ–°æ•°ç»„ä¸­ï¼š")]),s._v(" "),n("ul",[n("li",[s._v("å¦‚æœæ˜¯æ²¡æœ‰å“ˆå¸Œå†²çªçš„èŠ‚ç‚¹ï¼Œç›´æ¥è®¡ç®—èŠ‚ç‚¹æ–°çš„ä½ç½®å³å¯ "),n("code",[s._v("e.hash & (newCap - 1)")])]),s._v(" "),n("li",[s._v("å¦‚æœæ˜¯çº¢é»‘æ ‘ï¼Œåˆ™èµ°çº¢é»‘æ ‘çš„æ·»åŠ ")]),s._v(" "),n("li",[s._v("å¦‚æœæ˜¯é“¾è¡¨ï¼Œåˆ™éå†é“¾è¡¨æ¯ä¸ªèŠ‚ç‚¹ï¼Œé€šè¿‡ "),n("code",[s._v("hash & oldCap == 0")]),s._v(" åˆ¤æ–­èŠ‚ç‚¹æ˜¯å¦éœ€è¦æ¢ä½ç½®ï¼Œ"),n("code",[s._v("true")]),s._v(" è¡¨ç¤ºç•™åœ¨åŸä½ç½® "),n("code",[s._v("j")]),s._v("ï¼Œ"),n("code",[s._v("false")]),s._v(" è¡¨ç¤ºç§»åŠ¨åˆ°æ–°ä½ç½® "),n("code",[s._v("j + oldCap")])])])])]),n("h4",{attrs:{id:"âšª-ä¸ºä½•hashmapçš„æ•°ç»„é•¿åº¦ä¸€å®šæ˜¯2çš„æ¬¡å¹‚-â“"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#âšª-ä¸ºä½•hashmapçš„æ•°ç»„é•¿åº¦ä¸€å®šæ˜¯2çš„æ¬¡å¹‚-â“"}},[s._v("#")]),s._v(" âšª ä¸ºä½•HashMapçš„æ•°ç»„é•¿åº¦ä¸€å®šæ˜¯2çš„æ¬¡å¹‚ï¼Ÿâ“")]),s._v(" "),n("div",{staticClass:"zenbu-answer"},[n("p",{staticClass:"zenbu-answer-title"},[s._v("ğŸ™‹ğŸ»â€â™‚ï¸ ç­”ï¼š")]),n("div",{staticClass:"zenbu-answer-context"},[n("ol",[n("li",[n("strong",[s._v("è®¡ç®—ç´¢å¼•æ—¶æ•ˆç‡æ›´é«˜")]),s._v("ï¼šå¦‚æœæ˜¯ 2 çš„ n æ¬¡å¹‚ï¼Œå¯ä»¥ä½¿ç”¨ä½ä¸è¿ç®—ä»£æ›¿å–æ¨¡è¿ç®—ï¼›")]),s._v(" "),n("li",[n("strong",[s._v("æ‰©å®¹æ—¶é‡æ–°è®¡ç®—ç´¢å¼•æ•ˆç‡æ›´é«˜")]),s._v("ï¼šæ‰©å®¹æ—¶ï¼Œ"),n("code",[s._v("newCap")]),s._v(" æ˜¯ "),n("code",[s._v("oldCap")]),s._v(" çš„ 2å€ï¼Œé‡æ–°è®¡ç®—æŸä¸ª bucket "),n("code",[s._v("oldTab[j]")]),s._v(" ä¸­çš„é“¾è¡¨ç»“ç‚¹çš„ä¸‹æ ‡æ—¶ï¼Œæ»¡è¶³ "),n("code",[s._v("hash & oldCap == 0")]),s._v(" çš„å…ƒç´ ç•™åœ¨åŸæ¥ä½ç½® "),n("code",[s._v("j")]),s._v("ï¼Œå³ "),n("code",[s._v("newTab[j]")]),s._v("ï¼Œå¦åˆ™è¯¥å…ƒç´ çš„æ–°ä½ç½®ä¸º "),n("code",[s._v("j+oldCap")]),s._v("ï¼Œå³ "),n("code",[s._v("newTab[j + oldCap]")])])])])]),n("h4",{attrs:{id:"âšª-hashmapåœ¨jdk1-7ä¸‹çš„å¤šçº¿ç¨‹æ“ä½œå¯¼è‡´æ­»å¾ªç¯é—®é¢˜â“"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#âšª-hashmapåœ¨jdk1-7ä¸‹çš„å¤šçº¿ç¨‹æ“ä½œå¯¼è‡´æ­»å¾ªç¯é—®é¢˜â“"}},[s._v("#")]),s._v(" âšª HashMapåœ¨JDK1.7ä¸‹çš„å¤šçº¿ç¨‹æ“ä½œå¯¼è‡´æ­»å¾ªç¯é—®é¢˜â“")]),s._v(" "),n("div",{staticClass:"zenbu-answer"},[n("p",{staticClass:"zenbu-answer-title"},[s._v("ğŸ™‹ğŸ»â€â™‚ï¸ ç­”ï¼š")]),n("div",{staticClass:"zenbu-answer-context"},[n("p",[s._v("JDK1.7 åŠä¹‹å‰ç‰ˆæœ¬çš„ HashMap åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹æ‰©å®¹æ“ä½œå¯èƒ½å­˜åœ¨æ­»å¾ªç¯é—®é¢˜ï¼Œè¿™æ˜¯ç”±äºå½“"),n("strong",[s._v("ä¸€ä¸ªæ¡¶ä½")]),s._v("ä¸­æœ‰"),n("strong",[s._v("å¤šä¸ªå…ƒç´ ")]),s._v("éœ€è¦è¿›è¡Œæ‰©å®¹æ—¶ï¼Œ"),n("strong",[s._v("å¤šä¸ªçº¿ç¨‹")]),s._v("åŒæ—¶å¯¹é“¾è¡¨è¿›è¡Œæ“ä½œï¼Œ"),n("strong",[s._v("å¤´æ’æ³•")]),s._v("å¯èƒ½ä¼š"),n("strong",[s._v("å¯¼è‡´é“¾è¡¨ä¸­çš„èŠ‚ç‚¹æŒ‡å‘é”™è¯¯çš„ä½ç½®")]),s._v("ï¼Œä»è€Œ"),n("strong",[s._v("å½¢æˆä¸€ä¸ªç¯å½¢é“¾è¡¨")]),s._v("ï¼Œè¿›è€Œä½¿å¾—åç»­çš„æŸ¥è¯¢å…ƒç´ æ“ä½œé™·å…¥éå†æ­»å¾ªç¯æ— æ³•ç»“æŸã€‚")]),s._v(" "),n("p",[s._v("ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒJDK1.8 ç‰ˆæœ¬çš„ HashMap é‡‡ç”¨äº†å°¾æ’æ³•è€Œä¸æ˜¯å¤´æ’æ³•æ¥é¿å…é“¾è¡¨å€’ç½®ï¼Œä½¿å¾—æ’å…¥çš„èŠ‚ç‚¹æ°¸è¿œéƒ½æ˜¯æ”¾åœ¨é“¾è¡¨çš„æœ«å°¾ï¼Œé¿å…äº†é“¾è¡¨ä¸­çš„ç¯å½¢ç»“æ„ã€‚")]),s._v(" "),n("p",[s._v("âš  æ³¨ï¼šä¸å»ºè®®åœ¨å¤šçº¿ç¨‹ä¸‹ä½¿ç”¨ HashMapï¼Œå› ä¸ºå¤šçº¿ç¨‹ä¸‹ä½¿ç”¨ HashMap è¿˜æ˜¯ä¼šå­˜åœ¨æ•°æ®è¦†ç›–çš„é—®é¢˜ã€‚å¹¶å‘ç¯å¢ƒä¸‹ï¼Œæ¨èä½¿ç”¨ ConcurrentHashMap ã€‚")])])]),n("h4",{attrs:{id:"âšª-hashmapå’Œhashsetçš„åŒºåˆ«â“"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#âšª-hashmapå’Œhashsetçš„åŒºåˆ«â“"}},[s._v("#")]),s._v(" âšª HashMapå’ŒHashSetçš„åŒºåˆ«â“")]),s._v(" "),n("div",{staticClass:"zenbu-answer"},[n("p",{staticClass:"zenbu-answer-title"},[s._v("ğŸ™‹ğŸ»â€â™‚ï¸ ç­”ï¼š")]),n("div",{staticClass:"zenbu-answer-context"},[n("p",[n("code",[s._v("HashSet")]),s._v(" é‡Œé¢æœ‰ä¸€ä¸ª "),n("code",[s._v("HashMap")]),s._v("ï¼ˆé€‚é…å™¨æ¨¡å¼ï¼‰ï¼Œæ‰€ä»¥å¯ä»¥è¯´ï¼š"),n("code",[s._v("HashSet")]),s._v(" åº•å±‚å°±æ˜¯åŸºäº "),n("code",[s._v("HashMap")]),s._v(" å®ç°çš„ã€‚")]),s._v(" "),n("p",[n("code",[s._v("HashSet")]),s._v(" çš„æºç éå¸¸éå¸¸å°‘ï¼Œå› ä¸ºé™¤äº† "),n("code",[s._v("clone()")]),s._v("ã€"),n("code",[s._v("writeObject()")]),s._v("ã€"),n("code",[s._v("readObject()")]),s._v(" æ˜¯ "),n("code",[s._v("HashSet")]),s._v(" è‡ªå·±ä¸å¾—ä¸å®ç°ä¹‹å¤–ï¼Œå…¶ä»–æ–¹æ³•éƒ½æ˜¯ç›´æ¥è°ƒç”¨ "),n("code",[s._v("HashMap")]),s._v(" ä¸­çš„æ–¹æ³•ã€‚")]),s._v(" "),n("p",[s._v("ä»¥ä¸‹ä¸º "),n("code",[s._v("HashMap")]),s._v(" éƒ¨åˆ†æºç ï¼š")]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//HashSetæ˜¯å¯¹HashMapçš„ç®€å•åŒ…è£…")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HashSet")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("E")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//......")]),s._v("\n\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("transient")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HashMap")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("E")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" map"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//HashSeté‡Œé¢æœ‰ä¸€ä¸ªHashMap")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Dummy value to associate with an Object in the backing Map")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("final")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),s._v(" PRESENT "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HashSet")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        map "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HashMap")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//......")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("boolean")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("E")]),s._v(" e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//ç®€å•çš„æ–¹æ³•è½¬æ¢")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" map"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("put")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" PRESENT"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//......")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br")]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br")])])])]),n("h4",{attrs:{id:"âšª-hashmapä¸ºä»€ä¹ˆçº¿ç¨‹ä¸å®‰å…¨â“"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#âšª-hashmapä¸ºä»€ä¹ˆçº¿ç¨‹ä¸å®‰å…¨â“"}},[s._v("#")]),s._v(" âšª HashMapä¸ºä»€ä¹ˆçº¿ç¨‹ä¸å®‰å…¨â“")]),s._v(" "),n("div",{staticClass:"zenbu-answer"},[n("p",{staticClass:"zenbu-answer-title"},[s._v("ğŸ™‹ğŸ»â€â™‚ï¸ ç­”ï¼š")]),n("div",{staticClass:"zenbu-answer-context"},[n("p",[s._v("JDK1.7 åŠä¹‹å‰ç‰ˆæœ¬ï¼Œåœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹ï¼ŒHashMap æ‰©å®¹æ—¶ä¼šé€ æˆ "),n("strong",[s._v("æ­»å¾ªç¯")]),s._v(" å’Œ "),n("strong",[s._v("æ•°æ®ä¸¢å¤±")]),s._v(" çš„é—®é¢˜ã€‚")]),s._v(" "),n("p",[n("strong",[s._v("æ•°æ®ä¸¢å¤±è¿™ä¸ªåœ¨ JDK1.7 å’Œ JDK 1.8 ä¸­éƒ½å­˜åœ¨")]),s._v(" ï¼Œè¿™é‡Œä»¥ JDK 1.8 ä¸ºä¾‹è¿›è¡Œä»‹ç»ã€‚")]),s._v(" "),n("p",[s._v("JDK 1.8 åï¼Œåœ¨ HashMap ä¸­ï¼Œå¤šä¸ªé”®å€¼å¯¹å¯èƒ½ä¼šè¢«åˆ†é…åˆ°åŒä¸€ä¸ªæ¡¶ï¼ˆbucketï¼‰ï¼Œå¹¶ä»¥é“¾è¡¨æˆ–çº¢é»‘æ ‘çš„å½¢å¼å­˜å‚¨ã€‚"),n("strong",[s._v("å¤šä¸ªçº¿ç¨‹")]),s._v(" å¯¹ HashMap çš„ "),n("code",[s._v("put")]),s._v(" æ“ä½œä¼šå¯¼è‡´çº¿ç¨‹ä¸å®‰å…¨ï¼Œå…·ä½“æ¥è¯´"),n("strong",[s._v("ä¼šæœ‰æ•°æ®è¦†ç›–çš„é£é™©")]),s._v("ã€‚")]),s._v(" "),n("p",[s._v("ä¸¾ä¸ªä¾‹å­ï¼š")]),s._v(" "),n("ul",[n("li",[s._v("ä¸¤ä¸ªçº¿ç¨‹ 1,2 åŒæ—¶è¿›è¡Œ put æ“ä½œï¼Œå¹¶ä¸”å‘ç”Ÿäº†å“ˆå¸Œå†²çªï¼ˆhash å‡½æ•°è®¡ç®—å‡ºçš„æ’å…¥ä¸‹æ ‡æ˜¯ç›¸åŒçš„ï¼‰ã€‚")]),s._v(" "),n("li",[s._v("ä¸åŒçš„çº¿ç¨‹å¯èƒ½åœ¨ä¸åŒçš„æ—¶é—´ç‰‡è·å¾— CPU æ‰§è¡Œçš„æœºä¼šï¼Œå½“å‰çº¿ç¨‹ 1 æ‰§è¡Œå®Œå“ˆå¸Œå†²çªåˆ¤æ–­åï¼Œç”±äºæ—¶é—´ç‰‡è€—å°½æŒ‚èµ·ã€‚çº¿ç¨‹ 2 å…ˆå®Œæˆäº†æ’å…¥æ“ä½œã€‚")]),s._v(" "),n("li",[s._v("éšåï¼Œçº¿ç¨‹ 1 è·å¾—æ—¶é—´ç‰‡ï¼Œç”±äºä¹‹å‰å·²ç»è¿›è¡Œè¿‡ hash ç¢°æ’çš„åˆ¤æ–­ï¼Œæ‰€æœ‰æ­¤æ—¶ä¼šç›´æ¥è¿›è¡Œæ’å…¥ï¼Œè¿™å°±å¯¼è‡´çº¿ç¨‹ 2 æ’å…¥çš„æ•°æ®è¢«çº¿ç¨‹ 1 è¦†ç›–äº†ã€‚")])]),s._v(" "),n("p",[s._v("è¿˜æœ‰ä¸€ç§æƒ…å†µæ˜¯è¿™ä¸¤ä¸ªçº¿ç¨‹åŒæ—¶ put æ“ä½œå¯¼è‡´ "),n("code",[s._v("size")]),s._v(" çš„å€¼ä¸æ­£ç¡®ï¼Œè¿›è€Œå¯¼è‡´æ•°æ®è¦†ç›–çš„é—®é¢˜ï¼š")]),s._v(" "),n("ul",[n("li",[s._v("çº¿ç¨‹ 1 æ‰§è¡Œ "),n("code",[s._v("if(++size > threshold)")]),s._v(" åˆ¤æ–­æ—¶ï¼Œå‡è®¾è·å¾— "),n("code",[s._v("size")]),s._v(" çš„å€¼ä¸º 10ï¼Œç”±äºæ—¶é—´ç‰‡è€—å°½æŒ‚èµ·ã€‚")]),s._v(" "),n("li",[s._v("çº¿ç¨‹ 2 ä¹Ÿæ‰§è¡Œ "),n("code",[s._v("if(++size > threshold)")]),s._v(" åˆ¤æ–­ï¼Œè·å¾— "),n("code",[s._v("size")]),s._v(" çš„å€¼ä¹Ÿä¸º 10ï¼Œå¹¶å°†å…ƒç´ æ’å…¥åˆ°è¯¥æ¡¶ä½ä¸­ï¼Œå¹¶å°† "),n("code",[s._v("size")]),s._v(" çš„å€¼æ›´æ–°ä¸º 11ã€‚")]),s._v(" "),n("li",[s._v("éšåï¼Œçº¿ç¨‹ 1 è·å¾—æ—¶é—´ç‰‡ï¼Œå®ƒä¹Ÿå°†å…ƒç´ æ”¾å…¥æ¡¶ä½ä¸­ï¼Œå¹¶å°† "),n("code",[s._v("size")]),s._v(" çš„å€¼æ›´æ–°ä¸º 11ã€‚")]),s._v(" "),n("li",[s._v("çº¿ç¨‹ 1ã€2 éƒ½æ‰§è¡Œäº†ä¸€æ¬¡ put æ“ä½œï¼Œä½†æ˜¯ "),n("code",[s._v("size")]),s._v(" çš„å€¼åªå¢åŠ äº† 1ï¼Œä¹Ÿå°±å¯¼è‡´å®é™…ä¸Šåªæœ‰ä¸€ä¸ªå…ƒç´ è¢«æ·»åŠ åˆ°äº† HashMap ä¸­ã€‚")])])])]),n("h2",{attrs:{id:"å¹¶å‘ç¼–ç¨‹ç¯‡"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å¹¶å‘ç¼–ç¨‹ç¯‡"}},[s._v("#")]),s._v(" å¹¶å‘ç¼–ç¨‹ç¯‡")]),s._v(" "),n("img",{staticClass:"zoom",attrs:{src:"https://raw.githubusercontent.com/DishuZ/PicGo/main/all/20240521162913.png",alt:"é»‘é©¬å¹¶å‘é¢è¯•é—®é¢˜æ€»è§ˆ"}}),s._v(" "),n("h3",{attrs:{id:"çº¿ç¨‹çš„åŸºæœ¬çŸ¥è¯†"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#çº¿ç¨‹çš„åŸºæœ¬çŸ¥è¯†"}},[s._v("#")]),s._v(" çº¿ç¨‹çš„åŸºæœ¬çŸ¥è¯†")]),s._v(" "),n("h4",{attrs:{id:"âšª-çº¿ç¨‹å’Œè¿›ç¨‹çš„åŒºåˆ«â“"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#âšª-çº¿ç¨‹å’Œè¿›ç¨‹çš„åŒºåˆ«â“"}},[s._v("#")]),s._v(" âšª çº¿ç¨‹å’Œè¿›ç¨‹çš„åŒºåˆ«â“")]),s._v(" "),n("div",{staticClass:"zenbu-answer"},[n("p",{staticClass:"zenbu-answer-title"},[s._v("ğŸ™‹ğŸ»â€â™‚ï¸ ç­”ï¼š")]),n("div",{staticClass:"zenbu-answer-context"},[n("p",[s._v("ï¼ˆ1ï¼‰æ¦‚å¿µ")]),s._v(" "),n("ul",[n("li",[n("strong",[s._v("è¿›ç¨‹ï¼ˆProcessï¼‰")]),s._v(" æ˜¯æŒ‡è®¡ç®—æœºä¸­æ­£åœ¨è¿è¡Œçš„ä¸€ä¸ªç¨‹åºå®ä¾‹ã€‚"),n("span",{staticStyle:{color:"rgb(122 116 116)"}},[s._v("ä¸¾ä¾‹ï¼šä½ æ‰“å¼€çš„å¾®ä¿¡å°±æ˜¯ä¸€ä¸ªè¿›ç¨‹ã€‚")])]),s._v(" "),n("li",[n("strong",[s._v("çº¿ç¨‹ï¼ˆThreadï¼‰")]),s._v(" ä¹Ÿè¢«ç§°ä¸ºè½»é‡çº§è¿›ç¨‹ï¼Œæ›´åŠ è½»é‡ã€‚å¤šä¸ªçº¿ç¨‹å¯ä»¥åœ¨åŒä¸€ä¸ªè¿›ç¨‹ä¸­åŒæ—¶æ‰§è¡Œï¼Œå¹¶ä¸”å…±äº«è¿›ç¨‹çš„èµ„æºï¼Œæ¯”å¦‚å†…å­˜ç©ºé—´ã€æ–‡ä»¶å¥æŸ„ã€ç½‘ç»œè¿æ¥ç­‰ã€‚"),n("span",{staticStyle:{color:"rgb(122 116 116)"}},[s._v("ä¸¾ä¾‹ï¼šä½ æ‰“å¼€çš„å¾®ä¿¡é‡Œå°±æœ‰ä¸€ä¸ªçº¿ç¨‹ä¸“é—¨ç”¨æ¥æ‹‰å–åˆ«äººå‘ä½ çš„æœ€æ–°çš„æ¶ˆæ¯ã€‚")])])]),s._v(" "),n("blockquote",[n("p",[s._v("åœ¨æ—©æœŸçš„æ“ä½œç³»ç»Ÿä¸­éƒ½æ˜¯ä»¥è¿›ç¨‹ä½œä¸ºç‹¬ç«‹è¿è¡Œçš„åŸºæœ¬å•ä½ï¼Œç›´åˆ°åé¢ï¼Œè®¡ç®—æœºç§‘å­¦å®¶ä»¬åˆæå‡ºäº†æ›´å°çš„èƒ½ç‹¬ç«‹è¿è¡Œçš„åŸºæœ¬å•ä½ï¼Œä¹Ÿå°±æ˜¯çº¿ç¨‹ã€‚")])]),s._v(" "),n("p",[s._v("ï¼ˆ2ï¼‰åŒºåˆ«")]),s._v(" "),n("ul",[n("li",[n("strong",[s._v("åŸºæœ¬å•ä½")]),s._v("ï¼šè¿›ç¨‹æ˜¯æ“ä½œç³»ç»Ÿ"),n("strong",[s._v("åˆ†é…èµ„æºçš„åŸºæœ¬å•ä½")]),s._v("ï¼›çº¿ç¨‹æ˜¯"),n("strong",[s._v("ç¨‹åºæ‰§è¡Œï¼ˆCPUè°ƒåº¦ï¼‰çš„åŸºæœ¬å•ä½")]),s._v("ï¼›")]),s._v(" "),n("li",[n("strong",[s._v("åŒ…å«å…³ç³»")]),s._v("ï¼šä¸€ä¸ªè¿›ç¨‹å¯ä»¥åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªçº¿ç¨‹ï¼›çº¿ç¨‹ä¸èƒ½åŒ…å«è¿›ç¨‹ï¼›")]),s._v(" "),n("li",[n("strong",[s._v("èµ„æºå æœ‰")]),s._v("ï¼šè¿›ç¨‹æ‹¥æœ‰ä¸€ä¸ªå®Œæ•´çš„èµ„æºå¹³å°ï¼ˆç‹¬ç«‹çš„å†…å­˜ç©ºé—´å’Œèµ„æºï¼‰ï¼›çº¿ç¨‹åªç‹¬äº«å¿…ä¸å¯å°‘çš„èµ„æºï¼ˆå¦‚å¯„å­˜å™¨å’Œæ ˆï¼‰ï¼Œå…±äº«è¿›ç¨‹çš„å†…å­˜å’Œèµ„æºï¼›")]),s._v(" "),n("li",[n("strong",[s._v("çŠ¶æ€")]),s._v("ï¼šè¿›ç¨‹å’Œçº¿ç¨‹éƒ½å…·æœ‰å°±ç»ªã€é˜»å¡ã€æ‰§è¡Œä¸‰ç§åŸºæœ¬çŠ¶æ€ï¼ŒåŒæ ·å…·æœ‰çŠ¶æ€ä¹‹é—´çš„è½¬æ¢å…³ç³»ï¼›")]),s._v(" "),n("li",[n("strong",[s._v("å¼€é”€")]),s._v("ï¼šçº¿ç¨‹èƒ½å‡å°‘å¹¶å‘æ‰§è¡Œçš„æ—¶é—´å’Œç©ºé—´å¼€é”€ï¼ˆè¿›ç¨‹åˆ‡æ¢çš„æˆæœ¬æ¯”è¾ƒå¤§ï¼›çº¿ç¨‹åˆ‡æ¢æˆæœ¬æ¯”è¾ƒå°ï¼‰ï¼›")])]),s._v(" "),n("p",[s._v("å¯¹äºâ€œçº¿ç¨‹ç›¸æ¯”è¿›ç¨‹èƒ½å‡å°‘å¼€é”€â€ï¼Œä½“ç°åœ¨ï¼š")]),s._v(" "),n("ul",[n("li",[n("strong",[s._v("åˆ›å»ºå¼€é”€")]),s._v("ï¼šçº¿ç¨‹çš„åˆ›å»ºæ—¶é—´æ¯”è¿›ç¨‹å¿«ï¼Œå› ä¸ºè¿›ç¨‹åœ¨åˆ›å»ºçš„è¿‡ç¨‹ä¸­ï¼Œè¿˜éœ€è¦èµ„æºç®¡ç†ä¿¡æ¯ï¼Œæ¯”å¦‚å†…å­˜ç®¡ç†ä¿¡æ¯ã€æ–‡ä»¶ç®¡ç†ä¿¡æ¯ï¼Œè€Œçº¿ç¨‹åœ¨åˆ›å»ºçš„è¿‡ç¨‹ä¸­ï¼Œä¸ä¼šæ¶‰åŠè¿™äº›èµ„æºç®¡ç†ä¿¡æ¯ï¼Œè€Œæ˜¯å…±äº«å®ƒä»¬ï¼›")]),s._v(" "),n("li",[n("strong",[s._v("é”€æ¯å¼€é”€")]),s._v("ï¼šçº¿ç¨‹çš„ç»ˆæ­¢æ—¶é—´æ¯”è¿›ç¨‹å¿«ï¼Œå› ä¸ºçº¿ç¨‹é‡Šæ”¾çš„èµ„æºç›¸æ¯”è¿›ç¨‹å°‘å¾ˆå¤šï¼›")]),s._v(" "),n("li",[n("strong",[s._v("åˆ‡æ¢å¼€é”€")]),s._v("ï¼šåŒä¸€ä¸ªè¿›ç¨‹å†…çš„çº¿ç¨‹åˆ‡æ¢æ¯”è¿›ç¨‹åˆ‡æ¢å¿«ï¼Œå› ä¸ºçº¿ç¨‹å…·æœ‰ç›¸åŒçš„åœ°å€ç©ºé—´ï¼ˆè™šæ‹Ÿå†…å­˜å…±äº«ï¼‰ï¼Œè¿™æ„å‘³ç€åŒä¸€ä¸ªè¿›ç¨‹çš„çº¿ç¨‹éƒ½å…·æœ‰åŒä¸€ä¸ªé¡µè¡¨ï¼Œé‚£ä¹ˆåœ¨åˆ‡æ¢çš„æ—¶å€™ä¸éœ€è¦åˆ‡æ¢é¡µè¡¨ã€‚è€Œå¯¹äºè¿›ç¨‹ä¹‹é—´çš„åˆ‡æ¢ï¼Œåˆ‡æ¢çš„æ—¶å€™è¦æŠŠé¡µè¡¨ç»™åˆ‡æ¢æ‰ï¼Œè€Œé¡µè¡¨çš„åˆ‡æ¢è¿‡ç¨‹å¼€é”€æ˜¯æ¯”è¾ƒå¤§çš„ï¼›")]),s._v(" "),n("li",[n("strong",[s._v("äº¤äº’å¼€é”€")]),s._v("ï¼šç”±äºåŒä¸€è¿›ç¨‹çš„å„çº¿ç¨‹é—´å…±äº«å†…å­˜å’Œæ–‡ä»¶èµ„æºï¼Œé‚£ä¹ˆåœ¨çº¿ç¨‹ä¹‹é—´æ•°æ®ä¼ é€’çš„æ—¶å€™ï¼Œå°±ä¸éœ€è¦ç»è¿‡å†…æ ¸äº†ï¼Œè¿™å°±ä½¿å¾—çº¿ç¨‹ä¹‹é—´çš„æ•°æ®äº¤äº’æ•ˆç‡æ›´é«˜äº†ï¼›")])])])]),n("h4",{attrs:{id:"âšª-å¹¶è¡Œå’Œå¹¶å‘çš„åŒºåˆ«â“"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#âšª-å¹¶è¡Œå’Œå¹¶å‘çš„åŒºåˆ«â“"}},[s._v("#")]),s._v(" âšª å¹¶è¡Œå’Œå¹¶å‘çš„åŒºåˆ«â“")]),s._v(" "),n("div",{staticClass:"zenbu-answer"},[n("p",{staticClass:"zenbu-answer-title"},[s._v("ğŸ™‹ğŸ»â€â™‚ï¸ ç­”ï¼š")]),n("div",{staticClass:"zenbu-answer-context"},[n("p",[s._v("ï¼ˆ1ï¼‰æ¦‚å¿µä¸åŒ")]),s._v(" "),n("ul",[n("li",[n("strong",[s._v("å¹¶å‘")]),s._v("ï¼ˆconcurrentï¼‰ï¼šåŒä¸€æ—¶é—´åº”å¯¹ï¼ˆdealing withï¼‰å¤šä»¶äº‹æƒ… / ä¸¤ä¸ªåŠä¸¤ä¸ªä»¥ä¸Šçš„ä½œä¸šåœ¨ "),n("strong",[s._v("åŒä¸€æ—¶é—´æ®µ")]),s._v(" å†…æ‰§è¡Œã€‚")]),s._v(" "),n("li",[n("strong",[s._v("å¹¶è¡Œ")]),s._v("ï¼ˆparallelï¼‰ï¼šåŒä¸€æ—¶é—´åŠ¨æ‰‹åšï¼ˆdoingï¼‰å¤šä»¶äº‹æƒ… / ä¸¤ä¸ªåŠä¸¤ä¸ªä»¥ä¸Šçš„ä½œä¸šåœ¨ "),n("strong",[s._v("åŒä¸€æ—¶åˆ»")]),s._v(" æ‰§è¡Œã€‚")])]),s._v(" "),n("p",[s._v("æœ€å…³é”®çš„ç‚¹æ˜¯ï¼šæ˜¯å¦æ˜¯åŒæ—¶æ‰§è¡Œã€‚")]),s._v(" "),n("p",[s._v("ï¼ˆ2ï¼‰åœ¨å¤šæ ¸ CPU ä¸‹")]),s._v(" "),n("ul",[n("li",[s._v("å¹¶å‘ï¼šå¤šä¸ªçº¿ç¨‹è½®æµä½¿ç”¨ä¸€ä¸ªCPU")]),s._v(" "),n("li",[s._v("å¹¶è¡Œï¼š4ä¸ªCPUæ ¸åŒæ—¶æ‰§è¡Œ4ä¸ªçº¿ç¨‹")])])])]),n("h4",{attrs:{id:"âšª-åˆ›å»ºçº¿ç¨‹çš„æ–¹å¼æœ‰å“ªäº›â“"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#âšª-åˆ›å»ºçº¿ç¨‹çš„æ–¹å¼æœ‰å“ªäº›â“"}},[s._v("#")]),s._v(" âšª åˆ›å»ºçº¿ç¨‹çš„æ–¹å¼æœ‰å“ªäº›â“")]),s._v(" "),n("div",{staticClass:"zenbu-answer"},[n("p",{staticClass:"zenbu-answer-title"},[s._v("ğŸ™‹ğŸ»â€â™‚ï¸ ç­”ï¼š")]),n("div",{staticClass:"zenbu-answer-context"},[n("p",[n("strong",[s._v("Java ä¸­åˆ›å»ºçº¿ç¨‹çš„ä¸‰ç§æ ‡å‡†æ–¹å¼")]),s._v("ï¼š")]),s._v(" "),n("ol",[n("li",[s._v("ç»§æ‰¿ "),n("code",[s._v("Thread")]),s._v(" ç±»ï¼Œé‡å†™ "),n("code",[s._v("run()")]),s._v(" æ–¹æ³•")])]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 1) ç»§æ‰¿ `Thread` ç±»")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("MyThread")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("extends")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Thread")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 2) é‡å†™ `run()` æ–¹æ³•")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Override")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("run")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ...")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Main")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" args"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("MyThread")]),s._v(" instance "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("MyThread")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 3) åˆ›å»ºçº¿ç¨‹å¯¹è±¡")]),s._v("\n        instance"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("start")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("ol",{attrs:{start:"2"}},[n("li",[s._v("å®ç° "),n("code",[s._v("Runnable")]),s._v(" æ¥å£ï¼Œé‡å†™ "),n("code",[s._v("run()")]),s._v(" æ–¹æ³•")])]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 1) å®ç° `Runnable` æ¥å£")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("MyRunnable")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("implements")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Runnable")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 2) é‡å†™ `run()` æ–¹æ³•")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Override")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("run")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ...")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Main")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" args"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("MyRunnable")]),s._v(" instance "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("MyRunnable")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 3) åˆ›å»ºçº¿ç¨‹å¯¹è±¡")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Thread")]),s._v(" thread "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Thread")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("instance"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        thread"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("start")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("ol",{attrs:{start:"3"}},[n("li",[n("span",{staticStyle:{color:"rgb(122 116 116)"}},[s._v("ï¼ˆå‰ä¸¤ç§æ–¹å¼éƒ½ä¸èƒ½æ‹¿åˆ°çº¿ç¨‹çš„è¿”å›å€¼ï¼‰")]),s._v(" å®ç° "),n("code",[s._v("Callable")]),s._v(" æ¥å£ï¼Œé‡å†™ "),n("code",[s._v("call()")]),s._v(" æ–¹æ³•ï¼Œè¿”å›å€¼é€šè¿‡ "),n("code",[s._v("FutureTask")]),s._v(" è¿›è¡Œå°è£…")])]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 1) å®ç° `Callable` æ¥å£ï¼Œè¿”å›å€¼ä¸º Integer")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("MyCallable")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("implements")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Callable")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Integer")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 2) é‡å†™ `call()` æ–¹æ³•")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Override")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Integer")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("call")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throws")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Exception")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ...")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("123")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Main")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" args"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("MyCallable")]),s._v(" instance "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("MyCallable")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 3) åˆ›å»ºçº¿ç¨‹å¯¹è±¡")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("FutureTask")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Integer")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" ft "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("FutureTask")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("instance"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Thread")]),s._v(" thread "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Thread")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("ft"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        thread"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("start")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("println")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("ft"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("get")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("p",[s._v("è¿˜æœ‰"),n("strong",[s._v("ä¸¤ç§æœ‰æ­§ä¹‰çš„æ–¹å¼")]),s._v("ï¼ˆä¸å»ºè®®å›ç­”ï¼Œä½†å¯ä»¥äº†è§£ï¼Œå¹¶æ˜ç™½å®ƒä»¬çš„æœ¬è´¨ï¼‰ï¼š")]),s._v(" "),n("ol",[n("li",[s._v("Lambdaè¡¨è¾¾å¼å®ç° "),n("code",[s._v("Runnable")]),s._v(" æ¥å£çš„æ–¹æ³•")]),s._v(" "),n("li",[s._v("ä½¿ç”¨çº¿ç¨‹æ± åˆ›å»ºï¼š\n"),n("ul",[n("li",[s._v("1ï¼‰é€šè¿‡ "),n("code",[s._v("ThreadPoolExecutor")]),s._v(" æ„é€ å‡½æ•°åˆ›å»ºï¼ˆâœ…æ¨èï¼‰\n"),n("ul",[n("li",[n("code",[s._v("new ThreadPoolExecutor(...);")])])])]),s._v(" "),n("li",[s._v("2ï¼‰é€šè¿‡å·¥å…·ç±» "),n("code",[s._v("Executors")]),s._v(" æ¥åˆ›å»ºï¼ˆâä¸æ¨èï¼‰\n"),n("ul",[n("li",[n("code",[s._v("Executors.newCachedThreadPool(...);")])]),s._v(" "),n("li",[n("code",[s._v("Executors.newFixedThreadPool(...);")])]),s._v(" "),n("li",[n("code",[s._v("Executors.newSingleThreadExecutor(...);")])]),s._v(" "),n("li",[n("code",[s._v("Executors.newScheduledThreadPool(...);")])])])])])])])])]),n("h4",{attrs:{id:"âšª-ä½¿ç”¨runnableå’Œcallableéƒ½å¯ä»¥åˆ›å»ºçº¿ç¨‹-å®ƒä»¬æœ‰ä»€ä¹ˆåŒºåˆ«â“"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#âšª-ä½¿ç”¨runnableå’Œcallableéƒ½å¯ä»¥åˆ›å»ºçº¿ç¨‹-å®ƒä»¬æœ‰ä»€ä¹ˆåŒºåˆ«â“"}},[s._v("#")]),s._v(" âšª ä½¿ç”¨Runnableå’ŒCallableéƒ½å¯ä»¥åˆ›å»ºçº¿ç¨‹ï¼Œå®ƒä»¬æœ‰ä»€ä¹ˆåŒºåˆ«â“")]),s._v(" "),n("div",{staticClass:"zenbu-answer"},[n("p",{staticClass:"zenbu-answer-title"},[s._v("ğŸ™‹ğŸ»â€â™‚ï¸ ç­”ï¼š")]),n("div",{staticClass:"zenbu-answer-context"},[n("ol",[n("li",[s._v("å®šä¹‰å’Œè¿”å›å€¼ï¼š\n"),n("ul",[n("li",[s._v("Runnable æ¥å£å®šä¹‰çš„æ˜¯ "),n("strong",[s._v("æ²¡æœ‰è¿”å›å€¼çš„"),n("code",[s._v("run()")]),s._v("æ–¹æ³•")])]),s._v(" "),n("li",[s._v("Callable æ¥å£å®šä¹‰äº†çš„æ˜¯ "),n("strong",[s._v("æœ‰è¿”å›å€¼çš„ "),n("code",[s._v("call()")]),s._v(" æ–¹æ³•")])])])]),s._v(" "),n("li",[s._v("å¼‚å¸¸å¤„ç†ï¼š\n"),n("ul",[n("li",[s._v("Runnable æ¥å£çš„ "),n("code",[s._v("run()")]),s._v(" æ–¹æ³•ä¸èƒ½æŠ›å‡ºå¼‚å¸¸ï¼ˆå—æ£€æŸ¥å¼‚å¸¸ï¼‰ï¼Œåªèƒ½åœ¨æ–¹æ³•å†…éƒ¨è¿›è¡Œå¼‚å¸¸å¤„ç†")]),s._v(" "),n("li",[s._v("Callable æ¥å£çš„ "),n("code",[s._v("call()")]),s._v(" æ–¹æ³•å¯ä»¥æŠ›å‡ºå¼‚å¸¸ï¼Œè°ƒç”¨è€…éœ€è¦è¿›è¡Œç›¸åº”çš„å¼‚å¸¸å¤„ç†")])])]),s._v(" "),n("li",[s._v("è¿”å›ç»“æœï¼š\n"),n("ul",[n("li",[s._v("Runnable æ¥å£çš„ "),n("code",[s._v("run()")]),s._v(" æ–¹æ³•æ²¡æœ‰è¿”å›å€¼ï¼Œæ— æ³•è·å–ä»»åŠ¡çš„æ‰§è¡Œç»“æœ")]),s._v(" "),n("li",[s._v("Callable æ¥å£çš„ "),n("code",[s._v("call()")]),s._v(" æ–¹æ³•æœ‰è¿”å›å€¼ï¼ˆæ³›å‹ç±»å‹ï¼‰ï¼Œé…åˆ "),n("code",[s._v("Future")]),s._v("ã€"),n("code",[s._v("FutureTask")]),s._v(" è·å–ä»»åŠ¡çš„æ‰§è¡Œç»“æœ")])])])])])]),n("h4",{attrs:{id:"âšª-åœ¨å¯åŠ¨çº¿ç¨‹çš„æ—¶å€™-å¯ä»¥ä½¿ç”¨runæ–¹æ³•å—-run-å’Œstart-æœ‰ä»€ä¹ˆåŒºåˆ«â“"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#âšª-åœ¨å¯åŠ¨çº¿ç¨‹çš„æ—¶å€™-å¯ä»¥ä½¿ç”¨runæ–¹æ³•å—-run-å’Œstart-æœ‰ä»€ä¹ˆåŒºåˆ«â“"}},[s._v("#")]),s._v(" âšª åœ¨å¯åŠ¨çº¿ç¨‹çš„æ—¶å€™ï¼Œå¯ä»¥ä½¿ç”¨runæ–¹æ³•å—ï¼Ÿrun()å’Œstart()æœ‰ä»€ä¹ˆåŒºåˆ«â“")]),s._v(" "),n("div",{staticClass:"zenbu-answer"},[n("p",{staticClass:"zenbu-answer-title"},[s._v("ğŸ™‹ğŸ»â€â™‚ï¸ ç­”ï¼š")]),n("div",{staticClass:"zenbu-answer-context"},[n("p",[s._v("ï¼ˆ1ï¼‰ç›´æ¥å›ç­”")]),s._v(" "),n("p",[n("strong",[s._v("å¯ä»¥ç›´æ¥æ‰§è¡Œ")]),s._v(" "),n("code",[s._v("run()")]),s._v(" æ–¹æ³•ï¼Œä½†æ˜¯ï¼Œè¿™ç§æ–¹å¼ä¼šæŠŠ "),n("code",[s._v("run()")]),s._v(" æ–¹æ³•å½“æˆ main çº¿ç¨‹ä¸‹çš„æ™®é€šæ–¹æ³•å»æ‰§è¡Œï¼Œå¹¶ä¸ä¼šåœ¨æŸä¸ªçº¿ç¨‹ä¸­æ‰§è¡Œå®ƒï¼Œæ‰€ä»¥"),n("strong",[s._v("è¿™å¹¶ä¸æ˜¯å¤šçº¿ç¨‹å·¥ä½œ")])]),s._v(" "),n("p",[s._v("ï¼ˆ2ï¼‰åˆ†æ")]),s._v(" "),n("p",[s._v("new ä¸€ä¸ª "),n("code",[s._v("Thread")]),s._v("ï¼Œçº¿ç¨‹è¿›å…¥äº†æ–°å»ºçŠ¶æ€ã€‚è°ƒç”¨ "),n("code",[s._v("start()")]),s._v(" æ–¹æ³•ï¼Œä¼šå¯åŠ¨ä¸€ä¸ªçº¿ç¨‹å¹¶ä½¿çº¿ç¨‹è¿›å…¥äº†å°±ç»ªçŠ¶æ€ï¼Œå½“åˆ†é…åˆ°æ—¶é—´ç‰‡åå°±å¯ä»¥å¼€å§‹è¿è¡Œäº†ã€‚ "),n("code",[s._v("start()")]),s._v(" ä¼šæ‰§è¡Œçº¿ç¨‹çš„ç›¸åº”å‡†å¤‡å·¥ä½œï¼Œç„¶åè‡ªåŠ¨æ‰§è¡Œ "),n("code",[s._v("run()")]),s._v(" æ–¹æ³•çš„å†…å®¹ï¼Œè¿™æ˜¯çœŸæ­£çš„å¤šçº¿ç¨‹å·¥ä½œã€‚")]),s._v(" "),n("p",[n("strong",[s._v("æ€»ç»“ï¼šè°ƒç”¨ "),n("code",[s._v("start()")]),s._v(" æ–¹æ³•æ–¹å¯å¯åŠ¨çº¿ç¨‹å¹¶ä½¿çº¿ç¨‹è¿›å…¥å°±ç»ªçŠ¶æ€ï¼Œç›´æ¥æ‰§è¡Œ "),n("code",[s._v("run()")]),s._v(" æ–¹æ³•çš„è¯ä¸ä¼šä»¥å¤šçº¿ç¨‹çš„æ–¹å¼æ‰§è¡Œã€‚")])]),s._v(" "),n("p",[s._v("ï¼ˆ3ï¼‰åŒºåˆ«")]),s._v(" "),n("p",[s._v("ä½œç”¨ï¼š")]),s._v(" "),n("ul",[n("li",[n("code",[s._v("start()")]),s._v(": å¯åŠ¨ä¸€ä¸ªçº¿ç¨‹å¹¶ä½¿çº¿ç¨‹è¿›å…¥äº†å°±ç»ªçŠ¶æ€ï¼Œé€šè¿‡è¯¥çº¿ç¨‹è°ƒç”¨ "),n("code",[s._v("run()")]),s._v(" æ–¹æ³•ï¼Œè¿™æ˜¯çœŸæ­£çš„å¤šçº¿ç¨‹å·¥ä½œã€‚")]),s._v(" "),n("li",[n("code",[s._v("run()")]),s._v(": å°è£…äº†è¦è¢«çº¿ç¨‹æ‰§è¡Œçš„ä»£ç ã€‚")])]),s._v(" "),n("p",[s._v("è°ƒç”¨æ¬¡æ•°ï¼š")]),s._v(" "),n("ul",[n("li",[n("code",[s._v("start()")]),s._v(": åªèƒ½è¢«è°ƒç”¨ä¸€æ¬¡")]),s._v(" "),n("li",[n("code",[s._v("run()")]),s._v(": å¯ä»¥è¢«è°ƒç”¨å¤šæ¬¡")])]),s._v(" "),n("p",[s._v("ğŸ§›ğŸ»â€â™‚ï¸ å¼•ç”³çš„ä¸¤ä¸ªé—®é¢˜")]),s._v(" "),n("ul",[n("li",[s._v("åå¤è°ƒç”¨åŒä¸€ä¸ªçº¿ç¨‹çš„ "),n("code",[s._v("start()")]),s._v(" æ–¹æ³•æ˜¯å¦å¯è¡Œï¼Ÿ")]),s._v(" "),n("li",[s._v("å‡å¦‚ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œå®Œæ¯•ï¼ˆæ­¤æ—¶å¤„äº TERMINATED çŠ¶æ€ï¼‰ï¼Œå†æ¬¡è°ƒç”¨è¿™ä¸ªçº¿ç¨‹çš„ "),n("code",[s._v("start()")]),s._v(" æ–¹æ³•æ˜¯å¦å¯è¡Œï¼Ÿ")])]),s._v(" "),n("p",[s._v("ğŸ™‹ğŸ»â€â™‚ï¸ï¼šéƒ½ä¸è¡Œï¼Œåœ¨è°ƒç”¨ "),n("code",[s._v("start()")]),s._v(" ä¹‹åï¼Œ"),n("code",[s._v("threadStatus")]),s._v(" çš„å€¼ä¼šæ”¹å˜ï¼ˆ"),n("code",[s._v("threadStatus !=0")]),s._v("ï¼‰ï¼Œå†æ¬¡è°ƒç”¨ "),n("code",[s._v("start()")]),s._v(" æ–¹æ³•ä¼šæŠ›å‡º "),n("code",[s._v("IllegalThreadStateException")]),s._v(" å¼‚å¸¸ã€‚")])])]),n("h4",{attrs:{id:"âšª-çº¿ç¨‹åŒ…æ‹¬å“ªäº›çŠ¶æ€-çŠ¶æ€ä¹‹é—´æ˜¯å¦‚ä½•å˜åŒ–â“"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#âšª-çº¿ç¨‹åŒ…æ‹¬å“ªäº›çŠ¶æ€-çŠ¶æ€ä¹‹é—´æ˜¯å¦‚ä½•å˜åŒ–â“"}},[s._v("#")]),s._v(" âšª çº¿ç¨‹åŒ…æ‹¬å“ªäº›çŠ¶æ€ï¼ŒçŠ¶æ€ä¹‹é—´æ˜¯å¦‚ä½•å˜åŒ–â“")]),s._v(" "),n("div",{staticClass:"zenbu-answer"},[n("p",{staticClass:"zenbu-answer-title"},[s._v("ğŸ™‹ğŸ»â€â™‚ï¸ ç­”ï¼š")]),n("div",{staticClass:"zenbu-answer-context"},[n("p",[s._v("ï¼ˆ1ï¼‰"),n("strong",[s._v("çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸå’ŒçŠ¶æ€")])]),s._v(" "),n("p",[s._v("Javaçº¿ç¨‹ä¸€ä¸ªæœ‰6ç§ä¸åŒçš„çŠ¶æ€ï¼Œå¦‚ä¸‹ï¼š")]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Thread.State æºç  â€”â€” çº¿ç¨‹çŠ¶æ€çš„æšä¸¾ç±»")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("enum")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("State")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æ–°å»º     â€”â€” çº¿ç¨‹è¢«åˆ›å»ºå‡ºæ¥ï¼Œä½†æ²¡æœ‰è¢«è°ƒç”¨ start()")]),s._v("\n    NEW"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("            \n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// å¯è¿è¡Œ   â€”â€” çº¿ç¨‹è¢«è°ƒç”¨äº† start() ç­‰å¾…è¿è¡Œçš„çŠ¶æ€")]),s._v("\n    RUNNABLE"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// é˜»å¡     â€”â€” éœ€è¦ç­‰å¾…é”é‡Šæ”¾")]),s._v("\n    BLOCKED"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("        \n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æ— é™ç­‰å¾… â€”â€” å¤„äºè¯¥çŠ¶æ€çš„çº¿ç¨‹éœ€è¦ç­‰å¾…å…¶ä»–çº¿ç¨‹åšå‡ºä¸€äº›ç‰¹å®šåŠ¨ä½œ")]),s._v("\n    WAITING"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("        \n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// é™æœŸç­‰å¾… â€”â€” æŒ‡å®šæ—¶é—´åè‡ªåŠ¨è¿”å› RUNNABLE")]),s._v("\n    TIMED_WAITING"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("  \n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ç»ˆæ­¢     â€”â€” è¡¨ç¤ºè¯¥çº¿ç¨‹å·²è¿è¡Œå®Œæ¯•")]),s._v("\n    TERMINATED"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("     \n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br")]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br")])]),n("p",[n("strong",[s._v("çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸå¹¶ä¸æ˜¯å›ºå®šå¤„äºæŸä¸€ä¸ªçŠ¶æ€")]),s._v("ï¼Œè€Œæ˜¯éšç€ä»£ç çš„æ‰§è¡Œåœ¨ä¸åŒçŠ¶æ€ä¹‹é—´åˆ‡æ¢ã€‚")]),s._v(" "),n("p",[s._v("ï¼ˆ2ï¼‰"),n("strong",[s._v("çº¿ç¨‹çŠ¶æ€ä¹‹é—´æ˜¯å¦‚ä½•å˜åŒ–ï¼Ÿ")])]),s._v(" "),n("p",[s._v("å¦‚å›¾æ‰€ç¤ºï¼š")]),s._v(" "),n("img",{staticClass:"zoom",attrs:{src:"https://raw.githubusercontent.com/DishuZ/PicGo/main/all/20240523173907.png",alt:"Java çº¿ç¨‹çŠ¶æ€å˜è¿å›¾"}}),s._v(" "),n("ul",[n("li",[n("code",[s._v("new Thread()")]),s._v(" çº¿ç¨‹åˆ›å»ºä¹‹åå®ƒå°†å¤„äº "),n("strong",[s._v("NEW")]),s._v(" çŠ¶æ€ï¼Œè°ƒç”¨ "),n("code",[s._v("start()")]),s._v(" æ–¹æ³•åå¼€å§‹è¿è¡Œï¼Œçº¿ç¨‹è¿™æ—¶å€™å¤„äº "),n("strong",[s._v("RUNNABLE")]),s._v(" çŠ¶æ€")]),s._v(" "),n("li",[s._v("å½“çº¿ç¨‹æ‰§è¡Œ "),n("code",[s._v("wait()")]),s._v(" æ–¹æ³•ä¹‹åï¼Œçº¿ç¨‹è¿›å…¥ "),n("strong",[s._v("WAITING")]),s._v("çŠ¶æ€ã€‚è¿›å…¥ç­‰å¾…çŠ¶æ€çš„çº¿ç¨‹éœ€è¦ä¾é å…¶ä»–çº¿ç¨‹çš„é€šçŸ¥æ‰èƒ½å¤Ÿè¿”å›åˆ°è¿è¡ŒçŠ¶æ€")]),s._v(" "),n("li",[n("strong",[s._v("TIMED_WAITING")]),s._v(" çŠ¶æ€ç›¸å½“äºåœ¨ç­‰å¾…çŠ¶æ€çš„åŸºç¡€ä¸Šå¢åŠ äº†è¶…æ—¶é™åˆ¶ã€‚å½“è¶…æ—¶æ—¶é—´ç»“æŸåï¼Œçº¿ç¨‹å°†ä¼šè¿”å›åˆ° RUNNABLE çŠ¶æ€")]),s._v(" "),n("li",[s._v("å½“çº¿ç¨‹è¿›å…¥ "),n("code",[s._v("synchronized")]),s._v(" æ–¹æ³•/å—æˆ–è€…è°ƒç”¨ "),n("code",[s._v("wait()")]),s._v(" åï¼ˆè¢« "),n("code",[s._v("notify()")]),s._v("ï¼‰é‡æ–°è¿›å…¥ "),n("code",[s._v("synchronized")]),s._v(" æ–¹æ³•/å—ï¼Œä½†æ˜¯é”è¢«å…¶å®ƒçº¿ç¨‹å æœ‰ï¼Œè¿™ä¸ªæ—¶å€™ï¼ˆç­‰å¾…é”ï¼‰çº¿ç¨‹å°±ä¼šè¿›å…¥ "),n("strong",[s._v("BLOCKED")]),s._v(" çŠ¶æ€")]),s._v(" "),n("li",[s._v("çº¿ç¨‹åœ¨æ‰§è¡Œå®Œäº† "),n("code",[s._v("run()")]),s._v(" æ–¹æ³•ä¹‹åå°†ä¼šè¿›å…¥åˆ° "),n("strong",[s._v("TERMINATED")]),s._v(" çŠ¶æ€")])])])]),n("h4",{attrs:{id:"âšª-wait-å’Œsleep-æ–¹æ³•çš„ä¸åŒâ“"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#âšª-wait-å’Œsleep-æ–¹æ³•çš„ä¸åŒâ“"}},[s._v("#")]),s._v(" âšª wait()å’Œsleep()æ–¹æ³•çš„ä¸åŒâ“")]),s._v(" "),n("div",{staticClass:"zenbu-answer"},[n("p",{staticClass:"zenbu-answer-title"},[s._v("ğŸ™‹ğŸ»â€â™‚ï¸ ç­”ï¼š")]),n("div",{staticClass:"zenbu-answer-context"},[n("p",[n("strong",[s._v("ç›¸åŒç‚¹")]),s._v("ï¼šä¸¤è€…éƒ½æ˜¯è®©å½“å‰çº¿ç¨‹æš‚åœæ‰§è¡Œ")]),s._v(" "),n("p",[n("strong",[s._v("ä¸åŒç‚¹")]),s._v("ï¼š")]),s._v(" "),n("ul",[n("li",[n("strong",[s._v("æ‰€å±ç±»ä¸åŒ")]),s._v("ï¼š"),n("code",[s._v("sleep()")]),s._v(" æ˜¯ "),n("code",[s._v("Thread")]),s._v(" ç±»çš„é™æ€æœ¬åœ°æ–¹æ³•ï¼Œ"),n("code",[s._v("wait()")]),s._v(" åˆ™æ˜¯ "),n("code",[s._v("Object")]),s._v(" ç±»çš„æœ¬åœ°æ–¹æ³•ã€‚")]),s._v(" "),n("li",[n("strong",[s._v("é”ç‰¹æ€§ä¸åŒ")]),s._v("ï¼š"),n("code",[s._v("sleep()")]),s._v(" æ–¹æ³•æ²¡æœ‰é‡Šæ”¾é”ï¼Œè€Œ "),n("code",[s._v("wait()")]),s._v(" æ–¹æ³•é‡Šæ”¾äº†é”")]),s._v(" "),n("li",[n("strong",[s._v("ä½œç”¨åœºæ™¯ä¸åŒ")]),s._v("ï¼š\n"),n("ul",[n("li",[n("code",[s._v("wait()")]),s._v(" é€šå¸¸è¢«ç”¨äºçº¿ç¨‹é—´äº¤äº’/é€šä¿¡ï¼Œ"),n("code",[s._v("sleep()")]),s._v(" é€šå¸¸è¢«ç”¨äºæš‚åœæ‰§è¡Œ")]),s._v(" "),n("li",[s._v("è°ƒç”¨ "),n("code",[s._v("wait()")]),s._v(" çš„å‰ææ˜¯è¯¥çº¿ç¨‹å¿…é¡»æŒæœ‰æŸä¸ªé”ï¼Œ"),n("code",[s._v("sleep()")]),s._v(" å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹è°ƒç”¨")])])]),s._v(" "),n("li",[n("strong",[s._v("å”¤é†’å¯¹è±¡ä¸åŒ")]),s._v("ï¼š"),n("code",[s._v("wait()")]),s._v(" æ–¹æ³•è¢«è°ƒç”¨åï¼Œçº¿ç¨‹ä¸ä¼šè‡ªåŠ¨è‹é†’ï¼Œéœ€è¦åˆ«çš„çº¿ç¨‹è°ƒç”¨åŒä¸€ä¸ªå¯¹è±¡ä¸Šçš„ "),n("code",[s._v("notify()")]),s._v(" æˆ–è€… "),n("code",[s._v("notifyAll()")]),s._v(" æ–¹æ³•ã€‚"),n("code",[s._v("sleep()")]),s._v("æ–¹æ³•æ‰§è¡Œå®Œæˆåï¼Œçº¿ç¨‹ä¼šè‡ªåŠ¨è‹é†’ï¼Œæˆ–è€…ä¹Ÿå¯ä»¥ä½¿ç”¨ "),n("code",[s._v("wait(long timeout)")]),s._v(" è¶…æ—¶åçº¿ç¨‹ä¼šè‡ªåŠ¨è‹é†’ã€‚")])])])]),n("h4",{attrs:{id:"âšª-å¦‚ä½•åœæ­¢ä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„çº¿ç¨‹â“"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#âšª-å¦‚ä½•åœæ­¢ä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„çº¿ç¨‹â“"}},[s._v("#")]),s._v(" âšª å¦‚ä½•åœæ­¢ä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„çº¿ç¨‹â“")]),s._v(" "),n("div",{staticClass:"zenbu-answer"},[n("p",{staticClass:"zenbu-answer-title"},[s._v("ğŸ™‹ğŸ»â€â™‚ï¸ ç­”ï¼š")]),n("div",{staticClass:"zenbu-answer-context"},[n("p",[s._v("æœ‰ä¸‰ç§æ–¹å¼å¯ä»¥åœæ­¢çº¿ç¨‹ï¼š")]),s._v(" "),n("ul",[n("li",[s._v("æ–¹å¼1ï¼šä½¿ç”¨é€€å‡ºæ ‡å¿—ï¼Œä½¿çº¿ç¨‹æ­£å¸¸é€€å‡ºï¼Œä¹Ÿå°±æ˜¯ "),n("code",[s._v("run()")]),s._v(" æ–¹æ³•å®Œæˆåçº¿ç¨‹ç»ˆæ­¢")]),s._v(" "),n("li",[s._v("æ–¹å¼2ï¼šä½¿ç”¨stopæ–¹æ³•å¼ºè¡Œç»ˆæ­¢ã€‚"),n("span",{staticStyle:{color:"rgb(122 116 116)"}},[s._v("ï¼ˆä¸æ¨èï¼Œæ–¹æ³•å·²ä½œåºŸï¼Œè¿™ä¸ªæ–¹æ³•ä¼šå¯¼è‡´ä¸€äº›æ¸…ç†æ€§çš„å·¥ä½œå¾—ä¸åˆ°å®Œæˆï¼Œå¦‚æ–‡ä»¶ï¼Œæ•°æ®åº“ç­‰çš„å…³é—­ï¼Œä»¥åŠæ•°æ®ä¸ä¸€è‡´çš„é—®é¢˜ï¼‰")])]),s._v(" "),n("li",[s._v("æ–¹å¼3ï¼šä½¿ç”¨ "),n("code",[s._v("interrupt()")]),s._v(" æ–¹æ³•ä¸­æ–­çº¿ç¨‹\n"),n("ul",[n("li",[s._v("æ‰“æ–­é˜»å¡ï¼ˆ sleepï¼Œwaitï¼Œjoin ï¼‰çš„çº¿ç¨‹ï¼Œçº¿ç¨‹ä¼šæŠ›å‡ºInterruptedExceptionå¼‚å¸¸")]),s._v(" "),n("li",[s._v("æ‰“æ–­æ­£å¸¸çš„çº¿ç¨‹ï¼Œå¯ä»¥æ ¹æ®æ‰“æ–­çŠ¶æ€æ¥æ ‡è®°æ˜¯å¦é€€å‡ºçº¿ç¨‹")])])])]),s._v(" "),n("p",[s._v("è¯¦ç»†å‚è€ƒï¼š")]),s._v(" "),n("ul",[n("li",[s._v("https://www.bilibili.com/video/BV13P411b7gw")]),s._v(" "),n("li",[s._v("https://baijiahao.baidu.com/s?id=1771200491206091094&wfr=spider&for=pc")])])])]),n("h3",{attrs:{id:"çº¿ç¨‹ä¸­çš„å¹¶å‘å®‰å…¨"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#çº¿ç¨‹ä¸­çš„å¹¶å‘å®‰å…¨"}},[s._v("#")]),s._v(" çº¿ç¨‹ä¸­çš„å¹¶å‘å®‰å…¨")]),s._v(" "),n("h4",{attrs:{id:"âšª-synchronizedå…³é”®å­—çš„åº•å±‚åŸç†â“"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#âšª-synchronizedå…³é”®å­—çš„åº•å±‚åŸç†â“"}},[s._v("#")]),s._v(" âšª synchronizedå…³é”®å­—çš„åº•å±‚åŸç†â“")]),s._v(" "),n("div",{staticClass:"zenbu-answer"},[n("p",{staticClass:"zenbu-answer-title"},[s._v("ğŸ™‹ğŸ»â€â™‚ï¸ ç­”ï¼š")]),n("div",{staticClass:"zenbu-answer-context"},[n("p",[s._v("ï¼ˆ1ï¼‰"),n("strong",[s._v("åº•å±‚")])]),s._v(" "),n("p",[s._v("åº•å±‚ç”± monitor å®ç°ï¼ŒC++ ï¼ˆJVM åº•å±‚é€šè¿‡ C++ å®ç°ï¼‰ é€šè¿‡ "),n("code",[s._v("ObjectMonitor")]),s._v(" å®ç°äº† "),n("code",[s._v("synchronized")]),s._v("ã€‚")]),s._v(" "),n("p",[s._v("å…·ä½“æ¥è¯´ï¼Œæ¯ä¸ªé”å¯¹è±¡éƒ½æœ‰ä¸€ä¸ªå…³è”çš„ monitorï¼ˆç›‘è§†å™¨ï¼‰ï¼Œå…¶åŸç†æ˜¯ï¼šé”å¯¹è±¡çš„å¯¹è±¡å¤´çš„ MarkWord (32bit) ä¸­ï¼Œ MarkWord çš„ "),n("code",[s._v("ptr_to_heavyweight_monitor")]),s._v(" æŒ‡é’ˆæŒ‡å‘ "),n("code",[s._v("ObjectMonitor")]),s._v(" å¯¹è±¡")]),s._v(" "),n("p",[s._v("åœ¨ "),n("code",[s._v("ObjectMonitor")]),s._v(" å†…éƒ¨æœ‰å››ä¸ªå±æ€§ï¼Œåˆ†åˆ«æ˜¯ "),n("code",[s._v("_count")]),s._v(" ã€"),n("code",[s._v("_owner")]),s._v(" ã€"),n("code",[s._v("_EntryList")]),s._v("ã€"),n("code",[s._v("_WaitSet")]),s._v("ï¼š")]),s._v(" "),n("ul",[n("li",[n("code",[s._v("_count")]),s._v(": è®¡æ•°å™¨ï¼Œå¦‚æœä¸ä¸º0åˆ™è¡¨ç¤ºå½“å‰ "),n("code",[s._v("ObjectMonitor")]),s._v(" å¯¹è±¡å·²è¢«æŒæœ‰ï¼Œé€šè¿‡è®¡æ•°å™¨å®ç°å¯é‡å…¥é”")]),s._v(" "),n("li",[n("code",[s._v("_owner")]),s._v(": "),n("code",[s._v("_owner")]),s._v(" å…³è”çš„æ˜¯å½“å‰æŒæœ‰é”çš„çº¿ç¨‹ï¼ˆä»…æœ‰ä¸€ä¸ªï¼‰ï¼ŒæŒ‡å‘å½“å‰æŒæœ‰ "),n("code",[s._v("ObjectMonitor")]),s._v(" å¯¹è±¡çš„çº¿ç¨‹")]),s._v(" "),n("li",[n("code",[s._v("_EntryList")]),s._v(": "),n("code",[s._v("_EntryList")]),s._v(" å…³è”çš„æ˜¯å¤„äº BLOCKED çŠ¶æ€çš„çº¿ç¨‹ã€‚æ¯ä¸ªé˜»å¡ç­‰å¾…è·å–é”çš„çº¿ç¨‹éƒ½ä¼šè¢«å°è£…æˆ "),n("code",[s._v("ObjectWaiter")]),s._v(" å¯¹è±¡å¹¶è¿›å…¥è¿™é‡Œ")]),s._v(" "),n("li",[n("code",[s._v("_WaitSet")]),s._v(": "),n("code",[s._v("_WaitSet")]),s._v(" å…³è”çš„æ˜¯å¤„äº WAITING çŠ¶æ€çš„çº¿ç¨‹ã€‚è°ƒç”¨äº† "),n("code",[s._v("wait()")]),s._v(" æ–¹æ³•åï¼Œçº¿ç¨‹å°±ä¼šè¿›å…¥åˆ°è¿™é‡Œ")])]),s._v(" "),n("p",[s._v("ï¼ˆ2ï¼‰"),n("strong",[s._v("åŠ é”å’Œé‡Šæ”¾é”")])]),s._v(" "),n("p",[n("code",[s._v("synchronized")]),s._v(" é‡‡ç”¨äº’æ–¥çš„æ–¹å¼è®©åŒä¸€æ—¶åˆ»è‡³å¤šåªæœ‰ä¸€ä¸ªçº¿ç¨‹èƒ½æŒæœ‰é”å¯¹è±¡ã€‚åŠ äº† "),n("code",[s._v("synchronized")]),s._v(" å…³é”®å­—çš„åœ°æ–¹ï¼Œå¯ä»¥ä¿è¯åœ¨ä»»æ„æ—¶åˆ»ï¼Œåªæœ‰ä¸€ä¸ªçº¿ç¨‹èƒ½æ‰§è¡Œè¯¥æ–¹æ³•æˆ–ä»£ç å—ã€‚")]),s._v(" "),n("p",[s._v("æ€§è´¨ï¼šæ‚²è§‚é”ã€å¯é‡å…¥é”")]),s._v(" "),n("ul",[n("li",[n("strong",[s._v("åŠ é”")]),s._v("ï¼šMonitorenter æŒ‡ä»¤ï¼Œä½¿é”å¯¹è±¡çš„è®¡æ•°å™¨+1ï¼Œå¦‚æœè®¡æ•°å™¨ä»0å˜æˆ1ï¼Œè¯´æ˜æ‰§è¡Œè¯¥æŒ‡ä»¤çš„çº¿ç¨‹æˆåŠŸæŒæœ‰é”")]),s._v(" "),n("li",[n("strong",[s._v("é‡Šæ”¾é”")]),s._v("ï¼šMonitorexit æŒ‡ä»¤ï¼Œä½¿é”å¯¹è±¡çš„è®¡æ•°å™¨-1ï¼Œå¦‚æœè®¡æ•°å™¨ä»1å˜æˆ0ï¼Œè¯´æ˜æ‰§è¡Œè¯¥æŒ‡ä»¤çš„çº¿ç¨‹æˆåŠŸé‡Šæ”¾é”")])]),s._v(" "),n("p",[s._v("ï¼ˆ3ï¼‰"),n("strong",[s._v("å¯é‡å…¥åŸç†")])]),s._v(" "),n("p",[n("code",[s._v("synchronized")]),s._v(" å¯é‡å…¥åŸç†æ˜¯é€šè¿‡ "),n("strong",[s._v("JVM å†…éƒ¨ç»´æŠ¤ä¸€ä¸ªé”å¯¹è±¡ï¼ˆé”ï¼‰çš„è®¡æ•°å™¨")]),s._v("æ¥å®ç°çš„ã€‚")]),s._v(" "),n("p",[s._v("é¦–å…ˆï¼Œ"),n("strong",[s._v("å¯é‡å…¥æ€§æ˜¯é’ˆå¯¹åŒä¸€ä¸ªçº¿ç¨‹ï¼ˆé”ç¨‹ï¼‰å¤šæ¬¡è·å–åŒä¸€æŠŠã€Œé”å¯¹è±¡ã€çš„æƒ…å†µ")]),s._v("ã€‚æ¯ä¸ªã€Œé”å¯¹è±¡ã€éƒ½æœ‰ä¸€ä¸ªå…³è”çš„ monitorï¼ˆç›‘è§†å™¨ï¼‰ï¼Œmonitor é‡ŒåŒ…å«äº†ä¸€ä¸ªè®¡æ•°å™¨ã€‚")]),s._v(" "),n("p",[s._v("å½“çº¿ç¨‹å°è¯•è¿›å…¥ "),n("code",[s._v("synchronized")]),s._v(" ä¿®é¥°çš„åŒæ­¥ä»£ç å—/æ–¹æ³•/..æ—¶ï¼Œä¼šå…ˆå»æŸ¥çœ‹ "),n("code",[s._v("synchronized")]),s._v(" ã€Œé”å¯¹è±¡ã€çš„è®¡æ•°å™¨ï¼š")]),s._v(" "),n("ol",[n("li",[s._v("æƒ…å†µ1ï¼šå¦‚æœè®¡æ•°å™¨ä¸º 0ï¼Œè¡¨ç¤ºæ— é”ã€‚\n"),n("ul",[n("li",[s._v("å½“çº¿ç¨‹ä¼šç«‹å³è·å–åˆ°ã€Œé”å¯¹è±¡ã€ï¼Œä¹Ÿä¸å¯¹åº”çš„ monitor å’Œè®¡æ•°å™¨äº§ç”Ÿå…³è”ï¼Œè®¡æ•°å™¨ + 1ï¼›")]),s._v(" "),n("li",[s._v("å…¶ä»–çº¿ç¨‹ä¸èƒ½å†è·å–ã€Œé”å¯¹è±¡ã€ï¼Œè¿›å…¥åŒæ­¥é˜Ÿåˆ—ï¼ˆSynchronizedQueueï¼‰ç­‰å¾…ã€‚")])])]),s._v(" "),n("li",[s._v("æƒ…å†µ2ï¼šå¦‚æœè®¡æ•°å™¨ä¸ä¸º 0ï¼Œå¹¶ä¸”è¯¥çº¿ç¨‹å·²ç»å…³è”äº†è¯¥ã€Œé”å¯¹è±¡ã€çš„ monitorï¼Œè¯´æ˜å·²ç»æ‹¿åˆ°äº†é”å¯¹è±¡çš„æ‰€æœ‰æƒã€‚\n"),n("ul",[n("li",[s._v("åˆ™è¡¨ç¤ºè¯¥çº¿ç¨‹é‡å…¥äº†è¿™æŠŠé”ï¼Œè®¡æ•°å™¨ +1ï¼›")]),s._v(" "),n("li",[s._v("éšç€é‡å…¥çš„æ¬¡æ•°ï¼Œè®¡æ•°å™¨ä¸€ç›´ç´¯åŠ ã€‚")]),s._v(" "),n("li",[s._v("ç›¸åçš„ï¼Œé€€å‡ºåŒæ­¥ä»£ç å—æ—¶ï¼Œè®¡æ•°å™¨ -1ï¼Œç›´åˆ°è®¡æ•°å™¨ä¸º 0 æ—¶ï¼Œè¡¨ç¤ºè¯¥çº¿ç¨‹é‡Šæ”¾äº†é”ã€‚")])])]),s._v(" "),n("li",[s._v("æƒ…å†µ3ï¼šå¦‚æœè®¡æ•°å™¨ä¸ä¸º 0ï¼Œè€Œè¯¥çº¿ç¨‹å¹¶æ²¡æœ‰å…³è” monitorï¼Œè¯´æ˜é”è¢«åˆ«çš„çº¿ç¨‹æŒæœ‰ï¼Œè¯¥çº¿ç¨‹éœ€è¦ç­‰å¾…é”çš„é‡Šæ”¾ã€‚")])]),s._v(" "),n("p",[s._v("ï¼ˆ4ï¼‰é”å‡çº§")]),s._v(" "),n("img",{staticClass:"zoom",attrs:{src:"https://raw.githubusercontent.com/DishuZ/PicGo/main/all/20240524103959.png",alt:"é”å‡çº§ç»†åŒ–æµç¨‹"}})])]),n("h4",{attrs:{id:"âšª-è°ˆè°ˆ-jmm-javaå†…å­˜æ¨¡å‹-â“"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#âšª-è°ˆè°ˆ-jmm-javaå†…å­˜æ¨¡å‹-â“"}},[s._v("#")]),s._v(" âšª è°ˆè°ˆ JMMï¼ˆJavaå†…å­˜æ¨¡å‹ï¼‰â“")]),s._v(" "),n("h4",{attrs:{id:"âšª-è°ˆè°ˆ-cas-å¦å¤–ä»€ä¹ˆæ˜¯æ‚²è§‚é”å’Œä¹è§‚é”â“"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#âšª-è°ˆè°ˆ-cas-å¦å¤–ä»€ä¹ˆæ˜¯æ‚²è§‚é”å’Œä¹è§‚é”â“"}},[s._v("#")]),s._v(" âšª è°ˆè°ˆ CASï¼Œå¦å¤–ä»€ä¹ˆæ˜¯æ‚²è§‚é”å’Œä¹è§‚é”â“")]),s._v(" "),n("div",{staticClass:"zenbu-answer"},[n("p",{staticClass:"zenbu-answer-title"},[s._v("ğŸ™‹ğŸ»â€â™‚ï¸ ç­”ï¼š")]),n("div",{staticClass:"zenbu-answer-context"},[n("p",[s._v("ï¼ˆ1ï¼‰"),n("strong",[s._v("æ‚²è§‚é”å’Œä¹è§‚é”")])]),s._v(" "),n("ul",[n("li",[n("strong",[s._v("æ‚²è§‚é”")]),s._v("ï¼šæ‚²è§‚é”æ€»æ˜¯å‡è®¾æœ€åçš„æƒ…å†µï¼Œè®¤ä¸ºå…±äº«èµ„æºæ¯æ¬¡è¢«è®¿é—®çš„æ—¶å€™å°±ä¼šå‡ºç°é—®é¢˜ï¼ˆæ¯”å¦‚å…±äº«æ•°æ®è¢«ä¿®æ”¹ï¼‰ï¼Œæ‰€ä»¥æ¯æ¬¡åœ¨è·å–èµ„æºæ“ä½œçš„æ—¶å€™éƒ½ä¼š"),n("strong",[s._v("ä¸Šé”")]),s._v("ï¼Œå…¶ä»–çº¿ç¨‹æƒ³æ‹¿åˆ°è¿™ä¸ªèµ„æºå°±éœ€è¦ï¼ˆé˜»å¡ï¼‰"),n("strong",[s._v("ç­‰å¾…é”è¢«é‡Šæ”¾")]),s._v(" "),n("ul",[n("li",[n("code",[s._v("synchronized")]),s._v(" å’Œ "),n("code",[s._v("ReentrantLock")]),s._v(" å±äºæ‚²è§‚é”")])])]),s._v(" "),n("li",[n("strong",[s._v("ä¹è§‚é”")]),s._v("ï¼šä¹è§‚é”æ€»æ˜¯å‡è®¾æœ€å¥½çš„æƒ…å†µï¼Œè®¤ä¸ºå…±äº«èµ„æºæ¯æ¬¡è¢«è®¿é—®çš„æ—¶å€™ä¸ä¼šå‡ºç°é—®é¢˜ï¼Œæ‰€ä»¥"),n("strong",[s._v("ä¸ä¼š")]),s._v("å¯¹å…±äº«èµ„æº"),n("strong",[s._v("ä¸Šé”")]),s._v("ï¼Œè·å–èµ„æºæ“ä½œä¹Ÿ"),n("strong",[s._v("æ— éœ€ç­‰å¾…")]),s._v("ï¼Œåªæ˜¯åœ¨æäº¤ä¿®æ”¹çš„æ—¶å€™å»"),n("strong",[s._v("éªŒè¯")]),s._v("å¯¹åº”çš„èµ„æºï¼ˆä¹Ÿå°±æ˜¯æ•°æ®ï¼‰"),n("strong",[s._v("æ˜¯å¦")]),s._v("è¢«å…¶å®ƒçº¿ç¨‹"),n("strong",[s._v("ä¿®æ”¹")]),s._v("äº†\n"),n("ul",[n("li",[s._v("ä¸€èˆ¬ä¼šä½¿ç”¨ç‰ˆæœ¬å·æœºåˆ¶æˆ– CAS ç®—æ³•å®ç°ä¹è§‚é”")]),s._v(" "),n("li",[n("code",[s._v("java.util.concurrent.atomic")]),s._v(" åŒ…ä¸‹é¢çš„åŸå­å˜é‡ç±»ï¼ˆæ¯”å¦‚ "),n("code",[s._v("AtomicInteger")]),s._v("ã€"),n("code",[s._v("LongAdder")]),s._v("ï¼‰å°±æ˜¯ä½¿ç”¨äº† CAS å®ç°çš„")])])])]),s._v(" "),n("p",[n("strong",[s._v("é€‚ç”¨åœºæ™¯")]),s._v("ï¼š")]),s._v(" "),n("ul",[n("li",[s._v("æ‚²è§‚é”é€šå¸¸å¤šç”¨äºå†™æ¯”è¾ƒå¤šçš„æƒ…å†µï¼ˆ"),n("strong",[s._v("å¤šå†™åœºæ™¯")]),s._v("ï¼Œç«äº‰æ¿€çƒˆï¼‰ï¼Œè¿™æ ·å¯ä»¥é¿å…é¢‘ç¹å¤±è´¥å’Œé‡è¯•å½±å“æ€§èƒ½ï¼Œæ‚²è§‚é”çš„å¼€é”€æ˜¯å›ºå®šçš„ã€‚ä¸è¿‡ï¼Œå¦‚æœä¹è§‚é”è§£å†³äº†é¢‘ç¹å¤±è´¥å’Œé‡è¯•è¿™ä¸ªé—®é¢˜çš„è¯ï¼ˆæ¯”å¦‚LongAdderï¼‰ï¼Œä¹Ÿæ˜¯å¯ä»¥è€ƒè™‘ä½¿ç”¨ä¹è§‚é”çš„ï¼Œè¦è§†å®é™…æƒ…å†µè€Œå®šã€‚")]),s._v(" "),n("li",[s._v("ä¹è§‚é”é€šå¸¸å¤šç”¨äºå†™æ¯”è¾ƒå°‘çš„æƒ…å†µï¼ˆ"),n("strong",[s._v("å¤šè¯»åœºæ™¯")]),s._v("ï¼Œç«äº‰è¾ƒå°‘ï¼‰ï¼Œè¿™æ ·å¯ä»¥é¿å…é¢‘ç¹åŠ é”å½±å“æ€§èƒ½ã€‚ä¸è¿‡ï¼Œä¹è§‚é”ä¸»è¦é’ˆå¯¹çš„å¯¹è±¡æ˜¯å•ä¸ªå…±äº«å˜é‡ï¼ˆå‚è€ƒ "),n("code",[s._v("java.util.concurrent.atomic")]),s._v(" åŒ…ä¸‹é¢çš„åŸå­å˜é‡ç±»ï¼‰ã€‚")])]),s._v(" "),n("p",[s._v("ï¼ˆ2ï¼‰"),n("strong",[s._v("CAS â€” ä¹è§‚é”çš„ä¸€ç§å®ç°æ–¹å¼")])]),s._v(" "),n("p",[s._v("CAS å…¨ç§° Compare And Swapï¼ˆæ¯”è¾ƒå†äº¤æ¢ï¼‰ï¼Œç”¨äºå®ç°ä¹è§‚é”ã€‚CAS çš„æ€æƒ³å¾ˆç®€å•ï¼Œå°±æ˜¯ç”¨ä¸€ä¸ªé¢„æœŸå€¼ "),n("code",[s._v("E")]),s._v(" å’Œè¦æ›´æ–°çš„å˜é‡å€¼ "),n("code",[s._v("V")]),s._v(" è¿›è¡Œæ¯”è¾ƒï¼Œä¸¤å€¼ç›¸ç­‰æ‰ä¼šè¿›è¡Œæ›´æ–°ã€‚")]),s._v(" "),n("p",[n("strong",[s._v("CAS æ˜¯ä¸€ä¸ªåŸå­æ“ä½œï¼Œåº•å±‚ä¾èµ–äºä¸€æ¡ CPU çš„åŸå­æŒ‡ä»¤ã€‚")])]),s._v(" "),n("p",[s._v("å…·ä½“æ¥è¯´ï¼ŒCAS æ“ä½œæ¶‰åŠä¸‰ä¸ªæ“ä½œæ•°ï¼š")]),s._v(" "),n("ul",[n("li",[n("code",[s._v("V")]),s._v(" : Var. è¦ä¿®æ”¹çš„å˜é‡çš„å†…å­˜ä½ç½®")]),s._v(" "),n("li",[n("code",[s._v("E")]),s._v(" : Expected. é¢„æœŸæ—§å€¼")]),s._v(" "),n("li",[n("code",[s._v("N")]),s._v(" : New. æ‹Ÿå†™å…¥çš„æ–°å€¼")])]),s._v(" "),n("p",[s._v("å½“æƒ³è¦å¯¹ä¸€ä¸ªå˜é‡æ‰§è¡Œ CAS æ—¶ï¼Œ"),n("strong",[s._v("å…¶æ‰§è¡Œæµç¨‹")]),s._v("ï¼š")]),s._v(" "),n("ol",[n("li",[s._v("æ‰§è¡Œå‰ï¼šè®°å½• "),n("code",[s._v("V")]),s._v(" å’Œ "),n("code",[s._v("E")]),s._v(" é¢„æœŸæ—§å€¼")]),s._v(" "),n("li",[s._v("æ‰§è¡Œæ—¶ï¼šè·å– "),n("code",[s._v("V")]),s._v(" ç›®å‰çš„å€¼å’Œ "),n("code",[s._v("E")]),s._v(" é¢„æœŸæ—§å€¼è¿›è¡Œå¯¹æ¯”ï¼ˆCompareï¼‰\n"),n("ul",[n("li",[s._v("å¦‚æœç›¸ç­‰ï¼Œè¯´æ˜è¯¥å˜é‡æ²¡æœ‰è¢«å…¶ä»–çº¿ç¨‹ä¿®æ”¹ï¼Œå› æ­¤å°†æ–°å€¼ "),n("code",[s._v("N")]),s._v(" æ›´æ–°åˆ° "),n("code",[s._v("V")]),s._v(" ä¸Šï¼ˆSwapï¼‰ï¼›")]),s._v(" "),n("li",[s._v("å¦‚æœä¸ç›¸ç­‰ï¼Œè¯´æ˜è¯¥å˜é‡è¢«å…¶ä»–çº¿ç¨‹ä¿®æ”¹äº†ï¼Œå½“å‰çº¿ç¨‹æ­¤æ¬¡ä¿®æ”¹å¤±è´¥ï¼Œå…è®¸å†æ¬¡å°è¯•ä¿®æ”¹ï¼Œå³é€šè¿‡è‡ªæ—‹è¿›è¡Œä¸‹ä¸€è½® CASã€‚")])])])]),s._v(" "),n("ul",[n("li",[n("strong",[s._v("ä¼˜ç‚¹")]),s._v("ï¼šæ— éœ€å¯¹å…±äº«èµ„æºåŠ é”ï¼Œçº¿ç¨‹ä¸ä¼šé˜»å¡")]),s._v(" "),n("li",[n("strong",[s._v("ç¼ºç‚¹/é—®é¢˜")]),s._v("ï¼š\n"),n("ul",[n("li",[s._v("ABA é—®é¢˜")]),s._v(" "),n("li",[s._v("å¾ªç¯æ—¶é—´é•¿å¼€é”€å¤§ï¼šå¤šä¸ªçº¿ç¨‹å¯¹å…±äº«èµ„æºè¿›è¡Œä¿®æ”¹æ—¶ï¼ŒCAS ç«äº‰æ¿€çƒˆï¼Œå¯¼è‡´é¢‘ç¹å¤±è´¥å’Œè‡ªæ—‹é‡è¯•")]),s._v(" "),n("li",[s._v("åªèƒ½ä¿è¯ä¸€ä¸ªå…±äº«å˜é‡çš„åŸå­æ“ä½œ")])])])]),s._v(" "),n("blockquote",[n("p",[s._v("Java è¯­è¨€å¹¶æ²¡æœ‰ç›´æ¥å®ç° CASï¼Œåº•å±‚ä¾èµ–äº "),n("code",[s._v("sun.misc")]),s._v(" åŒ…ä¸‹çš„ "),n("code",[s._v("Unsafe")]),s._v(" ç±»æ¥ç›´æ¥è°ƒç”¨æ“ä½œç³»ç»Ÿåº•å±‚çš„ CAS æŒ‡ä»¤ã€‚")]),s._v(" "),n("p",[n("code",[s._v("Unsafe")]),s._v(" ç±»æä¾›äº† "),n("code",[s._v("compareAndSwapObject")]),s._v("ã€"),n("code",[s._v("compareAndSwapInt")]),s._v("ã€"),n("code",[s._v("compareAndSwapLong")]),s._v(" æœ¬åœ°æ–¹æ³•ï¼Œæ¥å®ç°çš„å¯¹ "),n("code",[s._v("Object")]),s._v("ã€"),n("code",[s._v("int")]),s._v("ã€"),n("code",[s._v("long")]),s._v(" ç±»å‹çš„ CAS æ“ä½œï¼Œè¿™äº›æœ¬åœ°æ–¹æ³•æ˜¯é€šè¿‡ C++ å†…è”æ±‡ç¼–çš„å½¢å¼å®ç°çš„ï¼ˆJNI è°ƒç”¨ï¼‰ã€‚")])])])]),n("h4",{attrs:{id:"âšª-è¯·è°ˆè°ˆä½ å¯¹-volatile-çš„ç†è§£â“"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#âšª-è¯·è°ˆè°ˆä½ å¯¹-volatile-çš„ç†è§£â“"}},[s._v("#")]),s._v(" âšª è¯·è°ˆè°ˆä½ å¯¹ volatile çš„ç†è§£â“")]),s._v(" "),n("div",{staticClass:"zenbu-answer"},[n("p",{staticClass:"zenbu-answer-title"},[s._v("ğŸ™‹ğŸ»â€â™‚ï¸ ç­”ï¼š")]),n("div",{staticClass:"zenbu-answer-context"},[n("p",[s._v("ä¸€ä¸ªå…±äº«å˜é‡ï¼ˆç±»çš„æˆå‘˜å˜é‡ã€ç±»çš„é™æ€æˆå‘˜å˜é‡ï¼‰è¢« "),n("code",[s._v("volatile")]),s._v(" ä¿®é¥°ä¹‹åï¼Œé‚£ä¹ˆå°±å…·å¤‡äº†ä¸¤å±‚è¯­ä¹‰ï¼š")]),s._v(" "),n("ol",[n("li",[s._v("ä¿è¯çº¿ç¨‹é—´çš„å¯è§æ€§")])]),s._v(" "),n("p",[s._v("ç”¨ "),n("code",[s._v("volatile")]),s._v(" ä¿®é¥°å…±äº«å˜é‡ï¼Œèƒ½å¤Ÿé˜²æ­¢ç¼–è¯‘å™¨ç­‰ä¼˜åŒ–å‘ç”Ÿï¼Œè®©ä¸€ä¸ªçº¿ç¨‹å¯¹å…±äº«å˜é‡çš„ä¿®æ”¹å¯¹å¦ä¸€ä¸ªçº¿ç¨‹å¯è§")]),s._v(" "),n("ol",{attrs:{start:"2"}},[n("li",[s._v("ç¦æ­¢è¿›è¡ŒæŒ‡ä»¤é‡æ’åº")])]),s._v(" "),n("p",[s._v("æŒ‡ä»¤é‡æ’ï¼šç”¨ "),n("code",[s._v("volatile")]),s._v(" ä¿®é¥°å…±äº«å˜é‡ä¼šåœ¨è¯»ã€å†™å…±äº«å˜é‡æ—¶åŠ å…¥ä¸åŒçš„å±éšœï¼Œé˜»æ­¢å…¶ä»–è¯»å†™æ“ä½œè¶Šè¿‡å±éšœï¼Œä»è€Œè¾¾åˆ°é˜»æ­¢é‡æ’åºçš„æ•ˆæœ")]),s._v(" "),n("p",[n("strong",[s._v("æ€»ç»“")]),s._v("ï¼š")]),s._v(" "),n("p",[n("code",[s._v("volatile")]),s._v(" å…³é”®å­—èƒ½ä¿è¯æ•°æ®çš„å¯è§æ€§ï¼Œä½†ä¸èƒ½ä¿è¯æ•°æ®çš„åŸå­æ€§ã€‚"),n("code",[s._v("synchronized")]),s._v(" å…³é”®å­—ä¸¤è€…éƒ½èƒ½ä¿è¯ã€‚")])])]),n("h4",{attrs:{id:"âšª-è¯·ä½ è¯´ä¸€ä¸‹è‡ªå·±å¯¹äº-aqs-åŸç†çš„ç†è§£â“"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#âšª-è¯·ä½ è¯´ä¸€ä¸‹è‡ªå·±å¯¹äº-aqs-åŸç†çš„ç†è§£â“"}},[s._v("#")]),s._v(" âšª è¯·ä½ è¯´ä¸€ä¸‹è‡ªå·±å¯¹äº AQS åŸç†çš„ç†è§£â“")]),s._v(" "),n("div",{staticClass:"zenbu-answer"},[n("p",{staticClass:"zenbu-answer-title"},[s._v("ğŸ™‹ğŸ»â€â™‚ï¸ ç­”ï¼š")]),n("div",{staticClass:"zenbu-answer-context"},[n("p",[s._v("AQS å…¨ç§°æ˜¯ "),n("strong",[s._v("A")]),s._v("bstract"),n("strong",[s._v("Q")]),s._v("ueued"),n("strong",[s._v("S")]),s._v("ynchronizerï¼Œå³æŠ½è±¡é˜Ÿåˆ—åŒæ­¥å™¨ã€‚")]),s._v(" "),n("p",[s._v("AQSæ˜¯ä¸€ä¸ªç”¨æ¥æ„å»ºé”å’ŒåŒæ­¥å™¨çš„"),n("strong",[s._v("æ¡†æ¶")]),s._v("ï¼Œè®¸å¤šåŒæ­¥ç±»å®ç°éƒ½ä¾èµ–äº AQSï¼Œå¦‚å¸¸ç”¨çš„ "),n("code",[s._v("ReentrantLock")]),s._v(" / "),n("code",[s._v("Semaphore")]),s._v(" / "),n("code",[s._v("CountDownLatch")]),s._v(" ç­‰ã€‚")]),s._v(" "),n("p",[s._v("ï¼ˆ1ï¼‰æ ¸å¿ƒæ€æƒ³")]),s._v(" "),n("p",[n("strong",[s._v("æœ€ä¸»è¦çš„ï¼ŒAQS ç»´æŠ¤äº†ä¸€ä¸ªä»£è¡¨å…±äº«èµ„æºçš„ "),n("code",[s._v("state")]),s._v(" å±æ€§å’Œä¸€ä¸ª FIFO çº¿ç¨‹ç­‰å¾…é˜Ÿåˆ—ï¼ˆå¤šçº¿ç¨‹äº‰ç”¨èµ„æºè¢«é˜»å¡æ—¶ä¼šè¿›å…¥æ­¤é˜Ÿåˆ—ï¼‰ï¼š")])]),s._v(" "),n("ol",[n("li",[n("code",[s._v("state")]),s._v(" å…±äº«èµ„æº:\n"),n("ul",[n("li",[n("code",[s._v("volatile int state;")]),s._v(" éšç€å…·ä½“å®ç°çš„ä¸åŒï¼Œè¡¨è¾¾çš„å«ä¹‰ä¹Ÿä¸ç›¸åŒ\n"),n("ul",[n("li",[s._v("ä»¥ "),n("code",[s._v("ReentrantLock")]),s._v(" ä¸ºä¾‹ï¼Œåˆå§‹å€¼ä¸º "),n("code",[s._v("0")]),s._v(" ï¼Œè¡¨ç¤ºæ— é”çŠ¶æ€ã€‚çº¿ç¨‹ "),n("code",[s._v("lock()")]),s._v(" æ—¶ï¼Œä¼šè°ƒç”¨ "),n("code",[s._v("tryAcquire()")]),s._v(" ç‹¬å è¯¥é”å¹¶å°† "),n("code",[s._v("state+1")]),s._v("ï¼Œå› æ­¤å€¼å¤§äº 0 è¡¨ç¤ºé”å®šçŠ¶æ€ã€‚")]),s._v(" "),n("li",[s._v("ä»¥ "),n("code",[s._v("CountDownLatch")]),s._v(" ä»¥ä¾‹ï¼Œåˆå§‹å€¼ä¸º "),n("code",[s._v("n")]),s._v("ï¼Œè¡¨ç¤º n ä¸ªå­çº¿ç¨‹æ‰§è¡Œã€‚æ¯ä¸ªå­çº¿ç¨‹æ‰§è¡Œå®Œå "),n("code",[s._v("countDown()")]),s._v(" ä¸€æ¬¡ï¼Œå°† "),n("code",[s._v("state-1")]),s._v("ï¼Œå› æ­¤æœ€åå€¼ä¸º 0 è¡¨ç¤ºæ‰§è¡Œå®Œæ¯•ã€‚")])])]),s._v(" "),n("li",[s._v("è®¿é—® "),n("code",[s._v("state")]),s._v(" æœ‰ä¸‰ç§æ–¹å¼ï¼š"),n("code",[s._v("getState()")]),s._v(" ã€ "),n("code",[s._v("setState(int newState)")]),s._v(" ã€ "),n("code",[s._v("compareAndSetState(int expect, int update)")])])])]),s._v(" "),n("li",[s._v("FIFO çº¿ç¨‹ç­‰å¾…é˜Ÿåˆ—ï¼š\n"),n("ul",[n("li",[s._v("å°†æš‚æ—¶è·å–ä¸åˆ°é”çš„çº¿ç¨‹åŠ å…¥åˆ°è¯¥é˜Ÿåˆ—ä¸­")]),s._v(" "),n("li",[s._v("è¯¥é˜Ÿåˆ—ç”± CLH é˜Ÿåˆ—é”å®ç°ï¼Œä¸€ä¸ªè™šæ‹Ÿçš„åŒå‘é˜Ÿåˆ—ï¼ˆä¸å­˜åœ¨é˜Ÿåˆ—å®ä¾‹ï¼Œä»…å­˜åœ¨ç»“ç‚¹ä¹‹é—´çš„å…³è”å…³ç³»ï¼‰")]),s._v(" "),n("li",[s._v("AQS æ˜¯å°†æ¯æ¡è¯·æ±‚å…±äº«èµ„æºçš„çº¿ç¨‹å°è£…æˆ CLH é”é˜Ÿåˆ—çš„ä¸€ä¸ªç»“ç‚¹("),n("code",[s._v("Node")]),s._v(")æ¥å®ç°é”çš„åˆ†é…")])])])]),s._v(" "),n("img",{staticClass:"zoom",attrs:{src:"https://raw.githubusercontent.com/DishuZ/PicGo/main/all/20240526161904.png",alt:"Sync queue"}}),s._v(" "),n("p",[s._v("ï¼ˆ2ï¼‰AQS å¯¹èµ„æºçš„å…±äº«æ–¹å¼")]),s._v(" "),n("p",[s._v("AQSå®šä¹‰ä¸¤ç§èµ„æºå…±äº«æ–¹å¼ï¼š")]),s._v(" "),n("ul",[n("li",[n("strong",[s._v("ç‹¬å æ–¹å¼ / Exclusive")]),s._v("ï¼šåªæœ‰ä¸€ä¸ªçº¿ç¨‹èƒ½æ‰§è¡Œï¼Œå¦‚ "),n("code",[s._v("ReentrantLock")]),s._v("ã€‚åˆå¯åˆ†ä¸ºå…¬å¹³é”å’Œéå…¬å¹³é”ï¼š\n"),n("ul",[n("li",[s._v("å…¬å¹³é”ï¼šæŒ‰ç…§çº¿ç¨‹åœ¨é˜Ÿåˆ—ä¸­çš„æ’é˜Ÿé¡ºåºï¼Œå…ˆåˆ°è€…å…ˆæ‹¿åˆ°é”")]),s._v(" "),n("li",[s._v("éå…¬å¹³é”ï¼šå½“çº¿ç¨‹è¦è·å–é”æ—¶ï¼Œæ— è§†é˜Ÿåˆ—é¡ºåºç›´æ¥å»æŠ¢é”ï¼Œè°æŠ¢åˆ°å°±æ˜¯è°çš„")])])]),s._v(" "),n("li",[n("strong",[s._v("å…±äº«æ–¹å¼ / Share")]),s._v("ï¼šå¤šä¸ªçº¿ç¨‹å¯åŒæ—¶æ‰§è¡Œï¼Œå¦‚ "),n("code",[s._v("Semaphore")]),s._v(" ã€ "),n("code",[s._v("CountDownLatch")]),s._v("ã€‚")])])])]),n("h4",{attrs:{id:"âšª-reentrantlockçš„å®ç°åŸç†â“"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#âšª-reentrantlockçš„å®ç°åŸç†â“"}},[s._v("#")]),s._v(" âšª ReentrantLockçš„å®ç°åŸç†â“")]),s._v(" "),n("div",{staticClass:"zenbu-answer"},[n("p",{staticClass:"zenbu-answer-title"},[s._v("ğŸ™‹ğŸ»â€â™‚ï¸ ç­”ï¼š")]),n("div",{staticClass:"zenbu-answer-context"},[n("p",[s._v("ï¼ˆ1ï¼‰å†…éƒ¨ç±»")]),s._v(" "),n("p",[n("code",[s._v("ReentrantLock")]),s._v(" ä¸»è¦åˆ©ç”¨ AQS æ¥å®ç°å…¬å¹³é”æˆ–éå…¬å¹³é”ã€‚é»˜è®¤ä½¿ç”¨éå…¬å¹³é”ï¼Œä¹Ÿå¯ä»¥é€šè¿‡æ„é€ å™¨æ¥æ˜¾å¼çš„æŒ‡å®šä½¿ç”¨å…¬å¹³é”ã€‚")]),s._v(" "),n("p",[n("code",[s._v("ReentrantLock")]),s._v(" æ€»å…±æœ‰ä¸‰ä¸ªå†…éƒ¨ç±»ï¼š"),n("code",[s._v("Sync")]),s._v("ã€"),n("code",[s._v("NonfairSync")]),s._v("ã€"),n("code",[s._v("FairSync")]),s._v("ã€‚"),n("code",[s._v("NonfairSync")]),s._v(" ä¸ "),n("code",[s._v("FairSync")]),s._v(" ç±»ç»§æ‰¿è‡ª "),n("code",[s._v("Sync")]),s._v(" ç±»ï¼Œ"),n("code",[s._v("Sync")]),s._v(" ç±»ç»§æ‰¿è‡ª"),n("code",[s._v("AbstractQueuedSynchronizer")]),s._v(" æŠ½è±¡ç±» AQSã€‚å¦‚å›¾æ‰€ç¤ºï¼š")]),s._v(" "),n("img",{staticClass:"zoom",attrs:{src:"https://raw.githubusercontent.com/DishuZ/PicGo/main/all/20240526164006.png",alt:"20240526164006"}}),s._v(" "),n("p",[n("code",[s._v("Sync")]),s._v(" ç±»ç»§æ‰¿è‡ª AQSï¼Œå¹¶å®ç°äº† AQS æä¾›çš„ä¸¤ä¸ªæ¨¡æ¿æ–¹æ³• "),n("code",[s._v("tryRelease(int releases)")]),s._v(" å’Œ "),n("code",[s._v("tryAcquire(int acquires)")]),s._v(" ã€‚")]),s._v(" "),n("p",[s._v("ï¼ˆ2ï¼‰æ ¸å¿ƒ")]),s._v(" "),n("p",[n("code",[s._v("ReentrantLock")]),s._v(" å†…æœ‰ä¸€ä¸ª "),n("code",[s._v("Sync")]),s._v(" ç±»å‹çš„å±æ€§ "),n("code",[s._v("sync")]),s._v(" ï¼Œæˆ‘ä»¬å¯¹ "),n("code",[s._v("ReentrantLock")]),s._v(" çš„å¾ˆå¤šæ“ä½œéƒ½è½¬åŒ–ä¸ºå¯¹ "),n("code",[s._v("sync")]),s._v(" ï¼ˆå³ "),n("code",[s._v("Sync")]),s._v(" å¯¹è±¡ï¼‰çš„æ“ä½œï¼Œç”±äº "),n("code",[s._v("Sync")]),s._v(" ç»§æ‰¿äº† AQSï¼Œæ‰€ä»¥åŸºæœ¬ä¸Šéƒ½å¯ä»¥è½¬åŒ–ä¸ºå¯¹ AQS çš„æ“ä½œã€‚")]),s._v(" "),n("p",[s._v("æ‰€ä»¥å¯çŸ¥ï¼Œåœ¨ "),n("code",[s._v("ReentrantLock")]),s._v(" çš„èƒŒåï¼Œæ˜¯AQSå¯¹å…¶æœåŠ¡æä¾›äº†æ”¯æŒã€‚")]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// åŒæ­¥é˜Ÿåˆ—")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("final")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Sync")]),s._v(" sync"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// é»˜è®¤éå…¬å¹³ç­–ç•¥")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ReentrantLock")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    sync "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("NonfairSync")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ä¼ é€’å‚æ•°ç¡®å®šé‡‡ç”¨å…¬å¹³ç­–ç•¥æˆ–è€…æ˜¯éå…¬å¹³ç­–ç•¥")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ReentrantLock")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("boolean")]),s._v(" fair"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    sync "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" fair "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("FairSync")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("NonfairSync")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br")]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br")])])])]),n("h4",{attrs:{id:"âšª-synchronizedå’Œlockæœ‰ä»€ä¹ˆåŒºåˆ«â“"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#âšª-synchronizedå’Œlockæœ‰ä»€ä¹ˆåŒºåˆ«â“"}},[s._v("#")]),s._v(" âšª synchronizedå’ŒLockæœ‰ä»€ä¹ˆåŒºåˆ«â“")]),s._v(" "),n("div",{staticClass:"zenbu-answer"},[n("p",{staticClass:"zenbu-answer-title"},[s._v("ğŸ™‹ğŸ»â€â™‚ï¸ ç­”ï¼š")]),n("div",{staticClass:"zenbu-answer-context"},[n("p",[s._v("åŒºåˆ«ï¼š")]),s._v(" "),n("ul",[n("li",[n("strong",[s._v("å®ç°ä¸åŒ")]),s._v("ï¼š\n"),n("ul",[n("li",[s._v("synchronized æ˜¯å…³é”®å­—ï¼Œæºç åœ¨ JVM ä¸­ï¼Œç”¨ C++ è¯­è¨€å®ç°")]),s._v(" "),n("li",[s._v("Lock æ˜¯æ¥å£ï¼Œæºç ç”± JDK æä¾›ï¼Œç”¨ Java è¯­è¨€å®ç°")])])]),s._v(" "),n("li",[n("strong",[s._v("é‡Šæ”¾é”ä¸åŒ")]),s._v("ï¼š\n"),n("ul",[n("li",[s._v("ä½¿ç”¨ synchronized æ—¶ï¼Œé€€å‡ºåŒæ­¥ä»£ç å—é”ä¼šè‡ªåŠ¨é‡Šæ”¾")]),s._v(" "),n("li",[s._v("ä½¿ç”¨ Lock æ—¶ï¼Œéœ€è¦æ‰‹åŠ¨è°ƒç”¨ unlock æ–¹æ³•é…åˆ "),n("code",[s._v("try...finally...")]),s._v(" é‡Šæ”¾é”")])])]),s._v(" "),n("li",[n("strong",[s._v("é”å¯¹è±¡ä¸åŒ")]),s._v("ï¼š\n"),n("ul",[n("li",[s._v("synchronized åŠ é”å’Œé‡Šæ”¾çš„æ—¶æœºå•ä¸€ï¼Œæ¯ä¸ªé”ä»…æœ‰ä¸€ä¸ªå•ä¸€çš„æ¡ä»¶")]),s._v(" "),n("li",[s._v("Condition ä¸ Lock çš„ç»“åˆå¯ä»¥åšåˆ°åŠ é”ä¸å¤šä¸ªæ¡ä»¶ç›¸å…³è”")])])]),s._v(" "),n("li",[n("strong",[s._v("å¯å¦ä¸­æ–­")]),s._v("ï¼š\n"),n("ul",[n("li",[s._v("synchronized è¯•å›¾è·å–é”çš„æ—¶å€™ä¸èƒ½è®¾å®šè¶…æ—¶ï¼Œä¹Ÿä¸èƒ½ä¸­æ–­ä¸€ä¸ªæ­£åœ¨ä½¿ç”¨é”çš„çº¿ç¨‹")]),s._v(" "),n("li",[s._v("Lock å¯ä»¥ä¸­æ–­å’Œè®¾ç½®è¶…æ—¶ï¼ˆ"),n("code",[s._v("lock.lockInterruptibly()")]),s._v("ï¼‰ï¼Œå³æ­£åœ¨ç­‰å¾…çš„çº¿ç¨‹å¯ä»¥é€‰æ‹©æ”¾å¼ƒç­‰å¾…")])])]),s._v(" "),n("li",[s._v("synchronized æ— æ³•çŸ¥é“æ˜¯å¦æˆåŠŸè·å¾—é”ã€‚ç›¸å¯¹è€Œè¨€ï¼ŒLock å¯ä»¥æ‹¿åˆ°çŠ¶æ€ï¼Œå¦‚æœæˆåŠŸè·å–é”ï¼Œ....ï¼Œå¦‚æœè·å–å¤±è´¥ï¼Œ.....")]),s._v(" "),n("li",[s._v("Lock å¯ä»¥æŒ‡å®šæ˜¯å…¬å¹³é”è¿˜æ˜¯éå…¬å¹³é”ã€‚è€Œ synchronized åªèƒ½æ˜¯éå…¬å¹³é”")])]),s._v(" "),n("img",{staticClass:"zoom",attrs:{src:"https://raw.githubusercontent.com/DishuZ/PicGo/main/all/20240526020753.png",alt:"Synchronizedæœ‰ä»€ä¹ˆæ ·çš„ç¼ºé™·ï¼ŸJava Lockæ˜¯æ€ä¹ˆå¼¥è¡¥è¿™äº›ç¼ºé™·çš„ï¼Ÿ"}})])]),n("h4",{attrs:{id:"âšª-æ­»é”äº§ç”Ÿçš„æ¡ä»¶æ˜¯ä»€ä¹ˆâ“"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#âšª-æ­»é”äº§ç”Ÿçš„æ¡ä»¶æ˜¯ä»€ä¹ˆâ“"}},[s._v("#")]),s._v(" âšª æ­»é”äº§ç”Ÿçš„æ¡ä»¶æ˜¯ä»€ä¹ˆâ“")]),s._v(" "),n("div",{staticClass:"zenbu-answer"},[n("p",{staticClass:"zenbu-answer-title"},[s._v("ğŸ™‹ğŸ»â€â™‚ï¸ ç­”ï¼š")]),n("div",{staticClass:"zenbu-answer-context"},[n("blockquote",[n("p",[s._v("æ­»é”ï¼ˆDeadlockï¼‰æè¿°çš„æ˜¯è¿™æ ·ä¸€ç§æƒ…å†µï¼šå¤šä¸ªè¿›ç¨‹/çº¿ç¨‹åŒæ—¶è¢«é˜»å¡ï¼Œå®ƒä»¬ä¸­çš„ä¸€ä¸ªæˆ–è€…å…¨éƒ¨éƒ½åœ¨ç­‰å¾…æŸä¸ªèµ„æºè¢«é‡Šæ”¾ã€‚ç”±äºè¿›ç¨‹/çº¿ç¨‹è¢«æ— é™æœŸåœ°é˜»å¡ï¼Œå› æ­¤ç¨‹åºä¸å¯èƒ½æ­£å¸¸ç»ˆæ­¢ã€‚"),n("br"),s._v("\nâ€”â€” JavaGuide")])]),s._v(" "),n("p",[s._v("æ­»é”æŒ‡ä¸¤ä¸ªä»¥ä¸Šçš„è¿ç®—å•å…ƒï¼ˆè¿›ç¨‹ã€çº¿ç¨‹ã€è™šæ‹Ÿçº¿ç¨‹/åç¨‹ï¼‰ï¼Œéƒ½åœ¨ç­‰å¾…å¯¹æ–¹é‡Šæ”¾èµ„æºï¼Œä½†æ²¡æœ‰ä¸€æ–¹æå‰é‡Šæ”¾èµ„æºï¼Œæ‰€é€ æˆçš„é˜»å¡ç°è±¡å°±å«åšæ­»é”ã€‚")]),s._v(" "),n("p",[n("strong",[s._v("äº§ç”Ÿæ­»é”çš„å››ä¸ªå¿…è¦æ¡ä»¶")]),s._v("ï¼š")]),s._v(" "),n("ul",[n("li",[n("strong",[s._v("äº’æ–¥")]),s._v("æ¡ä»¶ï¼šèµ„æºå¿…é¡»å¤„äºéå…±äº«æ¨¡å¼ï¼Œå³ä¸€æ¬¡åªæœ‰ä¸€ä¸ªè¿›ç¨‹å¯ä»¥ä½¿ç”¨ã€‚å¦‚æœå¦ä¸€è¿›ç¨‹ç”³è¯·è¯¥èµ„æºï¼Œé‚£ä¹ˆå¿…é¡»ç­‰å¾…ç›´åˆ°è¯¥èµ„æºè¢«é‡Šæ”¾ä¸ºæ­¢ã€‚")]),s._v(" "),n("li",[n("strong",[s._v("å æœ‰å¹¶ç­‰å¾…")]),s._v("æ¡ä»¶ï¼šä¸€ä¸ªè¿›ç¨‹è‡³å°‘åº”è¯¥å æœ‰ä¸€ä¸ªèµ„æºï¼Œå¹¶ç­‰å¾…å¦ä¸€èµ„æºï¼Œè€Œè¯¥èµ„æºè¢«å…¶ä»–è¿›ç¨‹æ‰€å æœ‰ã€‚")]),s._v(" "),n("li",[n("strong",[s._v("ä¸å¯å‰¥å¤º")]),s._v("æ¡ä»¶ï¼šèµ„æºä¸èƒ½è¢«æŠ¢å ã€‚åªèƒ½åœ¨æŒæœ‰èµ„æºçš„è¿›ç¨‹å®Œæˆä»»åŠ¡åï¼Œè¯¥èµ„æºæ‰ä¼šè¢«é‡Šæ”¾ã€‚")]),s._v(" "),n("li",[n("strong",[s._v("ç¯è·¯ç­‰å¾…")]),s._v("æ¡ä»¶ï¼šæœ‰ä¸€ç»„ç­‰å¾…è¿›ç¨‹ "),n("code",[s._v("{P0, P1,..., Pn}")]),s._v("ï¼Œ "),n("code",[s._v("P0")]),s._v(" ç­‰å¾…çš„èµ„æºè¢« "),n("code",[s._v("P1")]),s._v(" å æœ‰ï¼Œ"),n("code",[s._v("P1")]),s._v(" ç­‰å¾…çš„èµ„æºè¢« "),n("code",[s._v("P2")]),s._v(" å æœ‰ï¼Œâ€¦â€¦ï¼Œ"),n("code",[s._v("Pn-1")]),s._v(" ç­‰å¾…çš„èµ„æºè¢« "),n("code",[s._v("Pn")]),s._v(" å æœ‰ï¼Œ"),n("code",[s._v("Pn")]),s._v(" ç­‰å¾…çš„èµ„æºè¢« "),n("code",[s._v("P0")]),s._v(" å æœ‰ã€‚")])]),s._v(" "),n("p",[s._v("âš ï¸æ³¨æ„ï¼šè¿™å››ä¸ªæ¡ä»¶æ˜¯äº§ç”Ÿæ­»é”çš„å¿…è¦æ¡ä»¶ï¼Œä¹Ÿå°±æ˜¯è¯´åªè¦ç³»ç»Ÿå‘ç”Ÿæ­»é”ï¼Œè¿™äº›æ¡ä»¶å¿…ç„¶æˆç«‹ï¼Œè€Œåªè¦ä¸Šè¿°æ¡ä»¶ä¹‹ä¸€ä¸æ»¡è¶³ï¼Œå°±ä¸ä¼šå‘ç”Ÿæ­»é”ã€‚")])])]),n("h4",{attrs:{id:"âšª-å¦‚ä½•è¿›è¡Œæ­»é”è¯Šæ–­â“"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#âšª-å¦‚ä½•è¿›è¡Œæ­»é”è¯Šæ–­â“"}},[s._v("#")]),s._v(" âšª å¦‚ä½•è¿›è¡Œæ­»é”è¯Šæ–­â“")]),s._v(" "),n("div",{staticClass:"zenbu-answer"},[n("p",{staticClass:"zenbu-answer-title"},[s._v("ğŸ™‹ğŸ»â€â™‚ï¸ ç­”ï¼š")]),n("div",{staticClass:"zenbu-answer-context"},[n("p",[s._v("ï¼ˆ1ï¼‰"),n("strong",[s._v("è¯Šæ–­")])]),s._v(" "),n("p",[s._v("å½“ç¨‹åºå‡ºç°äº†æ­»é”ç°è±¡ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨JDKè‡ªå¸¦çš„å·¥å…·ï¼šjps å’Œ jstack")]),s._v(" "),n("ul",[n("li",[s._v("jpsï¼šè¾“å‡ºJVMä¸­è¿è¡Œçš„è¿›ç¨‹çŠ¶æ€ä¿¡æ¯")]),s._v(" "),n("li",[s._v("jstackï¼šæŸ¥çœ‹Javaè¿›ç¨‹å†…çº¿ç¨‹çš„å †æ ˆä¿¡æ¯ï¼ŒæŸ¥çœ‹æ—¥å¿—ï¼Œæ£€æŸ¥æ˜¯å¦æœ‰æ­»é”ã€‚å¦‚æœæœ‰æ­»é”ç°è±¡ï¼Œéœ€è¦æŸ¥çœ‹å…·ä½“ä»£ç åˆ†æåï¼Œå¯ä¿®å¤")]),s._v(" "),n("li",[s._v("å¯è§†åŒ–å·¥å…· jconsoleã€VisualVM ä¹Ÿå¯ä»¥æ£€æŸ¥æ­»é”é—®é¢˜")])]),s._v(" "),n("p",[s._v("ï¼ˆ2ï¼‰"),n("strong",[s._v("è§£å†³æ­»é”")])]),s._v(" "),n("p",[s._v("Javaä¸­è§£å†³æ­»é”çš„æ–¹æ³•ï¼š")]),s._v(" "),n("ol",[n("li",[s._v("æ‰“ç ´ç¯è·¯ç­‰å¾…æ¡ä»¶ï¼šé¡ºåºé”ï¼ˆè·å–é”çš„é¡ºåºæ˜¯ä¸€è‡´ï¼‰ï¼ŒæŒ‰åºç”³è¯·èµ„æºæ¥é¢„é˜²ã€‚æŒ‰æŸä¸€é¡ºåºç”³è¯·èµ„æºï¼Œé‡Šæ”¾èµ„æºåˆ™ååºé‡Šæ”¾ã€‚")]),s._v(" "),n("li",[s._v("æ‰“ç ´å æœ‰å¹¶ç­‰å¾…æ¡ä»¶ï¼š\n"),n("ul",[n("li",[s._v("ä¸€æ¬¡æ€§ç”³è¯·æ‰€æœ‰çš„èµ„æº")]),s._v(" "),n("li",[s._v("ä½¿ç”¨ "),n("code",[s._v("ReentrantLock")]),s._v(" çš„ "),n("code",[s._v("tryLock")]),s._v(" æ–¹æ³•")])])]),s._v(" "),n("li",[s._v("æ‰“ç ´ä¸å¯å‰¥å¤ºæ¡ä»¶ï¼šå ç”¨éƒ¨åˆ†èµ„æºçš„çº¿ç¨‹è¿›ä¸€æ­¥ç”³è¯·å…¶ä»–èµ„æºæ—¶ï¼Œå¦‚æœç”³è¯·ä¸åˆ°ï¼Œå¯ä»¥ä¸»åŠ¨é‡Šæ”¾å®ƒå æœ‰çš„èµ„æº")])])])]),n("h4",{attrs:{id:"âšª-èŠä¸€ä¸‹concurrenthashmapâ“"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#âšª-èŠä¸€ä¸‹concurrenthashmapâ“"}},[s._v("#")]),s._v(" âšª èŠä¸€ä¸‹ConcurrentHashMapâ“")]),s._v(" "),n("div",{staticClass:"zenbu-answer"},[n("p",{staticClass:"zenbu-answer-title"},[s._v("ğŸ™‹ğŸ»â€â™‚ï¸ ç­”ï¼š")]),n("div",{staticClass:"zenbu-answer-context"},[n("p",[s._v("ConcurrentHashMap çš„å®ç°åœ¨ JDK1.7 å’Œ JDK 1.8 æœ‰å¾ˆå¤§ä¸åŒã€‚")]),s._v(" "),n("ol",[n("li",[s._v("åº•å±‚æ•°æ®ç»“æ„ï¼š\n"),n("ul",[n("li",[s._v("JDK1.7 é‡‡ç”¨çš„æ•°æ®ç»“æ„æ˜¯ "),n("code",[s._v("Segment")]),s._v(" æ•°ç»„ + "),n("code",[s._v("HashEntry")]),s._v(" æ•°ç»„ + é“¾è¡¨")]),s._v(" "),n("li",[s._v("JDK1.8 é‡‡ç”¨çš„æ•°æ®ç»“æ„è·ŸHashMap1.8çš„ç»“æ„ä¸€æ ·ï¼Œ"),n("code",[s._v("Node")]),s._v(" æ•°ç»„ + é“¾è¡¨ / çº¢é»‘æ ‘")])])]),s._v(" "),n("li",[s._v("åŠ é”çš„æ–¹å¼\n"),n("ul",[n("li",[s._v("JDK1.7 é‡‡ç”¨ Segment åˆ†æ®µé”æœºåˆ¶ï¼Œåº•å±‚ä½¿ç”¨çš„æ˜¯ "),n("code",[s._v("ReentrantLock")])]),s._v(" "),n("li",[s._v("JDK1.8 é‡‡ç”¨ CAS æ·»åŠ æ–°èŠ‚ç‚¹ï¼Œé‡‡ç”¨ "),n("code",[s._v("synchronized")]),s._v(" é”å®šé“¾è¡¨æˆ–çº¢é»‘äºŒå‰æ ‘çš„é¦–èŠ‚ç‚¹ï¼Œç›¸å¯¹Segment åˆ†æ®µé”ç²’åº¦æ›´ç»†ï¼Œæ€§èƒ½æ›´å¥½ã€‚ï¼ˆ"),n("span",{staticStyle:{color:"rgb(122 116 116)"}},[s._v("CASä¿è¯æ·»åŠ èŠ‚ç‚¹æ—¶æ²¡æœ‰å¤šçº¿ç¨‹å†²çªï¼Œ"),n("code",[s._v("synchronized")]),s._v(" ä¿è¯è®¿é—® Map æ—¶æ²¡æœ‰å¤šçº¿ç¨‹å†²çª")]),s._v("ï¼‰")])])])]),s._v(" "),n("p",[s._v("https://zhuanlan.zhihu.com/p/31614308")])])]),n("h4",{attrs:{id:"âšª-å¯¼è‡´å¹¶å‘ç¨‹åºå‡ºç°é—®é¢˜çš„æ ¹æœ¬åŸå› æ˜¯ä»€ä¹ˆâ“"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#âšª-å¯¼è‡´å¹¶å‘ç¨‹åºå‡ºç°é—®é¢˜çš„æ ¹æœ¬åŸå› æ˜¯ä»€ä¹ˆâ“"}},[s._v("#")]),s._v(" âšª å¯¼è‡´å¹¶å‘ç¨‹åºå‡ºç°é—®é¢˜çš„æ ¹æœ¬åŸå› æ˜¯ä»€ä¹ˆâ“")]),s._v(" "),n("p",[s._v("æ¢ä¸€ç§é—®æ³•ï¼šJavaç¨‹åºä¸­æ€ä¹ˆä¿è¯å¤šçº¿ç¨‹çš„æ‰§è¡Œå®‰å…¨ï¼Ÿ")]),s._v(" "),n("div",{staticClass:"zenbu-answer"},[n("p",{staticClass:"zenbu-answer-title"},[s._v("ğŸ™‹ğŸ»â€â™‚ï¸ ç­”ï¼š")]),n("div",{staticClass:"zenbu-answer-context"},[n("p",[s._v("å¹¶å‘ç¨‹åºå‡ºç°é—®é¢˜ï¼Œ"),n("strong",[s._v("å…¶æ ¹æºæ˜¯å¹¶å‘ä¸‰è¦ç´ /ä¸‰é—®é¢˜")]),s._v("ï¼šå¯è§æ€§ã€åŸå­æ€§ã€æœ‰åºæ€§")]),s._v(" "),n("ul",[n("li",[n("strong",[s._v("å¯è§æ€§")]),s._v("ï¼šä¸€ä¸ªçº¿ç¨‹å¯¹å…±äº«å˜é‡çš„ä¿®æ”¹ï¼Œå¦å¤–ä¸€ä¸ªçº¿ç¨‹èƒ½å¤Ÿç«‹åˆ»çœ‹åˆ°")]),s._v(" "),n("li",[n("strong",[s._v("åŸå­æ€§")]),s._v("ï¼šå³ ä¸€ä¸ªæ“ä½œæˆ–è€…å¤šä¸ªæ“ä½œ è¦ä¹ˆå…¨éƒ¨æ‰§è¡Œå¹¶ä¸”æ‰§è¡Œçš„è¿‡ç¨‹ä¸ä¼šè¢«ä»»ä½•å› ç´ æ‰“æ–­ï¼Œè¦ä¹ˆå°±éƒ½ä¸æ‰§è¡Œ")]),s._v(" "),n("li",[n("strong",[s._v("æœ‰åºæ€§")]),s._v("ï¼šç¨‹åºæ‰§è¡Œçš„é¡ºåºæŒ‰ç…§ä»£ç çš„å…ˆåé¡ºåºæ‰§è¡Œ")])]),s._v(" "),n("p",[n("strong",[s._v("åœ¨ä¿è¯è¿™ä¸‰è€…ç”Ÿæ•ˆçš„æƒ…å†µä¸‹ï¼ŒJavaç¨‹åºå¯ä»¥ä¿è¯å¤šçº¿ç¨‹çš„å®‰å…¨æ‰§è¡Œã€‚è‹¥å‡ºç°å¹¶å‘é—®é¢˜ï¼Œä¾¿æ˜¯è¿™ä¸‰è€…ä¸­çš„å…¶ä¸­ä¸€ä¸ªæˆ–å¤šä¸ªæ— æ³•å¾—åˆ°ä¿è¯")]),s._v("ï¼Œæ¯”å¦‚ï¼š")]),s._v(" "),n("ul",[n("li",[s._v("CPU ç¼“å­˜ ç ´åäº† å¯è§æ€§")]),s._v(" "),n("li",[s._v("æ—¶åˆ†å¤ç”¨ ç ´åäº† åŸå­æ€§")]),s._v(" "),n("li",[s._v("é‡æ’åºï¼ˆInstruction Reorderï¼‰ ç ´åäº† æœ‰åºæ€§")])]),s._v(" "),n("p",[n("strong",[s._v("è§£å†³æ–¹æ³•")]),s._v("ï¼š")]),s._v(" "),n("ol",[n("li",[s._v("åŸå­æ€§ï¼š"),n("code",[s._v("synchronized")]),s._v("ã€"),n("code",[s._v("Lock")])]),s._v(" "),n("li",[s._v("å¯è§æ€§ï¼š"),n("code",[s._v("volatile")]),s._v("ã€"),n("code",[s._v("synchronized")]),s._v("ã€"),n("code",[s._v("Lock")]),s._v(" "),n("ul",[n("li",[n("code",[s._v("volatile")]),s._v(" å…³é”®å­—èƒ½ä¿è¯æ•°æ®çš„å¯è§æ€§ï¼Œä½†ä¸èƒ½ä¿è¯æ•°æ®çš„åŸå­æ€§ã€‚")]),s._v(" "),n("li",[n("code",[s._v("synchronized")]),s._v(" å…³é”®å­—ä¸¤è€…éƒ½èƒ½ä¿è¯ã€‚")])])]),s._v(" "),n("li",[s._v("æœ‰åºæ€§ï¼š"),n("code",[s._v("volatile")]),s._v(" "),n("ul",[n("li",[s._v("ç”¨ "),n("code",[s._v("volatile")]),s._v(" ä¿®é¥°å…±äº«å˜é‡ä¼šåœ¨è¯»ã€å†™å…±äº«å˜é‡æ—¶åŠ å…¥ä¸åŒçš„å±éšœï¼Œé˜»æ­¢å…¶ä»–è¯»å†™æ“ä½œè¶Šè¿‡å±éšœï¼Œä»è€Œè¾¾åˆ°é˜»æ­¢é‡æ’åºçš„æ•ˆæœ")])])])])])]),n("h3",{attrs:{id:"çº¿ç¨‹æ± "}},[n("a",{staticClass:"header-anchor",attrs:{href:"#çº¿ç¨‹æ± "}},[s._v("#")]),s._v(" çº¿ç¨‹æ± ")]),s._v(" "),n("h4",{attrs:{id:"âšª-è¯´ä¸€ä¸‹çº¿ç¨‹æ± çš„æ ¸å¿ƒå‚æ•°-çº¿ç¨‹æ± çš„æ‰§è¡ŒåŸç†çŸ¥é“å˜›-â“"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#âšª-è¯´ä¸€ä¸‹çº¿ç¨‹æ± çš„æ ¸å¿ƒå‚æ•°-çº¿ç¨‹æ± çš„æ‰§è¡ŒåŸç†çŸ¥é“å˜›-â“"}},[s._v("#")]),s._v(" âšª è¯´ä¸€ä¸‹çº¿ç¨‹æ± çš„æ ¸å¿ƒå‚æ•°ï¼ˆçº¿ç¨‹æ± çš„æ‰§è¡ŒåŸç†çŸ¥é“å˜›ï¼‰â“")]),s._v(" "),n("div",{staticClass:"zenbu-answer"},[n("p",{staticClass:"zenbu-answer-title"},[s._v("ğŸ™‹ğŸ»â€â™‚ï¸ ç­”ï¼š")]),n("div",{staticClass:"zenbu-answer-context"},[n("p",[s._v("Executors çº¿ç¨‹æ± çš„ç±»ç»“æ„å…³ç³»ï¼š")]),s._v(" "),n("p",[n("img",{attrs:{src:t(360),alt:"alt text"}})]),s._v(" "),n("p",[s._v("çº¿ç¨‹æ± å®ç°ç±» "),n("code",[s._v("ThreadPoolExecutor")]),s._v(" æ˜¯ Executor æ¡†æ¶æœ€æ ¸å¿ƒçš„ç±»ã€‚")]),s._v(" "),n("p",[n("code",[s._v("ThreadPoolExecutor")]),s._v(" ç±»ä¸­æä¾›çš„å››ä¸ªæ„é€ æ–¹æ³•ã€‚æˆ‘ä»¬æ¥çœ‹æœ€é•¿çš„é‚£ä¸ªï¼Œå…¶ä½™ä¸‰ä¸ªéƒ½æ˜¯åœ¨è¿™ä¸ªæ„é€ æ–¹æ³•çš„åŸºç¡€ä¸Šäº§ç”Ÿï¼ˆå…¶ä»–å‡ ä¸ªæ„é€ æ–¹æ³•è¯´ç™½ç‚¹éƒ½æ˜¯ç»™å®šæŸäº›é»˜è®¤å‚æ•°çš„æ„é€ æ–¹æ³•æ¯”å¦‚é»˜è®¤åˆ¶å®šæ‹’ç»ç­–ç•¥æ˜¯ä»€ä¹ˆï¼‰ã€‚")]),s._v(" "),n("p",[s._v("ï¼ˆ1ï¼‰"),n("strong",[s._v("çº¿ç¨‹æ± çš„7ä¸ªå‚æ•°")])]),s._v(" "),n("p",[s._v("çº¿ç¨‹æ±  "),n("code",[s._v("ThreadPoolExecutor")]),s._v(" çš„"),n("strong",[s._v("7ä¸ªå‚æ•°")]),s._v("ï¼š")]),s._v(" "),n("ol",[n("li",[s._v("çº¿ç¨‹æ± çš„"),n("strong",[s._v("æ ¸å¿ƒçº¿ç¨‹æ•°é‡")]),s._v("ï¼š"),n("code",[s._v("int corePoolSize")])]),s._v(" "),n("li",[s._v("çº¿ç¨‹æ± çš„"),n("strong",[s._v("æœ€å¤§çº¿ç¨‹æ•°")]),s._v("ï¼ˆæ ¸å¿ƒçº¿ç¨‹+ä¸´æ—¶çº¿ç¨‹æ•°ï¼‰ï¼š"),n("code",[s._v("int maximumPoolSize")])]),s._v(" "),n("li",[s._v("ä¸´æ—¶çº¿ç¨‹çš„"),n("strong",[s._v("æœ€å¤§ç©ºé—²æ—¶é—´")]),s._v("ï¼ˆè¶…è¿‡è¿™ä¸ªæ—¶é—´ï¼Œä¸´æ—¶çº¿ç¨‹å°±é‡Šæ”¾æ‰ï¼‰ï¼š"),n("code",[s._v("long keepAliveTime")])]),s._v(" "),n("li",[s._v("å‚æ•°3çš„"),n("strong",[s._v("æ—¶é—´å•ä½")]),s._v("ï¼ˆç§’/å¤©/...ï¼‰ï¼š"),n("code",[s._v("TimeUnit unit")])]),s._v(" "),n("li",[s._v("çº¿ç¨‹æ± "),n("strong",[s._v("ä»»åŠ¡é˜Ÿåˆ—")]),s._v("ï¼ˆæ˜¯ä¸€ä¸ªé˜»å¡é˜Ÿåˆ—ï¼Œå½“çº¿ç¨‹æ•°è¾¾åˆ°æ ¸å¿ƒçº¿ç¨‹æ•°åï¼Œä¼šå°†ä»»åŠ¡å­˜å‚¨åœ¨é˜»å¡é˜Ÿåˆ—ä¸­ï¼‰ï¼š"),n("code",[s._v("BlockingQueue<Runnable> workQueue")])]),s._v(" "),n("li",[n("strong",[s._v("çº¿ç¨‹å·¥å‚")]),s._v("ï¼ˆåˆ›å»ºçº¿ç¨‹æ‰€ç”¨çš„å·¥å‚ï¼‰ï¼š"),n("code",[s._v("ThreadFactory threadFactory")])]),s._v(" "),n("li",[n("strong",[s._v("æ‹’ç»ç­–ç•¥")]),s._v("ï¼ˆå½“é˜Ÿåˆ—å·²æ»¡å¹¶ä¸”çº¿ç¨‹æ•°é‡è¾¾åˆ°æœ€å¤§çº¿ç¨‹æ•°é‡æ—¶ï¼Œä¼šè°ƒç”¨è¯¥æ–¹æ³•å¤„ç†ä»»åŠ¡ï¼‰ï¼š"),n("code",[s._v("RejectedExecutionHandler handler")])])]),s._v(" "),n("p",[s._v("æºç å¦‚ä¸‹ï¼ˆå¿½ç•¥ç»†èŠ‚ï¼‰ï¼š")]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[s._v("    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ThreadPoolExecutor")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" corePoolSize"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("       "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æ ¸å¿ƒçº¿ç¨‹æ•°é‡")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" maximumPoolSize"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æœ€å¤§çº¿ç¨‹æ•°")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("long")]),s._v(" keepAliveTime"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("     "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æœ€å¤§ç©ºé—²æ—¶é—´")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("TimeUnit")]),s._v(" unit"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("          "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æ—¶é—´å•ä½")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BlockingQueue")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Runnable")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" workQueue"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// é˜»å¡/ä»»åŠ¡é˜Ÿåˆ—")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ThreadFactory")]),s._v(" threadFactory"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// çº¿ç¨‹å·¥å‚")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("RejectedExecutionHandler")]),s._v(" handler    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æ‹’ç»ç­–ç•¥")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])]),n("p",[s._v("ï¼ˆ2ï¼‰"),n("strong",[s._v("çº¿ç¨‹æ± çš„æ‰§è¡ŒåŸç†/æµç¨‹")])]),s._v(" "),n("p",[s._v("ä¸ºäº†ææ‡‚çº¿ç¨‹æ± çš„åŸç†ï¼Œæˆ‘ä»¬éœ€è¦é¦–å…ˆåˆ†æä¸€ä¸‹ "),n("code",[s._v("execute")]),s._v(" æ–¹æ³•ï¼Œè¯¥æ–¹æ³•çš„å®ç°åœ¨ "),n("code",[s._v("ThreadPoolExecutor")]),s._v(" ç±»ä¸­ã€‚")]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("div",{staticClass:"highlight-lines"},[n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("div",{staticClass:"highlighted"},[s._v("Â ")]),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("div",{staticClass:"highlighted"},[s._v("Â ")]),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("div",{staticClass:"highlighted"},[s._v("Â ")]),n("div",{staticClass:"highlighted"},[s._v("Â ")]),n("div",{staticClass:"highlighted"},[s._v("Â ")]),n("br"),n("div",{staticClass:"highlighted"},[s._v("Â ")]),n("br"),n("br"),n("br"),n("div",{staticClass:"highlighted"},[s._v("Â ")]),n("br"),n("br")]),n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[s._v("   "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// å­˜æ”¾çº¿ç¨‹æ± çš„è¿è¡ŒçŠ¶æ€ (runState) å’Œçº¿ç¨‹æ± å†…æœ‰æ•ˆçº¿ç¨‹çš„æ•°é‡ (workerCount)")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("final")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("AtomicInteger")]),s._v(" ctl "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("AtomicInteger")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ctlOf")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("RUNNING"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("workerCountOf")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" c"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" c "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v(" CAPACITY"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//ä»»åŠ¡é˜Ÿåˆ—")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("final")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BlockingQueue")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Runnable")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" workQueue"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("execute")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Runnable")]),s._v(" command"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// å¦‚æœä»»åŠ¡ä¸ºnullï¼Œåˆ™æŠ›å‡ºå¼‚å¸¸ã€‚")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("command "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throw")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("NullPointerException")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ctl ä¸­ä¿å­˜çš„çº¿ç¨‹æ± å½“å‰çš„ä¸€äº›çŠ¶æ€ä¿¡æ¯")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" c "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" ctl"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("get")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//  ä¸‹é¢ä¼šæ¶‰åŠåˆ° 3 æ­¥ æ“ä½œ")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 1.é¦–å…ˆåˆ¤æ–­å½“å‰çº¿ç¨‹æ± ä¸­æ‰§è¡Œçš„ä»»åŠ¡æ•°é‡æ˜¯å¦å°äº corePoolSize")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// å¦‚æœå°äºçš„è¯ï¼Œé€šè¿‡addWorker(command, true)æ–°å»ºä¸€ä¸ªçº¿ç¨‹ï¼Œå¹¶å°†ä»»åŠ¡(command)æ·»åŠ åˆ°è¯¥çº¿ç¨‹ä¸­ï¼›ç„¶åï¼Œå¯åŠ¨è¯¥çº¿ç¨‹ä»è€Œæ‰§è¡Œä»»åŠ¡ã€‚")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("workerCountOf")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("c"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" corePoolSize"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("addWorker")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("command"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n                "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            c "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" ctl"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("get")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 2.å¦‚æœå½“å‰æ‰§è¡Œçš„ä»»åŠ¡æ•°é‡å¤§äºç­‰äº corePoolSize çš„æ—¶å€™å°±ä¼šèµ°åˆ°è¿™é‡Œï¼Œè¡¨æ˜åˆ›å»ºæ–°çš„çº¿ç¨‹å¤±è´¥ã€‚")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// é€šè¿‡ isRunning æ–¹æ³•åˆ¤æ–­çº¿ç¨‹æ± çŠ¶æ€ï¼Œçº¿ç¨‹æ± å¤„äº RUNNING çŠ¶æ€å¹¶ä¸”é˜Ÿåˆ—å¯ä»¥åŠ å…¥ä»»åŠ¡ï¼Œè¯¥ä»»åŠ¡æ‰ä¼šè¢«åŠ å…¥è¿›å»")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("isRunning")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("c"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" workQueue"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("offer")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("command"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" recheck "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" ctl"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("get")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// å†æ¬¡è·å–çº¿ç¨‹æ± çŠ¶æ€ï¼Œå¦‚æœçº¿ç¨‹æ± çŠ¶æ€ä¸æ˜¯ RUNNING çŠ¶æ€å°±éœ€è¦ä»ä»»åŠ¡é˜Ÿåˆ—ä¸­ç§»é™¤ä»»åŠ¡ï¼Œå¹¶å°è¯•åˆ¤æ–­çº¿ç¨‹æ˜¯å¦å…¨éƒ¨æ‰§è¡Œå®Œæ¯•ã€‚åŒæ—¶æ‰§è¡Œæ‹’ç»ç­–ç•¥ã€‚")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("isRunning")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("recheck"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("remove")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("command"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n                "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("reject")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("command"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// å¦‚æœå½“å‰å·¥ä½œçº¿ç¨‹æ•°é‡ä¸º0ï¼Œæ–°åˆ›å»ºä¸€ä¸ªçº¿ç¨‹å¹¶æ‰§è¡Œã€‚")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("workerCountOf")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("recheck"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n                "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("addWorker")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//3. é€šè¿‡addWorker(command, false)æ–°å»ºä¸€ä¸ªçº¿ç¨‹ï¼Œå¹¶å°†ä»»åŠ¡(command)æ·»åŠ åˆ°è¯¥çº¿ç¨‹ä¸­ï¼›ç„¶åï¼Œå¯åŠ¨è¯¥çº¿ç¨‹ä»è€Œæ‰§è¡Œä»»åŠ¡ã€‚")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ä¼ å…¥ false ä»£è¡¨å¢åŠ çº¿ç¨‹æ—¶åˆ¤æ–­å½“å‰çº¿ç¨‹æ•°æ˜¯å¦å°‘äº maxPoolSize")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//å¦‚æœaddWorker(command, false)æ‰§è¡Œå¤±è´¥ï¼Œåˆ™é€šè¿‡reject()æ‰§è¡Œç›¸åº”çš„æ‹’ç»ç­–ç•¥çš„å†…å®¹ã€‚")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("addWorker")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("command"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("reject")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("command"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br")]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br")])]),n("p",[s._v("çº¿ç¨‹æ± å¤„ç†ä»»åŠ¡çš„æµç¨‹ï¼š")]),s._v(" "),n("p",[n("img",{attrs:{src:t(361),alt:"å›¾è§£çº¿ç¨‹æ± å®ç°åŸç†"}})]),s._v(" "),n("ol",[n("li",[s._v("å¦‚æœå½“å‰è¿è¡Œçš„çº¿ç¨‹æ•°å°äºæ ¸å¿ƒçº¿ç¨‹æ•°ï¼Œé‚£ä¹ˆå°±ä¼šæ–°å»ºä¸€ä¸ªæ ¸å¿ƒçº¿ç¨‹ "),n("code",[s._v("addWorker(command, true)")]),s._v(" æ¥æ‰§è¡Œä»»åŠ¡ã€‚")]),s._v(" "),n("li",[s._v("å¦‚æœå½“å‰è¿è¡Œçš„çº¿ç¨‹æ•°ç­‰äºæˆ–å¤§äºæ ¸å¿ƒçº¿ç¨‹æ•°ï¼Œä½†æ˜¯å°äºæœ€å¤§çº¿ç¨‹æ•°ï¼š\n"),n("ul",[n("li",[s._v("é‚£ä¹ˆå°±æŠŠè¯¥ä»»åŠ¡æ”¾å…¥åˆ°ä»»åŠ¡é˜Ÿåˆ—é‡Œç­‰å¾…æ‰§è¡Œ")]),s._v(" "),n("li",[n("strong",[s._v("å¦‚æœå½“å‰è¿è¡Œçš„çº¿ç¨‹æ•°ä¸º0ï¼Œåˆ™æ–°å»ºä¸€ä¸ªä¸´æ—¶çº¿ç¨‹")]),s._v(" "),n("code",[s._v("addWorker(null, false);")]),s._v("ï¼Œ")])])]),s._v(" "),n("li",[s._v("å¦‚æœå‘ä»»åŠ¡é˜Ÿåˆ—æŠ•æ”¾ä»»åŠ¡å¤±è´¥ï¼ˆä»»åŠ¡é˜Ÿåˆ—å·²ç»æ»¡äº†ï¼‰ï¼Œä½†æ˜¯å½“å‰è¿è¡Œçš„çº¿ç¨‹æ•°æ˜¯å°äºæœ€å¤§çº¿ç¨‹æ•°çš„ï¼Œå°±æ–°å»ºä¸€ä¸ªä¸´æ—¶çº¿ç¨‹æ¥æ‰§è¡Œä»»åŠ¡ã€‚")]),s._v(" "),n("li",[s._v("å¦‚æœå½“å‰è¿è¡Œçš„çº¿ç¨‹æ•°å·²ç»ç­‰åŒäºæœ€å¤§çº¿ç¨‹æ•°äº†ï¼Œæ–°å»ºçº¿ç¨‹å°†ä¼šä½¿å½“å‰è¿è¡Œçš„çº¿ç¨‹è¶…å‡ºæœ€å¤§çº¿ç¨‹æ•°ï¼Œé‚£ä¹ˆå½“å‰ä»»åŠ¡ä¼šè¢«æ‹’ç»ï¼Œé¥±å’Œç­–ç•¥ä¼šè°ƒç”¨ "),n("code",[s._v("RejectedExecutionHandler.rejectedExecution()")]),s._v(" æ–¹æ³•ã€‚")])]),s._v(" "),n("p",[s._v("ï¼ˆ3ï¼‰"),n("strong",[n("code",[s._v("ThreadPoolExecutor")]),s._v(" æ‹’ç»ç­–ç•¥")])]),s._v(" "),n("p",[s._v("å¦‚æœå½“å‰åŒæ—¶è¿è¡Œçš„çº¿ç¨‹æ•°é‡è¾¾åˆ°æœ€å¤§çº¿ç¨‹æ•°é‡å¹¶ä¸”é˜Ÿåˆ—ä¹Ÿå·²ç»è¢«æ”¾æ»¡äº†ä»»åŠ¡æ—¶ï¼Œ"),n("code",[s._v("ThreadPoolExecutor")]),s._v(" å®šä¹‰ä¸€äº›ç­–ç•¥:")]),s._v(" "),n("ul",[n("li",[n("code",[s._v("ThreadPoolExecutor.AbortPolicy")]),s._v("ï¼šæŠ›å‡º "),n("code",[s._v("RejectedExecutionException")]),s._v("æ¥æ‹’ç»æ–°ä»»åŠ¡çš„å¤„ç†ã€‚")]),s._v(" "),n("li",[n("code",[s._v("ThreadPoolExecutor.CallerRunsPolicy")]),s._v("ï¼šè°ƒç”¨æ‰§è¡Œè‡ªå·±çš„çº¿ç¨‹è¿è¡Œä»»åŠ¡ï¼Œä¹Ÿå°±æ˜¯ç›´æ¥åœ¨è°ƒç”¨"),n("code",[s._v("execute")]),s._v("æ–¹æ³•çš„çº¿ç¨‹ä¸­è¿è¡Œ("),n("code",[s._v("run")]),s._v(")è¢«æ‹’ç»çš„ä»»åŠ¡ï¼Œå¦‚æœæ‰§è¡Œç¨‹åºå·²å…³é—­ï¼Œåˆ™ä¼šä¸¢å¼ƒè¯¥ä»»åŠ¡ã€‚å› æ­¤è¿™ç§ç­–ç•¥ä¼šé™ä½å¯¹äºæ–°ä»»åŠ¡æäº¤é€Ÿåº¦ï¼Œå½±å“ç¨‹åºçš„æ•´ä½“æ€§èƒ½ã€‚å¦‚æœæ‚¨çš„åº”ç”¨ç¨‹åºå¯ä»¥æ‰¿å—æ­¤å»¶è¿Ÿå¹¶ä¸”ä½ è¦æ±‚ä»»ä½•ä¸€ä¸ªä»»åŠ¡è¯·æ±‚éƒ½è¦è¢«æ‰§è¡Œçš„è¯ï¼Œä½ å¯ä»¥é€‰æ‹©è¿™ä¸ªç­–ç•¥ã€‚")]),s._v(" "),n("li",[n("code",[s._v("ThreadPoolExecutor.DiscardPolicy")]),s._v("ï¼šä¸å¤„ç†æ–°ä»»åŠ¡ï¼Œç›´æ¥ä¸¢å¼ƒæ‰ã€‚")]),s._v(" "),n("li",[n("code",[s._v("ThreadPoolExecutor.DiscardOldestPolicy")]),s._v("ï¼šæ­¤ç­–ç•¥å°†ä¸¢å¼ƒæœ€æ—©çš„æœªå¤„ç†çš„ä»»åŠ¡è¯·æ±‚ã€‚")])]),s._v(" "),n("hr"),s._v(" "),n("p",[s._v("æ‰©å±•é—®é¢˜ï¼š")]),s._v(" "),n("p",[s._v("ğŸ§›ğŸ»â€â™‚ï¸ é—®ï¼šçº¿ç¨‹æ± çš„æ ¸å¿ƒçº¿ç¨‹è®¾ç½®ä¸º0ï¼Œä»»åŠ¡æ¥äº†ä¹‹åæ€ä¹ˆåšï¼Ÿ")]),s._v(" "),n("p",[s._v("ğŸ™‹ğŸ»â€â™‚ï¸ ç­”ï¼šæ ¸å¿ƒçº¿ç¨‹æ•°è®¾ç½®ä¸º0ï¼Œå½“ä»»åŠ¡æ¥äº†ä¹‹åï¼Œä¹Ÿä¼šåˆ›å»ºä¸€ä¸ªçº¿ç¨‹æ¥æ‰§è¡Œä»»åŠ¡ï¼Œ")])])]),n("h4",{attrs:{id:"âšª-çº¿ç¨‹æ± ä¸­æœ‰å“ªäº›å¸¸è§çš„é˜»å¡é˜Ÿåˆ—â“"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#âšª-çº¿ç¨‹æ± ä¸­æœ‰å“ªäº›å¸¸è§çš„é˜»å¡é˜Ÿåˆ—â“"}},[s._v("#")]),s._v(" âšª çº¿ç¨‹æ± ä¸­æœ‰å“ªäº›å¸¸è§çš„é˜»å¡é˜Ÿåˆ—â“")]),s._v(" "),n("div",{staticClass:"zenbu-answer"},[n("p",{staticClass:"zenbu-answer-title"},[s._v("ğŸ™‹ğŸ»â€â™‚ï¸ ç­”ï¼š")]),n("div",{staticClass:"zenbu-answer-context"},[n("p",[s._v("æ–°ä»»åŠ¡æ¥çš„æ—¶å€™ä¼šå…ˆåˆ¤æ–­å½“å‰è¿è¡Œçš„çº¿ç¨‹æ•°é‡æ˜¯å¦è¾¾åˆ°æ ¸å¿ƒçº¿ç¨‹æ•°ï¼Œå¦‚æœè¾¾åˆ°çš„è¯ï¼Œæ–°ä»»åŠ¡å°±ä¼šè¢«å­˜æ”¾åœ¨æ­¤ï¼ˆé˜»å¡ï¼‰ä»»åŠ¡é˜Ÿåˆ—ä¸­ã€‚")]),s._v(" "),n("p",[s._v("ä¸åŒçš„çº¿ç¨‹æ± ä¼šé€‰ç”¨ä¸åŒçš„é˜»å¡é˜Ÿåˆ—ï¼Œæˆ‘ä»¬å¯ä»¥ç»“åˆå†…ç½®çº¿ç¨‹æ± æ¥åˆ†æã€‚")]),s._v(" "),n("table",[n("thead",[n("tr",[n("th",[s._v("é˜»å¡é˜Ÿåˆ—")]),s._v(" "),n("th",[s._v("å†…ç½®çº¿ç¨‹æ± ")]),s._v(" "),n("th",[s._v("è¯´æ˜")])])]),s._v(" "),n("tbody",[n("tr",[n("td",[n("code",[s._v("LinkedBlockingQueue")]),s._v("ï¼ˆæ— ç•Œé˜Ÿåˆ—ï¼‰")]),s._v(" "),n("td",[n("code",[s._v("FixedThreadPool")]),s._v(" å’Œ "),n("code",[s._v("SingleThreadExector")])]),s._v(" "),n("td",[s._v("å®¹é‡ä¸º "),n("code",[s._v("Integer.MAX_VALUE")]),s._v("ã€‚"),n("code",[s._v("FixedThreadPool")]),s._v(" æœ€å¤šåªèƒ½åˆ›å»ºæ ¸å¿ƒçº¿ç¨‹æ•°çš„çº¿ç¨‹ï¼ˆæ ¸å¿ƒçº¿ç¨‹æ•°å’Œæœ€å¤§çº¿ç¨‹æ•°ç›¸ç­‰ï¼‰ï¼Œ"),n("code",[s._v("SingleThreadExector")]),s._v(" åªèƒ½åˆ›å»ºä¸€ä¸ªçº¿ç¨‹ï¼ˆæ ¸å¿ƒçº¿ç¨‹æ•°å’Œæœ€å¤§çº¿ç¨‹æ•°éƒ½æ˜¯ 1ï¼‰ï¼ŒäºŒè€…çš„ä»»åŠ¡é˜Ÿåˆ—æ°¸è¿œä¸ä¼šè¢«æ”¾æ»¡ã€‚")])]),s._v(" "),n("tr",[n("td",[n("code",[s._v("SynchronousQueue")]),s._v("ï¼ˆåŒæ­¥é˜Ÿåˆ—ï¼‰")]),s._v(" "),n("td",[n("code",[s._v("CachedThreadPool")])]),s._v(" "),n("td",[n("code",[s._v("SynchronousQueue")]),s._v(" æ²¡æœ‰å®¹é‡ï¼Œä¸å­˜å‚¨å…ƒç´ ï¼Œç›®çš„æ˜¯ä¿è¯å¯¹äºæäº¤çš„ä»»åŠ¡ï¼Œå¦‚æœæœ‰ç©ºé—²çº¿ç¨‹ï¼Œåˆ™ä½¿ç”¨ç©ºé—²çº¿ç¨‹æ¥å¤„ç†ï¼›å¦åˆ™æ–°å»ºä¸€ä¸ªçº¿ç¨‹æ¥å¤„ç†ä»»åŠ¡ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ"),n("code",[s._v("CachedThreadPool")]),s._v(" çš„æœ€å¤§çº¿ç¨‹æ•°æ˜¯ "),n("code",[s._v("Integer.MAX_VALUE")]),s._v(" ï¼Œå¯ä»¥ç†è§£ä¸ºçº¿ç¨‹æ•°æ˜¯å¯ä»¥æ— é™æ‰©å±•çš„ï¼Œå¯èƒ½ä¼šåˆ›å»ºå¤§é‡çº¿ç¨‹ï¼Œä»è€Œå¯¼è‡´ OOMã€‚")])]),s._v(" "),n("tr",[n("td",[n("code",[s._v("DelayedWorkQueue")]),s._v("ï¼ˆå»¶è¿Ÿé˜»å¡é˜Ÿåˆ—ï¼‰")]),s._v(" "),n("td",[n("code",[s._v("ScheduledThreadPool")]),s._v(" å’Œ "),n("code",[s._v("SingleThreadScheduledExecutor")])]),s._v(" "),n("td",[n("code",[s._v("DelayedWorkQueue")]),s._v(" çš„å†…éƒ¨å…ƒç´ å¹¶ä¸æ˜¯æŒ‰ç…§æ”¾å…¥çš„æ—¶é—´æ’åºï¼Œè€Œæ˜¯ä¼šæŒ‰ç…§å»¶è¿Ÿçš„æ—¶é—´é•¿çŸ­å¯¹ä»»åŠ¡è¿›è¡Œæ’åºï¼Œå†…éƒ¨é‡‡ç”¨çš„æ˜¯â€œå †â€çš„æ•°æ®ç»“æ„ï¼Œå¯ä»¥ä¿è¯æ¯æ¬¡å‡ºé˜Ÿçš„ä»»åŠ¡éƒ½æ˜¯å½“å‰é˜Ÿåˆ—ä¸­æ‰§è¡Œæ—¶é—´æœ€é å‰çš„ã€‚"),n("code",[s._v("DelayedWorkQueue")]),s._v(" æ·»åŠ å…ƒç´ æ»¡äº†ä¹‹åä¼šè‡ªåŠ¨æ‰©å®¹åŸæ¥å®¹é‡çš„ 1/2ï¼Œå³æ°¸è¿œä¸ä¼šé˜»å¡ï¼Œæœ€å¤§æ‰©å®¹å¯è¾¾ "),n("code",[s._v("Integer.MAX_VALUE")]),s._v("ï¼Œæ‰€ä»¥æœ€å¤šåªèƒ½åˆ›å»ºæ ¸å¿ƒçº¿ç¨‹æ•°çš„çº¿ç¨‹ã€‚")])])])])])]),n("h4",{attrs:{id:"âšª-å¦‚ä½•ç¡®å®šæ ¸å¿ƒçº¿ç¨‹æ•°â“"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#âšª-å¦‚ä½•ç¡®å®šæ ¸å¿ƒçº¿ç¨‹æ•°â“"}},[s._v("#")]),s._v(" âšª å¦‚ä½•ç¡®å®šæ ¸å¿ƒçº¿ç¨‹æ•°â“")]),s._v(" "),n("div",{staticClass:"zenbu-answer"},[n("p",{staticClass:"zenbu-answer-title"},[s._v("ğŸ™‹ğŸ»â€â™‚ï¸ ç­”ï¼š")]),n("div",{staticClass:"zenbu-answer-context"},[n("ol",[n("li",[n("strong",[s._v("é«˜å¹¶å‘ã€ä»»åŠ¡æ‰§è¡Œæ—¶é—´çŸ­")]),s._v(" â†’ï¼ˆ CPUæ ¸æ•°+1 ï¼‰ï¼Œå‡å°‘çº¿ç¨‹ä¸Šä¸‹æ–‡çš„åˆ‡æ¢")]),s._v(" "),n("li",[n("strong",[s._v("å¹¶å‘ä¸é«˜ã€ä»»åŠ¡æ‰§è¡Œæ—¶é—´é•¿")]),s._v(" "),n("ul",[n("li",[s._v("IOå¯†é›†å‹çš„ä»»åŠ¡ â†’ (CPUæ ¸æ•° * 2 + 1)ï¼Œ"),n("span",{staticStyle:{color:"rgb(122 116 116)"}},[s._v("ä¸¾ä¾‹ï¼šæ–‡ä»¶è¯»å†™ã€DBè¯»å†™ã€ç½‘ç»œè¯·æ±‚ç­‰")])]),s._v(" "),n("li",[s._v("è®¡ç®—å¯†é›†å‹ä»»åŠ¡ â†’ï¼ˆ CPUæ ¸æ•°+1 ï¼‰ï¼Œ"),n("span",{staticStyle:{color:"rgb(122 116 116)"}},[s._v("ä¸¾ä¾‹ï¼šè®¡ç®—å‹ä»£ç ã€Bitmapè½¬æ¢ã€Gsonè½¬æ¢")])])])]),s._v(" "),n("li",[n("strong",[s._v("å¹¶å‘é«˜ã€ä¸šåŠ¡æ‰§è¡Œæ—¶é—´é•¿")]),s._v("ï¼Œè§£å†³è¿™ç§ç±»å‹ä»»åŠ¡çš„å…³é”®ä¸åœ¨äºçº¿ç¨‹æ± è€Œåœ¨äºæ•´ä½“æ¶æ„çš„è®¾è®¡ï¼Œçœ‹çœ‹è¿™äº›ä¸šåŠ¡é‡Œé¢æŸäº›æ•°æ®æ˜¯å¦èƒ½åšç¼“å­˜æ˜¯ç¬¬ä¸€æ­¥ï¼Œå¢åŠ æœåŠ¡å™¨æ˜¯ç¬¬äºŒæ­¥ï¼Œè‡³äºçº¿ç¨‹æ± çš„è®¾ç½®ï¼Œè®¾ç½®å‚è€ƒç¬¬2æ¡")])])])]),n("h4",{attrs:{id:"âšª-çº¿ç¨‹æ± çš„ç§ç±»æœ‰å“ªäº›â“"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#âšª-çº¿ç¨‹æ± çš„ç§ç±»æœ‰å“ªäº›â“"}},[s._v("#")]),s._v(" âšª çº¿ç¨‹æ± çš„ç§ç±»æœ‰å“ªäº›â“")]),s._v(" "),n("div",{staticClass:"zenbu-answer"},[n("p",{staticClass:"zenbu-answer-title"},[s._v("ğŸ™‹ğŸ»â€â™‚ï¸ ç­”ï¼š")]),n("div",{staticClass:"zenbu-answer-context"},[n("ul",[n("li",[s._v("newFixedThreadPoolï¼šåˆ›å»ºä¸€ä¸ª "),n("strong",[s._v("å®šé•¿çº¿ç¨‹æ± ")]),s._v("ï¼Œå¯æ§åˆ¶çº¿ç¨‹æœ€å¤§å¹¶å‘æ•°ï¼Œè¶…å‡ºçš„çº¿ç¨‹ä¼šåœ¨é˜Ÿåˆ—ä¸­ç­‰å¾…")]),s._v(" "),n("li",[s._v("newSingleThreadExecutorï¼šåˆ›å»ºä¸€ä¸ª "),n("strong",[s._v("å•çº¿ç¨‹åŒ–çš„çº¿ç¨‹æ± ")]),s._v("ï¼Œå®ƒåªä¼šç”¨å”¯ä¸€çš„å·¥ä½œçº¿ç¨‹æ¥æ‰§è¡Œä»» åŠ¡ï¼Œä¿è¯æ‰€æœ‰ä»»åŠ¡æŒ‰ç…§æŒ‡å®šé¡ºåº(FIFO)æ‰§è¡Œ")]),s._v(" "),n("li",[s._v("newCachedThreadPoolï¼šåˆ›å»ºä¸€ä¸ª "),n("strong",[s._v("å¯ç¼“å­˜çº¿ç¨‹æ± ")]),s._v("ï¼Œå¦‚æœçº¿ç¨‹æ± é•¿åº¦è¶…è¿‡å¤„ç†éœ€è¦ï¼Œå¯çµæ´»å›æ”¶ç©ºé—²çº¿ç¨‹ï¼Œè‹¥æ— å¯å›æ”¶ï¼Œåˆ™æ–°å»ºçº¿ç¨‹")]),s._v(" "),n("li",[s._v("newScheduledThreadPoolï¼šå¯ä»¥ "),n("strong",[s._v("æ‰§è¡Œå»¶è¿Ÿä»»åŠ¡çš„çº¿ç¨‹æ± ")]),s._v("ï¼Œæ”¯æŒå®šæ—¶åŠå‘¨æœŸæ€§ä»»åŠ¡æ‰§è¡Œ")])])])]),n("h4",{attrs:{id:"âšª-ä¸ºä»€ä¹ˆä¸å»ºè®®ç”¨executorsåˆ›å»ºçº¿ç¨‹æ± â“"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#âšª-ä¸ºä»€ä¹ˆä¸å»ºè®®ç”¨executorsåˆ›å»ºçº¿ç¨‹æ± â“"}},[s._v("#")]),s._v(" âšª ä¸ºä»€ä¹ˆä¸å»ºè®®ç”¨Executorsåˆ›å»ºçº¿ç¨‹æ± â“")]),s._v(" "),n("div",{staticClass:"zenbu-answer"},[n("p",{staticClass:"zenbu-answer-title"},[s._v("ğŸ™‹ğŸ»â€â™‚ï¸ ç­”ï¼š")]),n("div",{staticClass:"zenbu-answer-context"},[n("p",[s._v("åœ¨ã€Šé˜¿é‡Œå·´å·´ Java å¼€å‘æ‰‹å†Œã€‹â€œå¹¶å‘å¤„ç†â€è¿™ä¸€ç« èŠ‚ï¼Œæ˜ç¡®æŒ‡å‡ºçº¿ç¨‹èµ„æºå¿…é¡»é€šè¿‡çº¿ç¨‹æ± æä¾›ï¼Œä¸å…è®¸åœ¨åº”ç”¨ä¸­è‡ªè¡Œæ˜¾å¼åˆ›å»ºçº¿ç¨‹ã€‚")]),s._v(" "),n("blockquote",[n("p",[s._v("ä½¿ç”¨çº¿ç¨‹æ± çš„å¥½å¤„æ˜¯å‡å°‘åœ¨åˆ›å»ºå’Œé”€æ¯çº¿ç¨‹ä¸Šæ‰€æ¶ˆè€—çš„æ—¶é—´ä»¥åŠç³»ç»Ÿèµ„æºå¼€é”€ï¼Œè§£å†³èµ„æºä¸è¶³çš„é—®é¢˜ã€‚å¦‚æœä¸ä½¿ç”¨çº¿ç¨‹æ± ï¼Œæœ‰å¯èƒ½ä¼šé€ æˆç³»ç»Ÿåˆ›å»ºå¤§é‡åŒç±»çº¿ç¨‹è€Œå¯¼è‡´æ¶ˆè€—å®Œå†…å­˜æˆ–è€…â€œè¿‡åº¦åˆ‡æ¢â€çš„é—®é¢˜ã€‚")])]),s._v(" "),n("p",[s._v("å¦å¤–ï¼Œã€Šé˜¿é‡Œå·´å·´ Java å¼€å‘æ‰‹å†Œã€‹ä¸­å¼ºåˆ¶çº¿ç¨‹æ±  "),n("strong",[s._v("ä¸å…è®¸ä½¿ç”¨ "),n("code",[s._v("Executors")]),s._v(" å»åˆ›å»ºï¼Œè€Œæ˜¯é€šè¿‡ "),n("code",[s._v("ThreadPoolExecutor")]),s._v(" æ„é€ å‡½æ•°çš„æ–¹å¼")]),s._v("ï¼Œè¿™æ ·çš„å¤„ç†æ–¹å¼è®©å†™çš„åŒå­¦æ›´åŠ æ˜ç¡®çº¿ç¨‹æ± çš„è¿è¡Œè§„åˆ™ï¼Œè§„é¿èµ„æºè€—å°½çš„é£é™©ã€‚")]),s._v(" "),n("img",{staticClass:"zoom",attrs:{src:"https://raw.githubusercontent.com/DishuZ/PicGo/main/all/20240527104710.png",alt:"çº¿ç¨‹æ± å¯¹è±¡çš„å¼Šç«¯"}})])]),n("h3",{attrs:{id:"ä½¿ç”¨åœºæ™¯"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ä½¿ç”¨åœºæ™¯"}},[s._v("#")]),s._v(" ä½¿ç”¨åœºæ™¯")]),s._v(" "),n("h4",{attrs:{id:"âšª-çº¿ç¨‹æ± ä½¿ç”¨åœºæ™¯-ä½ ä»¬é¡¹ç›®ä¸­å“ªé‡Œç”¨åˆ°äº†çº¿ç¨‹æ± -â“"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#âšª-çº¿ç¨‹æ± ä½¿ç”¨åœºæ™¯-ä½ ä»¬é¡¹ç›®ä¸­å“ªé‡Œç”¨åˆ°äº†çº¿ç¨‹æ± -â“"}},[s._v("#")]),s._v(" âšª çº¿ç¨‹æ± ä½¿ç”¨åœºæ™¯(ä½ ä»¬é¡¹ç›®ä¸­å“ªé‡Œç”¨åˆ°äº†çº¿ç¨‹æ± )â“")]),s._v(" "),n("div",{staticClass:"zenbu-answer"},[n("p",{staticClass:"zenbu-answer-title"},[s._v("ğŸ™‹ğŸ»â€â™‚ï¸ ç­”ï¼š")]),n("div",{staticClass:"zenbu-answer-context"},[n("ul",[n("li",[n("strong",[s._v("æ‰¹é‡å¯¼å…¥")]),s._v("ï¼šä½¿ç”¨äº†â€œçº¿ç¨‹æ± +CountDownLatchâ€æ‰¹é‡æŠŠæ•°æ®åº“ä¸­çš„æ•°æ®å¯¼å…¥åˆ°ES(ä»»æ„)ä¸­ï¼Œé¿å…OOM")]),s._v(" "),n("li",[n("strong",[s._v("æ•°æ®æ±‡æ€»")]),s._v("ï¼šè°ƒç”¨å¤šä¸ªæ¥å£æ¥æ±‡æ€»æ•°æ®ï¼Œå¦‚æœæ‰€æœ‰æ¥å£ï¼ˆæˆ–éƒ¨åˆ†æ¥å£ï¼‰çš„æ²¡æœ‰ä¾èµ–å…³ç³»ï¼Œå°±å¯ä»¥ä½¿ç”¨â€œçº¿ç¨‹æ± +Futureâ€æ¥æå‡æ€§èƒ½")]),s._v(" "),n("li",[n("strong",[s._v("å¼‚æ­¥çº¿ç¨‹ï¼ˆçº¿ç¨‹æ± ï¼‰")]),s._v("ï¼šä¸ºäº†é¿å…ä¸‹ä¸€çº§æ–¹æ³•å½±å“ä¸Šä¸€çº§æ–¹æ³•ï¼ˆæ€§èƒ½è€ƒè™‘ï¼‰ï¼Œå¯ä½¿ç”¨å¼‚æ­¥çº¿ç¨‹è°ƒç”¨ä¸‹ä¸€ä¸ªæ–¹æ³•ï¼ˆä¸éœ€è¦ä¸‹ä¸€çº§æ–¹æ³•è¿”å›å€¼ï¼‰ï¼Œå¯ä»¥æå‡æ–¹æ³•å“åº”æ—¶é—´")])])])]),n("h4",{attrs:{id:"âšª-å¦‚ä½•æ§åˆ¶æŸä¸ªæ–¹æ³•å…è®¸å¹¶å‘è®¿é—®çº¿ç¨‹çš„æ•°é‡â“"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#âšª-å¦‚ä½•æ§åˆ¶æŸä¸ªæ–¹æ³•å…è®¸å¹¶å‘è®¿é—®çº¿ç¨‹çš„æ•°é‡â“"}},[s._v("#")]),s._v(" âšª å¦‚ä½•æ§åˆ¶æŸä¸ªæ–¹æ³•å…è®¸å¹¶å‘è®¿é—®çº¿ç¨‹çš„æ•°é‡â“")]),s._v(" "),n("div",{staticClass:"zenbu-answer"},[n("p",{staticClass:"zenbu-answer-title"},[s._v("ğŸ™‹ğŸ»â€â™‚ï¸ ç­”ï¼š")]),n("div",{staticClass:"zenbu-answer-context"},[n("p",[n("code",[s._v("Semaphore")]),s._v(" [ËˆsÉ›mÉ™ËŒfÉ”r] ä¿¡å·é‡ï¼Œæ˜¯JUCåŒ…ä¸‹çš„ä¸€ä¸ªå·¥å…·ç±»ï¼Œåº•å±‚æ˜¯ AQSï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å…¶é™åˆ¶æ‰§è¡Œçš„çº¿ç¨‹æ•°é‡ã€‚")]),s._v(" "),n("p",[s._v("ä½¿ç”¨åœºæ™¯ï¼šé€šå¸¸ç”¨äºé‚£äº›èµ„æºæœ‰æ˜ç¡®è®¿é—®æ•°é‡é™åˆ¶çš„åœºæ™¯ï¼Œå¸¸ç”¨äºé™æµã€‚")]),s._v(" "),n("p",[s._v("ä½¿ç”¨æ­¥éª¤ï¼š")]),s._v(" "),n("ol",[n("li",[s._v("åˆ›å»º "),n("code",[s._v("Semaphore")]),s._v(" å¯¹è±¡ï¼Œå¯ä»¥ç»™ä¸€ä¸ªå®¹é‡")]),s._v(" "),n("li",[n("code",[s._v("semaphore.acquire()")]),s._v("ï¼šè¯·æ±‚ä¸€ä¸ªä¿¡å·é‡ï¼Œè¿™æ—¶å€™çš„ä¿¡å·é‡ä¸ªæ•°-1ï¼ˆä¸€æ—¦æ²¡æœ‰å¯ä½¿ç”¨çš„ä¿¡å·é‡ï¼Œä¹Ÿå³ä¿¡å·é‡ä¸ªæ•°å˜ä¸ºè´Ÿæ•°æ—¶ï¼Œå†æ¬¡è¯·æ±‚çš„æ—¶å€™å°±ä¼šé˜»å¡ï¼Œç›´åˆ°å…¶ä»–çº¿ç¨‹é‡Šæ”¾äº†ä¿¡å·é‡ï¼‰")]),s._v(" "),n("li",[n("code",[s._v("semaphore.release()")]),s._v("ï¼šé‡Šæ”¾ä¸€ä¸ªä¿¡å·é‡ï¼Œæ­¤æ—¶ä¿¡å·é‡ä¸ªæ•°+1")])]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("div",{staticClass:"highlight-lines"},[n("div",{staticClass:"highlighted"},[s._v("Â ")]),n("div",{staticClass:"highlighted"},[s._v("Â ")]),n("br"),n("br"),n("br"),n("br"),n("div",{staticClass:"highlighted"},[s._v("Â ")]),n("div",{staticClass:"highlighted"},[s._v("Â ")]),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("div",{staticClass:"highlighted"},[s._v("Â ")]),n("div",{staticClass:"highlighted"},[s._v("Â ")]),n("br"),n("br"),n("br"),n("br")]),n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 1. åˆ›å»º Semaphore å¯¹è±¡")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Semaphore")]),s._v(" semaphore "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Semaphore")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 10ä¸ªçº¿ç¨‹åŒæ—¶è¿è¡Œ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" i "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" i "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("++")]),s._v(" i"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Thread")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("try")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 2. è¯·æ±‚ä¸€ä¸ªä¿¡å·é‡ï¼Œè·å–è®¸å¯")]),s._v("\n      semaphore"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("acquire")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("catch")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("InterruptedException")]),s._v(" e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("printStackTrace")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("try")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("println")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"running..."')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("try")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Thread")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sleep")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("catch")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("InterruptedException")]),s._v(" e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("printStackTrace")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("println")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"end..."')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("finally")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 3. é‡Šæ”¾ä¸€ä¸ªä¿¡å·é‡ï¼Œé‡Šæ”¾è®¸å¯")]),s._v("\n      semaphore"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("release")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("start")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br")]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br")])])])]),n("h4",{attrs:{id:"âšª-è°ˆè°ˆä½ å¯¹threadlocalçš„ç†è§£â“"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#âšª-è°ˆè°ˆä½ å¯¹threadlocalçš„ç†è§£â“"}},[s._v("#")]),s._v(" âšª è°ˆè°ˆä½ å¯¹ThreadLocalçš„ç†è§£â“")]),s._v(" "),n("div",{staticClass:"zenbu-answer"},[n("p",{staticClass:"zenbu-answer-title"},[s._v("ğŸ™‹ğŸ»â€â™‚ï¸ ç­”ï¼š")]),n("div",{staticClass:"zenbu-answer-context"},[n("ol",[n("li",[n("code",[s._v("ThreadLocal")]),s._v(" å¯ä»¥å®ç°ã€èµ„æºå¯¹è±¡ã€‘çš„çº¿ç¨‹éš”ç¦»ï¼Œè®©æ¯ä¸ªçº¿ç¨‹å„ç”¨å„çš„ã€èµ„æºå¯¹è±¡ã€‘ï¼Œé¿å…äº‰ç”¨å¼•å‘çš„çº¿ç¨‹å®‰å…¨é—®é¢˜")]),s._v(" "),n("li",[n("code",[s._v("ThreadLocal")]),s._v(" åŒæ—¶å®ç°äº†çº¿ç¨‹å†…çš„èµ„æºå…±äº«")]),s._v(" "),n("li",[s._v("æ¯ä¸ªçº¿ç¨‹å†…æœ‰ä¸€ä¸ª "),n("code",[s._v("ThreadLocalMap")]),s._v(" ç±»å‹çš„æˆå‘˜å˜é‡ï¼Œç”¨æ¥å­˜å‚¨èµ„æºå¯¹è±¡\n"),n("ul",[n("li",[s._v("è°ƒç”¨ "),n("code",[s._v("set")]),s._v(" æ–¹æ³•ï¼Œå°±æ˜¯ä»¥ "),n("code",[s._v("ThreadLocal")]),s._v(" è‡ªå·±ä½œä¸º keyï¼Œèµ„æºå¯¹è±¡ä½œä¸º valueï¼Œæ”¾å…¥å½“å‰çº¿ç¨‹çš„ "),n("code",[s._v("ThreadLocalMap")]),s._v(" é›†åˆä¸­")]),s._v(" "),n("li",[s._v("è°ƒç”¨ "),n("code",[s._v("get")]),s._v(" æ–¹æ³•ï¼Œå°±æ˜¯ä»¥ "),n("code",[s._v("ThreadLocal")]),s._v(" è‡ªå·±ä½œä¸º keyï¼Œåˆ°å½“å‰çº¿ç¨‹ä¸­æŸ¥æ‰¾å…³è”çš„èµ„æºå€¼")]),s._v(" "),n("li",[s._v("è°ƒç”¨ "),n("code",[s._v("remove")]),s._v(" æ–¹æ³•ï¼Œå°±æ˜¯ä»¥ "),n("code",[s._v("ThreadLocal")]),s._v(" è‡ªå·±ä½œä¸º keyï¼Œç§»é™¤å½“å‰çº¿ç¨‹å…³è”çš„èµ„æºå€¼")])])]),s._v(" "),n("li",[n("code",[s._v("ThreadLocal")]),s._v(" å†…å­˜æ³„æ¼é—®é¢˜\n"),n("code",[s._v("ThreadLocalMap")]),s._v(" ä¸­çš„ key æ˜¯å¼±å¼•ç”¨ï¼Œå€¼ä¸ºå¼ºå¼•ç”¨ï¼› key ä¼šè¢« GC é‡Šæ”¾å†…å­˜ï¼Œå…³è” value çš„å†…å­˜å¹¶ä¸ä¼šé‡Šæ”¾ã€‚å»ºè®®ä¸»åŠ¨ "),n("code",[s._v("remove")]),s._v(" é‡Šæ”¾ keyï¼Œvalue")])])])]),n("h2",{attrs:{id:"jvmè™šæ‹Ÿæœºç¯‡"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#jvmè™šæ‹Ÿæœºç¯‡"}},[s._v("#")]),s._v(" JVMè™šæ‹Ÿæœºç¯‡")]),s._v(" "),n("p",[n("img",{attrs:{src:t(415),alt:"alt text"}})]),s._v(" "),n("img",{staticClass:"zoom",attrs:{src:"https://raw.githubusercontent.com/DishuZ/PicGo/main/all/20240527153720.png",alt:"20240527153720"}}),s._v(" "),n("h3",{attrs:{id:"jvmç»„æˆ"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#jvmç»„æˆ"}},[s._v("#")]),s._v(" JVMç»„æˆ")]),s._v(" "),n("h4",{attrs:{id:"âšªä»€ä¹ˆæ˜¯ç¨‹åºè®¡æ•°å™¨â“"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#âšªä»€ä¹ˆæ˜¯ç¨‹åºè®¡æ•°å™¨â“"}},[s._v("#")]),s._v(" âšªä»€ä¹ˆæ˜¯ç¨‹åºè®¡æ•°å™¨â“")]),s._v(" "),n("div",{staticClass:"zenbu-answer"},[n("p",{staticClass:"zenbu-answer-title"},[s._v("ğŸ™‹ğŸ»â€â™‚ï¸ ç­”ï¼š")]),n("div",{staticClass:"zenbu-answer-context"},[n("p",[s._v("ç¨‹åºè®¡æ•°å™¨æ˜¯ä¸€å—è¾ƒå°çš„å†…å­˜ç©ºé—´ï¼Œå¯ä»¥çœ‹ä½œæ˜¯å½“å‰çº¿ç¨‹æ‰€æ‰§è¡Œçš„å­—èŠ‚ç çš„è¡Œå·æŒ‡ç¤ºå™¨ã€‚å­—èŠ‚ç è§£é‡Šå™¨å·¥ä½œæ—¶é€šè¿‡æ”¹å˜è¿™ä¸ªè®¡æ•°å™¨çš„å€¼æ¥é€‰å–ä¸‹ä¸€æ¡éœ€è¦æ‰§è¡Œçš„å­—èŠ‚ç æŒ‡ä»¤ï¼Œåˆ†æ”¯ã€å¾ªç¯ã€è·³è½¬ã€å¼‚å¸¸å¤„ç†ã€çº¿ç¨‹æ¢å¤ç­‰åŠŸèƒ½éƒ½éœ€è¦ä¾èµ–è¿™ä¸ªè®¡æ•°å™¨æ¥å®Œæˆã€‚")]),s._v(" "),n("p",[s._v("å¦å¤–ï¼Œä¸ºäº†çº¿ç¨‹åˆ‡æ¢åèƒ½æ¢å¤åˆ°æ­£ç¡®çš„æ‰§è¡Œä½ç½®ï¼Œ"),n("strong",[s._v("æ¯æ¡çº¿ç¨‹éƒ½éœ€è¦æœ‰ä¸€ä¸ªç‹¬ç«‹çš„ç¨‹åºè®¡æ•°å™¨")]),s._v("ï¼Œå„çº¿ç¨‹ä¹‹é—´è®¡æ•°å™¨äº’ä¸å½±å“ï¼Œç‹¬ç«‹å­˜å‚¨ï¼Œæˆ‘ä»¬ç§°è¿™ç±»å†…å­˜åŒºåŸŸä¸ºâ€œ"),n("strong",[s._v("çº¿ç¨‹ç§æœ‰")]),s._v("â€çš„å†…å­˜ã€‚")]),s._v(" "),n("p",[s._v("ä»ä¸Šé¢çš„ä»‹ç»ä¸­æˆ‘ä»¬çŸ¥é“äº†"),n("strong",[s._v("ç¨‹åºè®¡æ•°å™¨ä¸»è¦æœ‰ä¸¤ä¸ªä½œç”¨")]),s._v("ï¼š")]),s._v(" "),n("ol",[n("li",[s._v("å­—èŠ‚ç è§£é‡Šå™¨ "),n("strong",[s._v("é€šè¿‡æ”¹å˜ç¨‹åºè®¡æ•°å™¨")]),s._v(" æ¥ä¾æ¬¡è¯»å–æŒ‡ä»¤ï¼Œä»è€Œ "),n("strong",[s._v("å®ç°ä»£ç çš„æµç¨‹æ§åˆ¶")]),s._v("ï¼Œå¦‚ï¼šé¡ºåºæ‰§è¡Œã€é€‰æ‹©ã€å¾ªç¯ã€å¼‚å¸¸å¤„ç†ã€‚")]),s._v(" "),n("li",[s._v("åœ¨å¤šçº¿ç¨‹çš„æƒ…å†µä¸‹ï¼Œç¨‹åºè®¡æ•°å™¨ç”¨äº "),n("strong",[s._v("è®°å½•å½“å‰çº¿ç¨‹æ‰§è¡Œçš„ä½ç½®")]),s._v("ï¼Œä»è€Œå½“çº¿ç¨‹è¢«åˆ‡æ¢å›æ¥çš„æ—¶å€™èƒ½å¤ŸçŸ¥é“è¯¥çº¿ç¨‹ä¸Šæ¬¡è¿è¡Œåˆ°å“ªå„¿äº†ã€‚")])]),s._v(" "),n("img",{staticClass:"zoom",attrs:{src:"https://raw.githubusercontent.com/DishuZ/PicGo/main/all/20240527153909.png",alt:"20240527153909"}}),s._v(" "),n("p",[s._v("âš ï¸ æ³¨æ„ï¼šç¨‹åºè®¡æ•°å™¨æ˜¯ "),n("strong",[s._v("å”¯ä¸€ä¸€ä¸ªä¸ä¼šå‡ºç° "),n("code",[s._v("OutOfMemoryError")]),s._v(" çš„å†…å­˜åŒºåŸŸ")]),s._v("ï¼Œå®ƒçš„ç”Ÿå‘½å‘¨æœŸéšç€çº¿ç¨‹çš„åˆ›å»ºè€Œåˆ›å»ºï¼Œéšç€çº¿ç¨‹çš„ç»“æŸè€Œæ­»äº¡ã€‚")])])]),n("h4",{attrs:{id:"âšªä½ èƒ½ç»™æˆ‘è¯¦ç»†çš„ä»‹ç»ä¸‹å †å—â“"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#âšªä½ èƒ½ç»™æˆ‘è¯¦ç»†çš„ä»‹ç»ä¸‹å †å—â“"}},[s._v("#")]),s._v(" âšªä½ èƒ½ç»™æˆ‘è¯¦ç»†çš„ä»‹ç»ä¸‹å †å—â“")]),s._v(" "),n("div",{staticClass:"zenbu-answer"},[n("p",{staticClass:"zenbu-answer-title"},[s._v("ğŸ™‹ğŸ»â€â™‚ï¸ ç­”ï¼š")]),n("div",{staticClass:"zenbu-answer-context"},[n("p",[s._v("ï¼ˆ1ï¼‰Javaå †")]),s._v(" "),n("p",[s._v("Java å †æ˜¯ JVM æ‰€ç®¡ç†çš„ "),n("strong",[s._v("å†…å­˜ä¸­æœ€å¤§çš„ä¸€å—")]),s._v("ï¼Œæ˜¯æ‰€æœ‰ "),n("strong",[s._v("çº¿ç¨‹å…±äº«")]),s._v(" çš„ä¸€å—å†…å­˜åŒºåŸŸï¼Œåœ¨è™šæ‹Ÿæœºå¯åŠ¨æ—¶åˆ›å»ºã€‚"),n("strong",[s._v("æ­¤å†…å­˜åŒºåŸŸçš„å”¯ä¸€ç›®çš„å°±æ˜¯å­˜æ”¾å¯¹è±¡å®ä¾‹ï¼Œå‡ ä¹æ‰€æœ‰çš„å¯¹è±¡å®ä¾‹ä»¥åŠæ•°ç»„éƒ½åœ¨è¿™é‡Œåˆ†é…å†…å­˜ã€‚")])]),s._v(" "),n("blockquote",[n("p",[s._v("Java ä¸–ç•Œä¸­â€œå‡ ä¹â€æ‰€æœ‰çš„å¯¹è±¡éƒ½åœ¨å †ä¸­åˆ†é…ï¼Œä½†æ˜¯ï¼Œéšç€ JIT ç¼–è¯‘å™¨çš„å‘å±•ä¸é€ƒé€¸åˆ†ææŠ€æœ¯é€æ¸æˆç†Ÿï¼Œæ ˆä¸Šåˆ†é…ã€æ ‡é‡æ›¿æ¢ä¼˜åŒ–æŠ€æœ¯å°†ä¼šå¯¼è‡´ä¸€äº›å¾®å¦™çš„å˜åŒ–ï¼Œæ‰€æœ‰çš„å¯¹è±¡éƒ½åˆ†é…åˆ°å †ä¸Šä¹Ÿæ¸æ¸å˜å¾—ä¸é‚£ä¹ˆâ€œç»å¯¹â€äº†ã€‚ä» JDK 1.7 å¼€å§‹å·²ç»é»˜è®¤å¼€å¯é€ƒé€¸åˆ†æï¼Œå¦‚æœæŸäº›æ–¹æ³•ä¸­çš„å¯¹è±¡å¼•ç”¨æ²¡æœ‰è¢«è¿”å›æˆ–è€…æœªè¢«å¤–é¢ä½¿ç”¨ï¼ˆä¹Ÿå°±æ˜¯æœªé€ƒé€¸å‡ºå»ï¼‰ï¼Œé‚£ä¹ˆå¯¹è±¡å¯ä»¥ç›´æ¥åœ¨æ ˆä¸Šåˆ†é…å†…å­˜ã€‚")])]),s._v(" "),n("p",[s._v("Java "),n("strong",[s._v("å †æ˜¯åƒåœ¾æ”¶é›†å™¨ç®¡ç†çš„ä¸»è¦åŒºåŸŸ")]),s._v("ï¼Œå› æ­¤ä¹Ÿè¢«ç§°ä½œ "),n("strong",[s._v("GC å †")]),s._v("ï¼ˆGarbage Collected Heapï¼‰ã€‚ä»åƒåœ¾å›æ”¶çš„è§’åº¦ï¼Œç”±äºç°åœ¨æ”¶é›†å™¨åŸºæœ¬éƒ½é‡‡ç”¨åˆ†ä»£åƒåœ¾æ”¶é›†ç®—æ³•ï¼Œæ‰€ä»¥ Java å †è¿˜å¯ä»¥ç»†åˆ†ä¸ºï¼šæ–°ç”Ÿä»£å’Œè€å¹´ä»£ï¼›å†ç»†è‡´ä¸€ç‚¹æœ‰ï¼šEdenã€Survivorã€Old ç­‰ç©ºé—´ã€‚è¿›ä¸€æ­¥åˆ’åˆ†çš„ç›®çš„æ˜¯æ›´å¥½åœ°å›æ”¶å†…å­˜ï¼Œæˆ–è€…æ›´å¿«åœ°åˆ†é…å†…å­˜ã€‚å¦‚å›¾æ‰€ç¤ºï¼š")]),s._v(" "),n("img",{staticClass:"zoom",attrs:{src:"https://raw.githubusercontent.com/DishuZ/PicGo/main/all/20240527170146.png",alt:"Javaå †åˆ†ä»£"}}),s._v(" "),n("p",[s._v("JDK 8 ç‰ˆæœ¬ä¹‹å PermGen(æ°¸ä¹…ä»£) å·²è¢« Metaspace(å…ƒç©ºé—´) å–ä»£ï¼Œ"),n("strong",[s._v("å…ƒç©ºé—´ä½¿ç”¨çš„æ˜¯æœ¬åœ°å†…å­˜")]),s._v("ã€‚")]),s._v(" "),n("p",[s._v("ï¼ˆ2ï¼‰å¯èƒ½çš„å¼‚å¸¸")]),s._v(" "),n("p",[s._v("å †è¿™é‡Œæœ€å®¹æ˜“å‡ºç°çš„å°±æ˜¯ "),n("code",[s._v("OutOfMemoryError")]),s._v(" é”™è¯¯ã€‚å½“å †ä¸­æ²¡æœ‰å†…å­˜ç©ºé—´å¯åˆ†é…ç»™å®ä¾‹ï¼Œä¹Ÿæ— æ³•å†æ‰©å±•æ—¶ï¼Œåˆ™æŠ›å‡º "),n("code",[s._v("OutOfMemoryError")]),s._v(" å¼‚å¸¸ã€‚")]),s._v(" "),n("p",[s._v("ï¼ˆ3ï¼‰å­—ç¬¦ä¸²å¸¸é‡æ± ")]),s._v(" "),n("p",[n("span",{staticStyle:{color:"rgb(122 116 116)"}},[s._v("JDK1.7 ä¹‹å‰ï¼Œå­—ç¬¦ä¸²å¸¸é‡æ± å­˜æ”¾åœ¨æ°¸ä¹…ä»£ã€‚JDK1.7 å­—ç¬¦ä¸²å¸¸é‡æ± å’Œé™æ€å˜é‡ä»æ°¸ä¹…ä»£ç§»åŠ¨äº† Java å †ä¸­ã€‚")])]),s._v(" "),n("p",[s._v("å­—ç¬¦ä¸²å¸¸é‡æ±  æ˜¯ JVM ä¸ºäº†æå‡æ€§èƒ½å’Œå‡å°‘å†…å­˜æ¶ˆè€— "),n("strong",[s._v("é’ˆå¯¹å­—ç¬¦ä¸²ï¼ˆString ç±»ï¼‰ä¸“é—¨å¼€è¾Ÿçš„ä¸€å—åŒºåŸŸ")]),s._v("ï¼Œä¸»è¦ç›®çš„æ˜¯ä¸ºäº† "),n("strong",[s._v("é¿å…å­—ç¬¦ä¸²çš„é‡å¤åˆ›å»º")]),s._v("ã€‚")]),s._v(" "),n("p",[s._v("HotSpot è™šæ‹Ÿæœºä¸­å­—ç¬¦ä¸²å¸¸é‡æ± çš„å®ç°æ˜¯ "),n("code",[s._v("src/hotspot/share/classfile/stringTable.cpp")]),s._v(" ,"),n("code",[s._v("StringTable")]),s._v(" å¯ä»¥ç®€å•ç†è§£ä¸ºä¸€ä¸ªå›ºå®šå¤§å°çš„ HashTable ï¼Œå®¹é‡ä¸º "),n("code",[s._v("StringTableSize")]),s._v("ï¼ˆå¯ä»¥é€šè¿‡ "),n("code",[s._v("-XX:StringTableSize")]),s._v(" å‚æ•°æ¥è®¾ç½®ï¼‰ï¼Œä¿å­˜çš„æ˜¯å­—ç¬¦ä¸²ï¼ˆkeyï¼‰å’Œ å­—ç¬¦ä¸²å¯¹è±¡çš„å¼•ç”¨ï¼ˆvalueï¼‰çš„æ˜ å°„å…³ç³»ï¼Œå­—ç¬¦ä¸²å¯¹è±¡çš„å¼•ç”¨æŒ‡å‘å †ä¸­çš„å­—ç¬¦ä¸²å¯¹è±¡ã€‚")]),s._v(" "),n("hr"),s._v(" "),n("p",[s._v("æ‰©å±•é—®é¢˜")]),s._v(" "),n("p",[s._v("ğŸ§›ğŸ»â€â™‚ï¸ é—®ï¼šä¸ºä»€ä¹ˆè¦å°†æ°¸ä¹…ä»£ (PermGen) æ›¿æ¢ä¸ºå…ƒç©ºé—´ (MetaSpace) å‘¢?")]),s._v(" "),n("p",[s._v("ğŸ™‹ğŸ»â€â™‚ï¸ ç­”ï¼š")]),s._v(" "),n("ol",[n("li",[s._v("é¿å…ç©ºé—´ OOMï¼šæ•´ä¸ªæ°¸ä¹…ä»£æœ‰ä¸€ä¸ª JVM æœ¬èº«è®¾ç½®çš„å›ºå®šå¤§å°ä¸Šé™ï¼Œæ— æ³•è¿›è¡Œè°ƒæ•´ï¼ˆä¹Ÿå°±æ˜¯å—åˆ° JVM å†…å­˜çš„é™åˆ¶ï¼‰ï¼Œè€Œå…ƒç©ºé—´ä½¿ç”¨çš„æ˜¯æœ¬åœ°å†…å­˜ï¼Œå—æœ¬æœºå¯ç”¨å†…å­˜çš„é™åˆ¶ï¼Œè™½ç„¶å…ƒç©ºé—´ä»æ—§å¯èƒ½æº¢å‡ºï¼Œä½†æ˜¯æ¯”åŸæ¥å‡ºç°çš„å‡ ç‡ä¼šæ›´å°ã€‚")]),s._v(" "),n("li",[s._v("æ°¸ä¹…ä»£ä¼šä¸º GC å¸¦æ¥ä¸å¿…è¦çš„å¤æ‚åº¦ï¼Œå¹¶ä¸”å›æ”¶æ•ˆç‡åä½ã€‚")]),s._v(" "),n("li",[s._v("å…ƒç©ºé—´é‡Œé¢å­˜æ”¾çš„æ˜¯ç±»çš„å…ƒæ•°æ®ï¼Œæ”¾åœ¨æœ¬åœ°å†…å­˜æ—¶ï¼Œç”±ç³»ç»Ÿçš„å®é™…å¯ç”¨ç©ºé—´æ¥æ§åˆ¶ï¼Œè¿™æ ·èƒ½åŠ è½½çš„ç±»å°±æ›´å¤šã€‚")])])])]),n("h4",{attrs:{id:"âšªèƒ½ä¸èƒ½ä»‹ç»ä¸€ä¸‹æ–¹æ³•åŒºâ“"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#âšªèƒ½ä¸èƒ½ä»‹ç»ä¸€ä¸‹æ–¹æ³•åŒºâ“"}},[s._v("#")]),s._v(" âšªèƒ½ä¸èƒ½ä»‹ç»ä¸€ä¸‹æ–¹æ³•åŒºâ“")]),s._v(" "),n("div",{staticClass:"zenbu-answer"},[n("p",{staticClass:"zenbu-answer-title"},[s._v("ğŸ™‹ğŸ»â€â™‚ï¸ ç­”ï¼š")]),n("div",{staticClass:"zenbu-answer-context"},[n("p",[n("strong",[s._v("å…³é”®å­—")]),s._v("ï¼šç±»ä¿¡æ¯ã€è¿è¡Œæ—¶å¸¸é‡æ± ã€å¸¸é‡æ± è¡¨")]),s._v(" "),n("p",[s._v("æ–¹æ³•åŒºå±äºæ˜¯ JVM è¿è¡Œæ—¶æ•°æ®åŒºåŸŸçš„ä¸€å—é€»è¾‘åŒºåŸŸï¼Œæ˜¯å„ä¸ª "),n("strong",[s._v("çº¿ç¨‹å…±äº«")]),s._v(" çš„å†…å­˜åŒºåŸŸã€‚")]),s._v(" "),n("p",[s._v("å½“è™šæ‹Ÿæœºè¦ä½¿ç”¨ä¸€ä¸ªç±»æ—¶ï¼Œå®ƒéœ€è¦è¯»å–å¹¶è§£æ Class æ–‡ä»¶è·å–ç›¸å…³ä¿¡æ¯ï¼Œå†å°†ä¿¡æ¯å­˜å…¥åˆ°æ–¹æ³•åŒºã€‚æ–¹æ³•åŒºä¼šå­˜å‚¨å·²è¢«è™šæ‹ŸæœºåŠ è½½çš„ "),n("strong",[s._v("ç±»ä¿¡æ¯ã€å­—æ®µä¿¡æ¯ã€æ–¹æ³•ä¿¡æ¯ã€å¸¸é‡ã€é™æ€å˜é‡ã€å³æ—¶ç¼–è¯‘å™¨ç¼–è¯‘åçš„ä»£ç ç¼“å­˜ç­‰æ•°æ®ã€‚")])]),s._v(" "),n("p",[s._v("ï¼ˆ2ï¼‰è¿è¡Œæ—¶å¸¸é‡æ± ")]),s._v(" "),n("p",[n("strong",[s._v("è¿è¡Œæ—¶å¸¸é‡æ± æ˜¯æ–¹æ³•åŒºçš„ä¸€éƒ¨åˆ†")]),s._v("ã€‚")]),s._v(" "),n("p",[s._v("Class æ–‡ä»¶ä¸­é™¤äº†æœ‰ç±»çš„ç‰ˆæœ¬ã€å­—æ®µã€æ–¹æ³•ã€æ¥å£ç­‰æè¿°ä¿¡æ¯å¤–ï¼Œè¿˜æœ‰ç”¨äºå­˜æ”¾ç¼–è¯‘æœŸç”Ÿæˆçš„å„ç§å­—é¢é‡ï¼ˆLiteralï¼‰å’Œç¬¦å·å¼•ç”¨ï¼ˆSymbolic Referenceï¼‰çš„ "),n("strong",[s._v("å¸¸é‡æ± è¡¨(Constant Pool Table)")]),s._v("ã€‚"),n("strong",[s._v("å¸¸é‡æ± è¡¨ä¼šåœ¨ç±»åŠ è½½åå­˜æ”¾åˆ°æ–¹æ³•åŒºçš„è¿è¡Œæ—¶å¸¸é‡æ± ä¸­")]),s._v("ã€‚")]),s._v(" "),n("ul",[n("li",[s._v("å­—é¢é‡æ˜¯æºä»£ç ä¸­çš„å›ºå®šå€¼çš„è¡¨ç¤ºæ³•ï¼Œå³é€šè¿‡å­—é¢æˆ‘ä»¬å°±èƒ½çŸ¥é“å…¶å€¼çš„å«ä¹‰ã€‚å­—é¢é‡åŒ…æ‹¬æ•´æ•°ã€æµ®ç‚¹æ•°å’Œå­—ç¬¦ä¸²å­—é¢é‡ã€‚")]),s._v(" "),n("li",[s._v("å¸¸è§çš„ç¬¦å·å¼•ç”¨åŒ…æ‹¬ç±»ç¬¦å·å¼•ç”¨ã€å­—æ®µç¬¦å·å¼•ç”¨ã€æ–¹æ³•ç¬¦å·å¼•ç”¨ã€æ¥å£æ–¹æ³•ç¬¦å·ã€‚")])])])]),n("h4",{attrs:{id:"âšªä½ å¬è¿‡ç›´æ¥å†…å­˜å—â“"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#âšªä½ å¬è¿‡ç›´æ¥å†…å­˜å—â“"}},[s._v("#")]),s._v(" âšªä½ å¬è¿‡ç›´æ¥å†…å­˜å—â“")]),s._v(" "),n("div",{staticClass:"zenbu-answer"},[n("p",{staticClass:"zenbu-answer-title"},[s._v("ğŸ™‹ğŸ»â€â™‚ï¸ ç­”ï¼š")]),n("div",{staticClass:"zenbu-answer-context"},[n("p",[s._v("ç›´æ¥å†…å­˜ï¼šå¹¶ä¸å±äºJVMä¸­çš„å†…å­˜ç»“æ„ï¼Œä¸ç”±JVMè¿›è¡Œç®¡ç†ã€‚æ˜¯è™šæ‹Ÿæœºçš„ç³»ç»Ÿå†…å­˜ï¼Œå¸¸è§äº NIO æ“ä½œæ—¶ï¼Œç”¨äºæ•°æ®ç¼“å†²åŒºï¼Œå®ƒåˆ†é…å›æ”¶æˆæœ¬è¾ƒé«˜ï¼Œä½†è¯»å†™æ€§èƒ½é«˜")])])]),n("h4",{attrs:{id:"âšªä»€ä¹ˆæ˜¯è™šæ‹Ÿæœºæ ˆâ“"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#âšªä»€ä¹ˆæ˜¯è™šæ‹Ÿæœºæ ˆâ“"}},[s._v("#")]),s._v(" âšªä»€ä¹ˆæ˜¯è™šæ‹Ÿæœºæ ˆâ“")]),s._v(" "),n("div",{staticClass:"zenbu-answer"},[n("p",{staticClass:"zenbu-answer-title"},[s._v("ğŸ™‹ğŸ»â€â™‚ï¸ ç­”ï¼š")]),n("div",{staticClass:"zenbu-answer-context"},[n("p",[n("strong",[s._v("å…³é”®å­—")]),s._v("ï¼šæ–¹æ³•è°ƒç”¨ã€æ ˆå¸§")]),s._v(" "),n("p",[s._v("ï¼ˆ1ï¼‰"),n("strong",[s._v("æ¦‚è¿°")])]),s._v(" "),n("p",[s._v("è™šæ‹Ÿæœºæ ˆï¼ˆJVM Stackï¼‰æ˜¯ Java è¿è¡Œæ—¶æ•°æ®åŒºçš„ä¸€ä¸ªæ ¸å¿ƒï¼Œé™¤äº†ä¸€äº› Native æ–¹æ³•è°ƒç”¨æ˜¯é€šè¿‡æœ¬åœ°æ–¹æ³•æ ˆå®ç°çš„ï¼Œ"),n("strong",[s._v("å…¶ä»–æ‰€æœ‰çš„ Java æ–¹æ³•è°ƒç”¨éƒ½æ˜¯é€šè¿‡æ ˆæ¥å®ç°")]),s._v(" çš„ã€‚")]),s._v(" "),n("p",[s._v("æ ˆç”±ä¸€ä¸ªä¸ªæ ˆå¸§ç»„æˆï¼Œæ¯ä¸€æ¬¡æ–¹æ³•è°ƒç”¨éƒ½ä¼šæœ‰ä¸€ä¸ªå¯¹åº”çš„æ ˆå¸§è¢«å‹å…¥æ ˆä¸­ï¼Œæ¯ä¸€ä¸ªæ–¹æ³•è°ƒç”¨ç»“æŸåï¼Œéƒ½ä¼šæœ‰ä¸€ä¸ªæ ˆå¸§è¢«å¼¹å‡ºã€‚")]),s._v(" "),n("p",[s._v("ï¼ˆ2ï¼‰"),n("strong",[s._v("æ ˆå¸§")])]),s._v(" "),n("p",[s._v("æ¯ä¸€æ¬¡æ–¹æ³•è°ƒç”¨éƒ½ç”Ÿæˆä¸€ä¸ªæ ˆå¸§ï¼Œæ ˆå¸§ä¸­éƒ½æ‹¥æœ‰ï¼šå±€éƒ¨å˜é‡è¡¨ã€æ“ä½œæ•°æ ˆã€åŠ¨æ€é“¾æ¥ã€æ–¹æ³•è¿”å›åœ°å€ã€‚")]),s._v(" "),n("ul",[n("li",[s._v("å±€éƒ¨å˜é‡è¡¨ï¼šå­˜æ”¾äº†ç¼–è¯‘æœŸå¯çŸ¥çš„å„ç§æ•°æ®ç±»å‹ã€å¯¹è±¡å¼•ç”¨")]),s._v(" "),n("li",[s._v("æ“ä½œæ•°æ ˆï¼šç”¨äºå­˜æ”¾è¯¥æ–¹æ³•æ‰§è¡Œè¿‡ç¨‹ä¸­äº§ç”Ÿçš„ä¸­é—´è®¡ç®—ç»“æœã€ä¸´æ—¶å˜é‡")]),s._v(" "),n("li",[s._v("åŠ¨æ€é“¾æ¥ï¼šå°†ç¬¦å·å¼•ç”¨è½¬æ¢ä¸ºè°ƒç”¨æ–¹æ³•çš„ç›´æ¥å¼•ç”¨ï¼Œä¾¿äºæœåŠ¡ä¸€ä¸ªæ–¹æ³•éœ€è¦è°ƒç”¨å…¶ä»–æ–¹æ³•çš„åœºæ™¯")]),s._v(" "),n("li",[s._v("æ–¹æ³•è¿”å›åœ°å€ï¼šç”¨æ¥å­˜æ”¾è°ƒç”¨è¯¥æ–¹æ³•çš„ PC å¯„å­˜å™¨çš„å€¼")])]),s._v(" "),n("p",[s._v("ï¼ˆ3ï¼‰"),n("strong",[s._v("å¯èƒ½çš„å¼‚å¸¸")])]),s._v(" "),n("ul",[n("li",[s._v("æ ˆå›ºå®šå¤§å°æ—¶å¯èƒ½ "),n("code",[s._v("StackOverflowError")])]),s._v(" "),n("li",[s._v("æ ˆåŠ¨æ€æ‰©å±•æ—¶å¯èƒ½ "),n("code",[s._v("OutOfMemoryError")])])]),s._v(" "),n("hr"),s._v(" "),n("p",[n("strong",[s._v("æ‰©å±•é—®é¢˜")])]),s._v(" "),n("p",[s._v("ğŸ§›ğŸ»â€â™‚ï¸ é—®ï¼šåƒåœ¾å›æ”¶æ˜¯å¦æ¶‰åŠæ ˆå†…å­˜?")]),s._v(" "),n("p",[s._v("ğŸ™‹ğŸ»â€â™‚ï¸ ç­”ï¼šä¸æ¶‰åŠã€‚åƒåœ¾å›æ”¶ä¸»è¦åœ¨å †å†…å­˜åŒºåŸŸä¸­ï¼›å¯¹äºè™šæ‹Ÿæœºæ ˆï¼Œå½“æ ˆå¸§å¼¹å‡ºæ ˆä»¥åï¼Œå†…å­˜å°±ä¼šé‡Šæ”¾ã€‚")]),s._v(" "),n("p",[s._v("ğŸ§›ğŸ»â€â™‚ï¸ é—®ï¼šæ–¹æ³•å†…çš„å±€éƒ¨å˜é‡æ˜¯å¦çº¿ç¨‹å®‰å…¨?")]),s._v(" "),n("p",[s._v("ğŸ™‹ğŸ»â€â™‚ï¸ ç­”ï¼š")]),s._v(" "),n("ul",[n("li",[s._v("å¦‚æœæ–¹æ³•å†…çš„å±€éƒ¨å˜é‡æ²¡æœ‰é€ƒç¦»æ–¹æ³•çš„ä½œç”¨èŒƒå›´ï¼Œé‚£ä¹ˆæ˜¯çº¿ç¨‹å®‰å…¨çš„")]),s._v(" "),n("li",[s._v("å¦‚æœæ˜¯å±€éƒ¨å˜é‡å¼•ç”¨äº†å¯¹è±¡ï¼Œå¹¶é€ƒç¦»æ–¹æ³•çš„ä½œç”¨èŒƒå›´ï¼Œéœ€è¦è€ƒè™‘çº¿ç¨‹å®‰å…¨")])])])]),n("h4",{attrs:{id:"âšªä»€ä¹ˆæƒ…å†µä¸‹ä¼šå¯¼è‡´æ ˆå†…å­˜æº¢å‡ºâ“"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#âšªä»€ä¹ˆæƒ…å†µä¸‹ä¼šå¯¼è‡´æ ˆå†…å­˜æº¢å‡ºâ“"}},[s._v("#")]),s._v(" âšªä»€ä¹ˆæƒ…å†µä¸‹ä¼šå¯¼è‡´æ ˆå†…å­˜æº¢å‡ºâ“")]),s._v(" "),n("div",{staticClass:"zenbu-answer"},[n("p",{staticClass:"zenbu-answer-title"},[s._v("ğŸ™‹ğŸ»â€â™‚ï¸ ç­”ï¼š")]),n("div",{staticClass:"zenbu-answer-context"},[n("p",[s._v("å¦‚æœ "),n("strong",[s._v("å‡½æ•°è°ƒç”¨é™·å…¥æ— é™å¾ªç¯")]),s._v(" çš„è¯ï¼Œå°±ä¼šå¯¼è‡´æ ˆä¸­è¢«å‹å…¥å¤ªå¤šæ ˆå¸§è€Œå ç”¨å¤ªå¤šç©ºé—´ï¼Œå¯¼è‡´æ ˆç©ºé—´è¿‡æ·±ã€‚é‚£ä¹ˆå½“çº¿ç¨‹è¯·æ±‚æ ˆçš„æ·±åº¦ "),n("strong",[s._v("è¶…è¿‡å½“å‰ Java è™šæ‹Ÿæœºæ ˆçš„æœ€å¤§æ·±åº¦")]),s._v(" çš„æ—¶å€™ï¼Œå°±æŠ›å‡º "),n("code",[s._v("StackOverFlowError")]),s._v(" é”™è¯¯ã€‚")])])]),n("h4",{attrs:{id:"âšªå †æ ˆçš„åŒºåˆ«æ˜¯ä»€ä¹ˆâ“"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#âšªå †æ ˆçš„åŒºåˆ«æ˜¯ä»€ä¹ˆâ“"}},[s._v("#")]),s._v(" âšªå †æ ˆçš„åŒºåˆ«æ˜¯ä»€ä¹ˆâ“")]),s._v(" "),n("div",{staticClass:"zenbu-answer"},[n("p",{staticClass:"zenbu-answer-title"},[s._v("ğŸ™‹ğŸ»â€â™‚ï¸ ç­”ï¼š")]),n("div",{staticClass:"zenbu-answer-context"},[n("blockquote",[n("p",[s._v("æ ˆæ˜¯è¿è¡Œæ—¶çš„å•ä½ï¼Œè€Œå †æ˜¯å­˜å‚¨çš„å•ä½ã€‚")]),s._v(" "),n("p",[s._v("æ ˆè§£å†³ç¨‹åºçš„è¿è¡Œé—®é¢˜ï¼Œå³ç¨‹åºå¦‚ä½•æ‰§è¡Œï¼Œæˆ–è€…è¯´å¦‚ä½•å¤„ç†æ•°æ®ã€‚å †è§£å†³çš„æ˜¯æ•°æ®å­˜å‚¨çš„é—®é¢˜ï¼Œå³æ•°æ®æ€ä¹ˆæ”¾ã€æ”¾åœ¨å“ªã€‚")])])])]),n("h3",{attrs:{id:"ç±»åŠ è½½å™¨"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ç±»åŠ è½½å™¨"}},[s._v("#")]),s._v(" ç±»åŠ è½½å™¨")]),s._v(" "),n("h4",{attrs:{id:"âšª-ä»€ä¹ˆæ˜¯ç±»åŠ è½½å™¨-ç±»åŠ è½½å™¨æœ‰å“ªäº›â“"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#âšª-ä»€ä¹ˆæ˜¯ç±»åŠ è½½å™¨-ç±»åŠ è½½å™¨æœ‰å“ªäº›â“"}},[s._v("#")]),s._v(" âšª ä»€ä¹ˆæ˜¯ç±»åŠ è½½å™¨ï¼Œç±»åŠ è½½å™¨æœ‰å“ªäº›â“")]),s._v(" "),n("div",{staticClass:"zenbu-answer"},[n("p",{staticClass:"zenbu-answer-title"},[s._v("ğŸ™‹ğŸ»â€â™‚ï¸ ç­”ï¼š")]),n("div",{staticClass:"zenbu-answer-context"},[n("p",[n("strong",[s._v("ç±»åŠ è½½å™¨")]),s._v("ï¼šç”¨äºå°†å­—èŠ‚ç æ–‡ä»¶ï¼ˆ"),n("code",[s._v(".class")]),s._v(" æ–‡ä»¶ï¼‰åŠ è½½åˆ°JVMä¸­ï¼Œå®ç°ç±»åŠ è½½è¿‡ç¨‹ä¸­çš„ åŠ è½½/Loading è¿™ä¸€æ­¥ï¼Œä»è€Œè®©Javaç¨‹åºèƒ½å¤Ÿå¯åŠ¨èµ·æ¥ã€‚")]),s._v(" "),n("p",[s._v("ç«™åœ¨Javaå¼€å‘äººå‘˜çš„è§’åº¦æ¥çœ‹ï¼Œ"),n("strong",[s._v("ç±»åŠ è½½å™¨å¯ä»¥å¤§è‡´åˆ’åˆ†ä¸ºä¸‰ç±»")]),s._v("ï¼Œè¿™ä¹Ÿæ˜¯ JVM ä¸­å†…ç½®çš„ä¸‰ä¸ªé‡è¦ "),n("code",[s._v("ClassLoader")]),s._v("ï¼š")]),s._v(" "),n("ol",[n("li",[n("strong",[n("code",[s._v("BootstrapClassLoader")]),s._v("(å¯åŠ¨ç±»åŠ è½½å™¨)")]),s._v("ï¼šæœ€é¡¶å±‚çš„åŠ è½½ç±»ï¼Œç”± C++ å®ç°ï¼Œé€šå¸¸è¡¨ç¤ºä¸º "),n("code",[s._v("null")]),s._v("ï¼Œå¹¶ä¸”æ²¡æœ‰çˆ¶çº§ï¼Œä¸»è¦ç”¨æ¥åŠ è½½ JDK å†…éƒ¨çš„æ ¸å¿ƒç±»åº“ï¼ˆ "),n("code",[s._v("%JAVA_HOME%/jre/lib")]),s._v(" ç›®å½•ä¸‹çš„ "),n("code",[s._v("rt.jar")]),s._v("ã€"),n("code",[s._v("resources.jar")]),s._v("ã€"),n("code",[s._v("charsets.jar")]),s._v(" ç­‰ jar åŒ…å’Œç±»ï¼‰ä»¥åŠè¢« "),n("code",[s._v("-Xbootclasspath")]),s._v(" å‚æ•°æŒ‡å®šçš„è·¯å¾„ä¸‹çš„æ‰€æœ‰ç±»ã€‚å¯åŠ¨ç±»åŠ è½½å™¨æ˜¯æ— æ³•è¢«Javaç¨‹åºç›´æ¥å¼•ç”¨çš„ã€‚")]),s._v(" "),n("li",[n("strong",[n("code",[s._v("ExtensionClassLoader")]),s._v("(æ‰©å±•ç±»åŠ è½½å™¨)")]),s._v("ï¼šä¸»è¦è´Ÿè´£åŠ è½½ "),n("code",[s._v("%JAVA_HOME%/jre/lib/ext")]),s._v(" ç›®å½•ä¸‹çš„ jar åŒ…å’Œç±»ä»¥åŠè¢« "),n("code",[s._v("java.ext.dirs")]),s._v(" ç³»ç»Ÿå˜é‡æ‰€æŒ‡å®šçš„è·¯å¾„ä¸‹çš„æ‰€æœ‰ç±»ã€‚å¼€å‘è€…å¯ä»¥ç›´æ¥ä½¿ç”¨æ‰©å±•ç±»åŠ è½½å™¨ã€‚")]),s._v(" "),n("li",[n("strong",[n("code",[s._v("AppClassLoader")]),s._v("(åº”ç”¨ç¨‹åºç±»åŠ è½½å™¨)")]),s._v("ï¼šé¢å‘æˆ‘ä»¬ç”¨æˆ·çš„åŠ è½½å™¨ï¼Œè¯¥ç±»åŠ è½½å™¨ç”±sun.misc."),n("code",[s._v("Launcher$AppClassLoader")]),s._v(" æ¥å®ç°ï¼Œè´Ÿè´£åŠ è½½å½“å‰åº”ç”¨ "),n("code",[s._v("classpath")]),s._v(" ä¸‹çš„æ‰€æœ‰ jar åŒ…å’Œç±»ã€‚å¼€å‘è€…å¯ä»¥ç›´æ¥ä½¿ç”¨è¯¥ç±»åŠ è½½å™¨ï¼Œå¦‚æœåº”ç”¨ç¨‹åºä¸­æ²¡æœ‰è‡ªå®šä¹‰è¿‡è‡ªå·±çš„ç±»åŠ è½½å™¨ï¼Œä¸€èˆ¬æƒ…å†µä¸‹è¿™ä¸ªå°±æ˜¯ç¨‹åºä¸­é»˜è®¤çš„ç±»åŠ è½½å™¨ã€‚")]),s._v(" "),n("li",[s._v("ï¼ˆè‡ªå®šä¹‰ï¼‰ç”¨æˆ·è¿˜å¯ä»¥ "),n("strong",[s._v("è‡ªå®šä¹‰ç±»åŠ è½½å™¨")]),s._v("ï¼Œè‡ªå®šä¹‰ç±»åŠ è½½å™¨éœ€è¦ç»§æ‰¿ "),n("code",[s._v("ClassLoader")]),s._v(" æŠ½è±¡ç±»ï¼Œé‡å†™ "),n("code",[s._v("findClass()")]),s._v(" å’Œ  "),n("code",[s._v("loadClass()")]),s._v(" æ–¹æ³•")])]),s._v(" "),n("blockquote",[n("p",[s._v("ğŸŒˆ æ‹“å±•ä¸€ä¸‹ï¼š")]),s._v(" "),n("ul",[n("li",[n("strong",[n("code",[s._v("rt.jar")])]),s._v("ï¼šrt ä»£è¡¨â€œRunTimeâ€ï¼Œ"),n("code",[s._v("rt.jar")]),s._v(" æ˜¯ Java åŸºç¡€ç±»åº“ï¼ŒåŒ…å« Java doc é‡Œé¢çœ‹åˆ°çš„æ‰€æœ‰çš„ç±»çš„ç±»æ–‡ä»¶ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬å¸¸ç”¨å†…ç½®åº“ "),n("code",[s._v("java.xxx.*")]),s._v(" éƒ½åœ¨é‡Œé¢ï¼Œæ¯”å¦‚ "),n("code",[s._v("java.util.*")]),s._v("ã€"),n("code",[s._v("java.io.*")]),s._v("ã€"),n("code",[s._v("java.nio.*")]),s._v("ã€"),n("code",[s._v("java.lang.*")]),s._v("ã€"),n("code",[s._v("java.sql.*")]),s._v("ã€"),n("code",[s._v("java.math.*")]),s._v("ã€‚\nJava 9 å¼•å…¥äº†æ¨¡å—ç³»ç»Ÿï¼Œå¹¶ä¸”ç•¥å¾®æ›´æ”¹äº†ä¸Šè¿°çš„ç±»åŠ è½½å™¨ã€‚æ‰©å±•ç±»åŠ è½½å™¨è¢«æ”¹åä¸ºå¹³å°ç±»åŠ è½½å™¨ï¼ˆplatform class loaderï¼‰ã€‚Java SE ä¸­é™¤äº†å°‘æ•°å‡ ä¸ªå…³é”®æ¨¡å—ï¼Œæ¯”å¦‚è¯´ "),n("code",[s._v("java.base")]),s._v(" æ˜¯ç”±å¯åŠ¨ç±»åŠ è½½å™¨åŠ è½½ä¹‹å¤–ï¼Œå…¶ä»–çš„æ¨¡å—å‡ç”±å¹³å°ç±»åŠ è½½å™¨æ‰€åŠ è½½ã€‚")])])])])]),n("h4",{attrs:{id:"âšª-ä»€ä¹ˆæ˜¯åŒäº²å§”æ´¾æ¨¡å‹â“"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#âšª-ä»€ä¹ˆæ˜¯åŒäº²å§”æ´¾æ¨¡å‹â“"}},[s._v("#")]),s._v(" âšª ä»€ä¹ˆæ˜¯åŒäº²å§”æ´¾æ¨¡å‹â“")]),s._v(" "),n("div",{staticClass:"zenbu-answer"},[n("p",{staticClass:"zenbu-answer-title"},[s._v("ğŸ™‹ğŸ»â€â™‚ï¸ ç­”ï¼š")]),n("div",{staticClass:"zenbu-answer-context"},[n("p",[s._v("å½“æŸä¸ªç±»åŠ è½½å™¨æ‰“ç®—åŠ è½½æŸä¸€ä¸ªç±»æ—¶ï¼Œä¸ä¼šè‡ªå·±å»æ‰§è¡Œï¼Œè€Œæ˜¯å…ˆå§”æ‰˜ä¸Šä¸€çº§çš„åŠ è½½å™¨è¿›è¡ŒåŠ è½½ã€‚å¦‚æœä¸Šçº§åŠ è½½å™¨ä¹Ÿæœ‰ä¸Šçº§ï¼Œåˆ™ä¼šç»§ç»­å‘ä¸Šå§”æ‰˜ï¼Œå¦‚æœè¯¥ç±»å§”æ‰˜ä¸Šçº§åŠ è½½å¤±è´¥ï¼Œå­åŠ è½½å™¨å†å°è¯•åŠ è½½è¯¥ç±»ã€‚")]),s._v(" "),n("p",[s._v("ç®€å•æ€»ç»“ä¸€ä¸‹åŒäº²å§”æ´¾æœºåˆ¶çš„æ‰§è¡Œæµç¨‹ï¼š")]),s._v(" "),n("ul",[n("li",[s._v("åœ¨ç±»åŠ è½½çš„æ—¶å€™ï¼Œç³»ç»Ÿä¼šé¦–å…ˆåˆ¤æ–­å½“å‰ç±»æ˜¯å¦è¢«åŠ è½½è¿‡ "),n("code",[s._v("findLoadedClass(name)")]),s._v("ã€‚å·²ç»è¢«åŠ è½½çš„ç±»ä¼šç›´æ¥è¿”å›ï¼Œå¦åˆ™æ‰ä¼šå°è¯•åŠ è½½ï¼ˆæ¯ä¸ªçˆ¶ç±»åŠ è½½å™¨éƒ½ä¼šèµ°ä¸€éè¿™ä¸ªæµç¨‹ï¼‰ã€‚")]),s._v(" "),n("li",[s._v("ç±»åŠ è½½å™¨åœ¨è¿›è¡Œç±»åŠ è½½çš„æ—¶å€™ï¼Œå®ƒé¦–å…ˆä¸ä¼šè‡ªå·±å»å°è¯•åŠ è½½è¿™ä¸ªç±»ï¼Œè€Œæ˜¯æŠŠè¿™ä¸ªè¯·æ±‚å§”æ´¾ç»™çˆ¶ç±»åŠ è½½å™¨å»å®Œæˆï¼ˆè°ƒç”¨çˆ¶åŠ è½½å™¨ "),n("code",[s._v("parent.loadClass()")]),s._v("æ–¹æ³•æ¥åŠ è½½ç±»ï¼‰ã€‚è¿™æ ·çš„è¯ï¼Œæ‰€æœ‰çš„è¯·æ±‚æœ€ç»ˆéƒ½ä¼šä¼ é€åˆ°é¡¶å±‚çš„å¯åŠ¨ç±»åŠ è½½å™¨ "),n("code",[s._v("BootstrapClassLoader")]),s._v(" ä¸­ã€‚")]),s._v(" "),n("li",[s._v("åªæœ‰å½“çˆ¶åŠ è½½å™¨åé¦ˆè‡ªå·±æ— æ³•å®Œæˆè¿™ä¸ªåŠ è½½è¯·æ±‚ï¼ˆå®ƒçš„æœç´¢èŒƒå›´ä¸­æ²¡æœ‰æ‰¾åˆ°æ‰€éœ€çš„ç±»ï¼‰æ—¶ï¼Œå­åŠ è½½å™¨æ‰ä¼šå°è¯•è‡ªå·±å»åŠ è½½ï¼ˆè°ƒç”¨è‡ªå·±çš„ "),n("code",[s._v("findClass()")]),s._v(" æ–¹æ³•æ¥åŠ è½½ç±»ï¼‰ã€‚")]),s._v(" "),n("li",[s._v("å¦‚æœå­ç±»åŠ è½½å™¨ä¹Ÿæ— æ³•åŠ è½½è¿™ä¸ªç±»ï¼Œé‚£ä¹ˆå®ƒä¼šæŠ›å‡ºä¸€ä¸ª "),n("code",[s._v("ClassNotFoundException")]),s._v(" å¼‚å¸¸ã€‚")])])])]),n("h4",{attrs:{id:"âšª-jvmä¸ºä»€ä¹ˆé‡‡ç”¨åŒäº²å§”æ´¾æœºåˆ¶â“"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#âšª-jvmä¸ºä»€ä¹ˆé‡‡ç”¨åŒäº²å§”æ´¾æœºåˆ¶â“"}},[s._v("#")]),s._v(" âšª JVMä¸ºä»€ä¹ˆé‡‡ç”¨åŒäº²å§”æ´¾æœºåˆ¶â“")]),s._v(" "),n("div",{staticClass:"zenbu-answer"},[n("p",{staticClass:"zenbu-answer-title"},[s._v("ğŸ™‹ğŸ»â€â™‚ï¸ ç­”ï¼š")]),n("div",{staticClass:"zenbu-answer-context"},[n("ul",[n("li",[s._v("é¿å…æŸä¸€ä¸ªç±»è¢«é‡å¤åŠ è½½ï¼Œå½“çˆ¶ç±»å·²ç»åŠ è½½ååˆ™æ— éœ€é‡å¤åŠ è½½ï¼Œä¿è¯å”¯ä¸€æ€§ã€‚")]),s._v(" "),n("li",[s._v("ä¿è¯äº† Java çš„æ ¸å¿ƒ API ä¸è¢«ç¯¡æ”¹ã€‚")])])])]),n("h4",{attrs:{id:"âšª-è¯´ä¸€ä¸‹ç±»è£…è½½çš„æ‰§è¡Œè¿‡ç¨‹â“"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#âšª-è¯´ä¸€ä¸‹ç±»è£…è½½çš„æ‰§è¡Œè¿‡ç¨‹â“"}},[s._v("#")]),s._v(" âšª è¯´ä¸€ä¸‹ç±»è£…è½½çš„æ‰§è¡Œè¿‡ç¨‹â“")]),s._v(" "),n("div",{staticClass:"zenbu-answer"},[n("p",{staticClass:"zenbu-answer-title"},[s._v("ğŸ™‹ğŸ»â€â™‚ï¸ ç­”ï¼š")]),n("div",{staticClass:"zenbu-answer-context"},[n("p",[s._v("ç±»è£…è½½çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸï¼š")]),s._v(" "),n("img",{staticClass:"zoom",attrs:{src:"https://raw.githubusercontent.com/DishuZ/PicGo/main/all/20240527194710.png",alt:"20240527194710"}}),s._v(" "),n("p",[n("strong",[s._v("ç±»åŠ è½½è¿‡ç¨‹")]),s._v("ï¼š")]),s._v(" "),n("ul",[n("li",[n("strong",[s._v("Step1 åŠ è½½/Loading")]),s._v("ï¼š\n"),n("ul",[n("li",[s._v("æŸ¥æ‰¾å¹¶åŠ è½½ç±»çš„äºŒè¿›åˆ¶å­—èŠ‚æµ")]),s._v(" "),n("li",[s._v("å°†å­—èŠ‚æµæ‰€ä»£è¡¨çš„ é™æ€å­˜å‚¨ç»“æ„ è½¬æ¢ä¸º æ–¹æ³•åŒºçš„è¿è¡Œæ—¶æ•°æ®ç»“æ„")]),s._v(" "),n("li",[s._v("åœ¨å†…å­˜ï¼ˆJavaå †ï¼‰ä¸­ç”Ÿæˆä¸€ä¸ªä»£è¡¨è¯¥ç±»çš„ã€ŒClasså¯¹è±¡ã€ï¼Œä½œä¸ºæ–¹æ³•åŒºä¸­è¿™äº›æ•°æ®çš„è®¿é—®å…¥å£")])])]),s._v(" "),n("li",[n("strong",[s._v("Step2 éªŒè¯/Verifcation")]),s._v("ï¼š\n"),n("ul",[n("li",[s._v("ç¡®ä¿è¢«åŠ è½½çš„ç±»çš„æ­£ç¡®æ€§ï¼Œä¿è¯è¿™äº›ä¿¡æ¯è¢«å½“ä½œä»£ç è¿è¡Œåä¸ä¼šå±å®³è™šæ‹Ÿæœºè‡ªèº«çš„å®‰å…¨")])])]),s._v(" "),n("li",[n("strong",[s._v("Step3 å‡†å¤‡/Preparation")]),s._v("ï¼š\n"),n("ul",[n("li",[s._v("ä¸ºç±»çš„é™æ€å˜é‡åˆ†é…å†…å­˜ï¼ˆæ–¹æ³•åŒºä¸­åˆ†é…ï¼‰ï¼Œå¹¶å°†å…¶åˆå§‹åŒ–ä¸ºé»˜è®¤å€¼ï¼›")])])]),s._v(" "),n("li",[n("strong",[s._v("Step4 è§£æ/Resolution")]),s._v("ï¼š\n"),n("ul",[n("li",[s._v("æŠŠç±»ä¸­å¸¸é‡æ± å†…çš„ã€Œç¬¦å·å¼•ç”¨ã€æ›¿æ¢ä¸ºã€Œç›´æ¥å¼•ç”¨ã€ï¼›")]),s._v(" "),n("li",[n("img",{attrs:{src:t(416),alt:"alt text"}})])])]),s._v(" "),n("li",[n("strong",[s._v("Step5 åˆå§‹åŒ–/Initialization")]),s._v("ï¼š\n"),n("ul",[n("li",[s._v("æ‰§è¡Œåˆå§‹åŒ–æ–¹æ³• "),n("code",[s._v("<clinit>()")]),s._v("ï¼Œä¸ºç±»çš„é™æ€å˜é‡èµ‹äºˆæ­£ç¡®çš„åˆå§‹å€¼")]),s._v(" "),n("li",[n("strong",[s._v("åªæœ‰å½“å¯¹ç±»çš„ä¸»åŠ¨ä½¿ç”¨çš„æ—¶å€™æ‰ä¼šå¯¼è‡´ç±»çš„åˆå§‹åŒ–")]),s._v("ï¼Œæœ‰ä»¥ä¸‹6ç§æƒ…å†µï¼š\n"),n("ul",[n("li",[s._v("åˆ›å»ºç±»çš„å®ä¾‹ï¼Œä¹Ÿå°±æ˜¯ new çš„æ–¹å¼")]),s._v(" "),n("li",[s._v("è®¿é—®æŸä¸ªç±»æˆ–æ¥å£çš„é™æ€å˜é‡ï¼Œæˆ–è€…å¯¹è¯¥é™æ€å˜é‡èµ‹å€¼")]),s._v(" "),n("li",[s._v("è°ƒç”¨ç±»çš„é™æ€æ–¹æ³•")]),s._v(" "),n("li",[s._v("åå°„(å¦‚"),n("code",[s._v('Class.forName("com.pdai.jvm.Test")')]),s._v(")")]),s._v(" "),n("li",[s._v("åˆå§‹åŒ–æŸä¸ªç±»çš„å­ç±»ï¼Œåˆ™å…¶çˆ¶ç±»ä¹Ÿä¼šè¢«åˆå§‹åŒ–")]),s._v(" "),n("li",[s._v("Javaè™šæ‹Ÿæœºå¯åŠ¨æ—¶è¢«æ ‡æ˜ä¸ºå¯åŠ¨ç±»çš„ç±»(Java Test)ï¼Œç›´æ¥ä½¿ç”¨ "),n("code",[s._v("java.exe")]),s._v(" å‘½ä»¤æ¥è¿è¡ŒæŸä¸ªä¸»ç±»")])])])])])])])]),n("h3",{attrs:{id:"åƒåœ¾å›æ”¶"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#åƒåœ¾å›æ”¶"}},[s._v("#")]),s._v(" åƒåœ¾å›æ”¶")]),s._v(" "),n("h4",{attrs:{id:"âšª-å¯¹è±¡ä»€ä¹ˆæ—¶å€™å¯ä»¥è¢«åƒåœ¾å™¨å›æ”¶â“"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#âšª-å¯¹è±¡ä»€ä¹ˆæ—¶å€™å¯ä»¥è¢«åƒåœ¾å™¨å›æ”¶â“"}},[s._v("#")]),s._v(" âšª å¯¹è±¡ä»€ä¹ˆæ—¶å€™å¯ä»¥è¢«åƒåœ¾å™¨å›æ”¶â“")]),s._v(" "),n("div",{staticClass:"zenbu-answer"},[n("p",{staticClass:"zenbu-answer-title"},[s._v("ğŸ™‹ğŸ»â€â™‚ï¸ ç­”ï¼š")]),n("div",{staticClass:"zenbu-answer-context"},[n("p",[s._v("å¯¹å †è¿›è¡Œåƒåœ¾å›æ”¶ï¼ˆGCï¼‰å‰çš„ç¬¬ä¸€æ­¥å°±æ˜¯è¦åˆ¤æ–­å“ªäº›å¯¹è±¡å·²ç»æ­»äº¡ã€‚")]),s._v(" "),n("p",[s._v("ç®€å•æ¥è¯´ï¼Œå¦‚æœä¸€ä¸ªæˆ–å¤šä¸ªå¯¹è±¡æ²¡æœ‰ä»»ä½•çš„å¼•ç”¨æŒ‡å‘å®ƒäº†ï¼Œé‚£ä¹ˆè¿™ä¸ªå¯¹è±¡ç°åœ¨å°±æ˜¯åƒåœ¾ï¼Œå¦‚æœå®šä½äº†åƒåœ¾ï¼Œåˆ™æœ‰å¯èƒ½ä¼šè¢«åƒåœ¾å›æ”¶å™¨å›æ”¶ã€‚")]),s._v(" "),n("p",[s._v("è¦å®šä½å“ªäº›å¯¹è±¡æ˜¯åƒåœ¾ï¼Œæœ‰ "),n("strong",[s._v("ä¸¤ç§æ–¹å¼")]),s._v(" æ¥ç¡®å®šï¼Œç¬¬ä¸€ä¸ªæ˜¯å¼•ç”¨è®¡æ•°æ³•ï¼Œç¬¬äºŒä¸ªæ˜¯å¯è¾¾æ€§åˆ†æç®—æ³•ï¼ˆJVMé‡‡ç”¨è¿™ç§ï¼‰ã€‚")]),s._v(" "),n("p",[s._v("ï¼ˆ1ï¼‰"),n("strong",[s._v("å¼•ç”¨è®¡æ•°æ³•")])]),s._v(" "),n("p",[s._v("ç»™å¯¹è±¡æ·»åŠ ä¸€ä¸ªå¼•ç”¨è®¡æ•°å™¨ã€‚1ï¼‰æ¯å½“æœ‰ä¸€ä¸ªåœ°æ–¹å¼•ç”¨å®ƒï¼Œè®¡æ•°å™¨+1ï¼›2ï¼‰å½“å¼•ç”¨å¤±æ•ˆï¼Œè®¡æ•°å™¨-1ï¼›3ï¼‰è®¡æ•°å™¨ä¸º 0çš„å¯¹è±¡å°±æ˜¯åƒåœ¾ã€‚")]),s._v(" "),n("p",[s._v("ä¼˜ç‚¹ï¼šå®ç°ç®€å•ï¼Œæ•ˆç‡é«˜"),n("br"),s._v("\nç¼ºç‚¹ï¼šå¾ˆéš¾è§£å†³å¯¹è±¡ä¹‹é—´å¾ªç¯å¼•ç”¨çš„é—®é¢˜")]),s._v(" "),n("p",[s._v("ï¼ˆ2ï¼‰"),n("strong",[s._v("å¯è¾¾æ€§åˆ†æç®—æ³•ï¼ˆJVMé‡‡ç”¨è¿™ç§ï¼‰")])]),s._v(" "),n("p",[s._v("è¿™ä¸ªç®—æ³•çš„åŸºæœ¬æ€æƒ³å°±æ˜¯é€šè¿‡ä¸€ç³»åˆ—çš„ç§°ä¸º â€œGC Rootsâ€ çš„å¯¹è±¡ä½œä¸ºèµ·ç‚¹ï¼Œä»è¿™äº›èŠ‚ç‚¹å¼€å§‹å‘ä¸‹æœç´¢ï¼ŒèŠ‚ç‚¹æ‰€èµ°è¿‡çš„è·¯å¾„ç§°ä¸ºå¼•ç”¨é“¾ï¼Œå½“ä¸€ä¸ªå¯¹è±¡åˆ° GC Roots æ²¡æœ‰ä»»ä½•å¼•ç”¨é“¾ç›¸è¿çš„è¯ï¼Œåˆ™è¯æ˜æ­¤å¯¹è±¡æ˜¯ä¸å¯ç”¨çš„ï¼Œéœ€è¦è¢«å›æ”¶ã€‚")]),s._v(" "),n("p",[n("strong",[s._v("å“ªäº›å¯¹è±¡å¯ä»¥ä½œä¸º GC Roots")]),s._v("ï¼Ÿ")]),s._v(" "),n("ul",[n("li",[s._v("è™šæ‹Ÿæœºæ ˆ(æ ˆå¸§ä¸­çš„å±€éƒ¨å˜é‡è¡¨)ä¸­å¼•ç”¨çš„å¯¹è±¡")]),s._v(" "),n("li",[s._v("æœ¬åœ°æ–¹æ³•æ ˆ(Native æ–¹æ³•)ä¸­å¼•ç”¨çš„å¯¹è±¡")]),s._v(" "),n("li",[s._v("æ–¹æ³•åŒºä¸­ç±»é™æ€å±æ€§å¼•ç”¨çš„å¯¹è±¡")]),s._v(" "),n("li",[s._v("æ–¹æ³•åŒºä¸­å¸¸é‡å¼•ç”¨çš„å¯¹è±¡")]),s._v(" "),n("li",[s._v("æ‰€æœ‰è¢«åŒæ­¥é”æŒæœ‰çš„å¯¹è±¡")]),s._v(" "),n("li",[s._v("JNIï¼ˆJava Native Interfaceï¼‰å¼•ç”¨çš„å¯¹è±¡")])])])]),n("h4",{attrs:{id:"âšª-å¼ºå¼•ç”¨ã€è½¯å¼•ç”¨ã€å¼±å¼•ç”¨ã€è™šå¼•ç”¨â“"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#âšª-å¼ºå¼•ç”¨ã€è½¯å¼•ç”¨ã€å¼±å¼•ç”¨ã€è™šå¼•ç”¨â“"}},[s._v("#")]),s._v(" âšª å¼ºå¼•ç”¨ã€è½¯å¼•ç”¨ã€å¼±å¼•ç”¨ã€è™šå¼•ç”¨â“")]),s._v(" "),n("div",{staticClass:"zenbu-answer"},[n("p",{staticClass:"zenbu-answer-title"},[s._v("ğŸ™‹ğŸ»â€â™‚ï¸ ç­”ï¼š")]),n("div",{staticClass:"zenbu-answer-context"},[n("p",[s._v("JDK1.2 ä»¥åï¼ŒJava å¯¹å¼•ç”¨çš„æ¦‚å¿µè¿›è¡Œäº†æ‰©å……ï¼Œå°†å¼•ç”¨åˆ†ä¸ºå¼ºå¼•ç”¨ã€è½¯å¼•ç”¨ã€å¼±å¼•ç”¨ã€è™šå¼•ç”¨å››ç§ï¼ˆå¼•ç”¨å¼ºåº¦é€æ¸å‡å¼±ï¼‰")]),s._v(" "),n("p",[n("strong",[s._v("Java å…·æœ‰å››ç§å¼ºåº¦ä¸åŒçš„å¼•ç”¨ç±»å‹ï¼š")])]),s._v(" "),n("ol",[n("li",[s._v("å¼ºå¼•ç”¨ï¼ˆStrongReferenceï¼‰\n"),n("ul",[n("li",[s._v("è¢«å¼ºå¼•ç”¨å…³è”çš„å¯¹è±¡ "),n("strong",[s._v("ä¸ä¼šè¢«å›æ”¶")])]),s._v(" "),n("li",[s._v("åˆ›å»ºæ–¹å¼ï¼š"),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),s._v(" obj "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])])])]),s._v(" "),n("li",[s._v("è½¯å¼•ç”¨ï¼ˆSoftReferenceï¼‰\n"),n("ul",[n("li",[s._v("è¢«è½¯å¼•ç”¨å…³è”çš„å¯¹è±¡ "),n("strong",[s._v("åªæœ‰åœ¨å†…å­˜ä¸å¤Ÿçš„æƒ…å†µä¸‹æ‰ä¼šè¢«å›æ”¶")])]),s._v(" "),n("li",[s._v("åˆ›å»ºæ–¹å¼ï¼š"),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),s._v(" obj "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SoftReference")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" sf "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SoftReference")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("obj"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nobj "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æŠŠå¼ºå¼•ç”¨ obj é‡Šæ”¾æ‰ï¼Œä½¿å¯¹è±¡åªè¢«è½¯å¼•ç”¨ sf å…³è”")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])])])])]),s._v(" "),n("li",[s._v("å¼±å¼•ç”¨ï¼ˆWeakReferenceï¼‰\n"),n("ul",[n("li",[s._v("è¢«å¼±å¼•ç”¨å…³è”çš„å¯¹è±¡ "),n("strong",[s._v("ä¸€å®šä¼šè¢«å›æ”¶")]),s._v("ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒåªèƒ½å­˜æ´»åˆ°ä¸‹ä¸€æ¬¡åƒåœ¾å›æ”¶å‘ç”Ÿä¹‹å‰ã€‚")]),s._v(" "),n("li",[s._v("åˆ›å»ºæ–¹å¼ï¼š"),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),s._v(" obj "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("WeakReference")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" wf "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("WeakReference")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("obj"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nobj "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])])])])]),s._v(" "),n("li",[s._v("è™šå¼•ç”¨ï¼ˆPhantomReferenceï¼‰\n"),n("ul",[n("li",[s._v("å½¢åŒè™šè®¾ï¼Œå¦‚æœä¸€ä¸ªå¯¹è±¡ä»…æŒæœ‰è™šå¼•ç”¨ï¼Œé‚£ä¹ˆå®ƒå°±å’Œæ²¡æœ‰ä»»ä½•å¼•ç”¨ä¸€æ ·ï¼Œåœ¨ "),n("strong",[s._v("ä»»ä½•æ—¶å€™éƒ½å¯èƒ½è¢«åƒåœ¾å›æ”¶")]),s._v("ã€‚")]),s._v(" "),n("li",[s._v("è™šå¼•ç”¨ä¸»è¦ç”¨æ¥è·Ÿè¸ªå¯¹è±¡è¢«åƒåœ¾å›æ”¶çš„æ´»åŠ¨ã€‚")]),s._v(" "),n("li",[s._v("åˆ›å»ºæ–¹å¼ï¼š"),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),s._v(" obj "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("PhantomReference")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" pf "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("PhantomReference")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("obj"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nobj "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])])])])])]),s._v(" "),n("p",[s._v("åœ¨ç¨‹åºè®¾è®¡ä¸­ä¸€èˆ¬å¾ˆå°‘ä½¿ç”¨å¼±å¼•ç”¨ä¸è™šå¼•ç”¨ï¼Œ"),n("strong",[s._v("ä½¿ç”¨è½¯å¼•ç”¨çš„æƒ…å†µè¾ƒå¤š")]),s._v("ï¼Œè¿™æ˜¯å› ä¸ºè½¯å¼•ç”¨å¯ä»¥åŠ é€Ÿ JVM å¯¹åƒåœ¾å†…å­˜çš„å›æ”¶é€Ÿåº¦ï¼Œå¯ä»¥ç»´æŠ¤ç³»ç»Ÿçš„è¿è¡Œå®‰å…¨ï¼Œé˜²æ­¢å†…å­˜æº¢å‡ºï¼ˆ"),n("code",[s._v("OutOfMemory")]),s._v("ï¼‰ç­‰é—®é¢˜çš„äº§ç”Ÿã€‚")])])]),n("h4",{attrs:{id:"âšª-jvm-åƒåœ¾å›æ”¶ç®—æ³•æœ‰å“ªäº›â“"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#âšª-jvm-åƒåœ¾å›æ”¶ç®—æ³•æœ‰å“ªäº›â“"}},[s._v("#")]),s._v(" âšª JVM åƒåœ¾å›æ”¶ç®—æ³•æœ‰å“ªäº›â“")]),s._v(" "),n("div",{staticClass:"zenbu-answer"},[n("p",{staticClass:"zenbu-answer-title"},[s._v("ğŸ™‹ğŸ»â€â™‚ï¸ ç­”ï¼š")]),n("div",{staticClass:"zenbu-answer-context"},[n("ol",[n("li",[n("strong",[s._v("æ ‡è®°-æ¸…é™¤ç®—æ³•")])])]),s._v(" "),n("p",[s._v("ã€Œæ ‡è®°-æ¸…é™¤ã€ï¼ˆMark-and-Sweepï¼‰ç®—æ³•åˆ†ä¸ºâ€œæ ‡è®°ï¼ˆMarkï¼‰â€å’Œâ€œæ¸…é™¤ï¼ˆSweepï¼‰â€é˜¶æ®µï¼šé¦–å…ˆæ ‡è®°å‡ºæ‰€æœ‰ä¸éœ€è¦å›æ”¶çš„å¯¹è±¡ï¼Œåœ¨æ ‡è®°å®Œæˆåç»Ÿä¸€å›æ”¶æ‰æ‰€æœ‰æ²¡æœ‰è¢«æ ‡è®°çš„å¯¹è±¡ã€‚")]),s._v(" "),n("p",[s._v("å®ƒæ˜¯æœ€åŸºç¡€çš„æ”¶é›†ç®—æ³•ï¼Œåç»­çš„ç®—æ³•éƒ½æ˜¯å¯¹å…¶ä¸è¶³è¿›è¡Œæ”¹è¿›å¾—åˆ°ã€‚è¿™ç§åƒåœ¾æ”¶é›†ç®—æ³•ä¼šå¸¦æ¥ä¸¤ä¸ªæ˜æ˜¾çš„é—®é¢˜ï¼š")]),s._v(" "),n("ul",[n("li",[s._v("æ•ˆç‡é—®é¢˜ï¼šæ ‡è®°å’Œæ¸…é™¤ä¸¤ä¸ªè¿‡ç¨‹æ•ˆç‡éƒ½ä¸é«˜ã€‚")]),s._v(" "),n("li",[s._v("ç©ºé—´é—®é¢˜ï¼šæ ‡è®°æ¸…é™¤åä¼šäº§ç”Ÿå¤§é‡ä¸è¿ç»­çš„å†…å­˜ç¢ç‰‡ã€‚")])]),s._v(" "),n("img",{staticClass:"zoom",attrs:{src:"https://raw.githubusercontent.com/DishuZ/PicGo/main/all/20240527204314.png",alt:"æ ‡è®°-æ¸…é™¤ç®—æ³•"}}),s._v(" "),n("ol",[n("li",[n("strong",[s._v("å¤åˆ¶ç®—æ³•")])])]),s._v(" "),n("p",[s._v("ä¸ºäº†è§£å†³ã€Œæ ‡è®°-æ¸…é™¤ã€ç®—æ³•çš„æ•ˆç‡å’Œå†…å­˜ç¢ç‰‡é—®é¢˜ï¼Œå¤åˆ¶ï¼ˆCopyingï¼‰æ”¶é›†ç®—æ³•å‡ºç°äº†ã€‚å®ƒå¯ä»¥"),n("strong",[s._v("å°†å†…å­˜åˆ†ä¸ºå¤§å°ç›¸åŒçš„ä¸¤å—ï¼Œæ¯æ¬¡ä½¿ç”¨å…¶ä¸­çš„ä¸€å—")]),s._v("ã€‚å½“è¿™ä¸€å—çš„å†…å­˜ä½¿ç”¨å®Œåï¼Œå°±å°†è¿˜å­˜æ´»çš„å¯¹è±¡å¤åˆ¶åˆ°å¦ä¸€å—å»ï¼Œç„¶åå†æŠŠä½¿ç”¨çš„ç©ºé—´ä¸€æ¬¡æ¸…ç†æ‰ã€‚è¿™æ ·å°±ä½¿æ¯æ¬¡çš„å†…å­˜å›æ”¶éƒ½æ˜¯å¯¹å†…å­˜åŒºé—´çš„ä¸€åŠè¿›è¡Œå›æ”¶ã€‚")]),s._v(" "),n("p",[s._v("è™½ç„¶æ”¹è¿›äº†æ ‡è®°-æ¸…é™¤ç®—æ³•ï¼Œä½†ä¾ç„¶å­˜åœ¨ä¸‹é¢è¿™äº›é—®é¢˜ï¼š")]),s._v(" "),n("ul",[n("li",[s._v("å¯ç”¨å†…å­˜å˜å°ï¼šå¯ç”¨å†…å­˜ç¼©å°ä¸ºåŸæ¥çš„ä¸€åŠã€‚")]),s._v(" "),n("li",[s._v("ä¸é€‚åˆè€å¹´ä»£ï¼šå¦‚æœå­˜æ´»å¯¹è±¡æ•°é‡æ¯”è¾ƒå¤§ï¼Œå¤åˆ¶æ€§èƒ½ä¼šå˜å¾—å¾ˆå·®ã€‚")])]),s._v(" "),n("img",{staticClass:"zoom",attrs:{src:"https://raw.githubusercontent.com/DishuZ/PicGo/main/all/20240527204427.png",alt:"å¤åˆ¶ç®—æ³•"}}),s._v(" "),n("blockquote",[n("p",[s._v("ç°åœ¨çš„å•†ä¸šè™šæ‹Ÿæœºéƒ½é‡‡ç”¨è¿™ç§æ”¶é›†ç®—æ³•æ¥å›æ”¶æ–°ç”Ÿä»£ï¼Œä½†æ˜¯å¹¶ä¸æ˜¯å°†æ–°ç”Ÿä»£åˆ’åˆ†ä¸ºå¤§å°ç›¸ç­‰çš„ä¸¤å—ï¼Œè€Œæ˜¯åˆ†ä¸ºä¸€å—è¾ƒå¤§çš„ Eden ç©ºé—´å’Œä¸¤å—è¾ƒå°çš„ Survivor ç©ºé—´ï¼Œæ¯æ¬¡ä½¿ç”¨ Eden ç©ºé—´å’Œå…¶ä¸­ä¸€å— Survivorã€‚åœ¨å›æ”¶æ—¶ï¼Œå°† Eden å’Œ Survivor ä¸­è¿˜å­˜æ´»ç€çš„å¯¹è±¡ä¸€æ¬¡æ€§å¤åˆ¶åˆ°å¦ä¸€å— Survivor ç©ºé—´ä¸Šï¼Œæœ€åæ¸…ç† Eden å’Œä½¿ç”¨è¿‡çš„é‚£ä¸€å— Survivorã€‚")]),s._v(" "),n("p",[s._v("HotSpot è™šæ‹Ÿæœºçš„ Eden å’Œ Survivor çš„å¤§å°æ¯”ä¾‹é»˜è®¤ä¸º 8:1ï¼Œä¿è¯äº†å†…å­˜çš„åˆ©ç”¨ç‡è¾¾åˆ° 90%ã€‚å¦‚æœæ¯æ¬¡å›æ”¶æœ‰å¤šäº 10% çš„å¯¹è±¡å­˜æ´»ï¼Œé‚£ä¹ˆä¸€å— Survivor ç©ºé—´å°±ä¸å¤Ÿç”¨äº†ï¼Œæ­¤æ—¶éœ€è¦ä¾èµ–äºè€å¹´ä»£è¿›è¡Œåˆ†é…æ‹…ä¿ï¼Œä¹Ÿå°±æ˜¯å€Ÿç”¨è€å¹´ä»£çš„ç©ºé—´å­˜å‚¨æ”¾ä¸ä¸‹çš„å¯¹è±¡ã€‚")])]),s._v(" "),n("ol",[n("li",[n("strong",[s._v("æ ‡è®°-æ•´ç†ç®—æ³•")])])]),s._v(" "),n("p",[s._v("ã€Œæ ‡è®°-æ•´ç†ã€ï¼ˆMark-and-Compactï¼‰ç®—æ³•æ˜¯æ ¹æ®è€å¹´ä»£çš„ç‰¹ç‚¹æå‡ºçš„ä¸€ç§æ ‡è®°ç®—æ³•ï¼Œæ ‡è®°è¿‡ç¨‹ä»ç„¶ä¸ã€Œæ ‡è®°-æ¸…é™¤ã€ç®—æ³•ä¸€æ ·ï¼Œä½†åç»­æ­¥éª¤ä¸æ˜¯ç›´æ¥å¯¹å¯å›æ”¶å¯¹è±¡å›æ”¶ï¼Œè€Œæ˜¯è®©æ‰€æœ‰å­˜æ´»çš„å¯¹è±¡å‘ä¸€ç«¯ç§»åŠ¨ï¼Œç„¶åç›´æ¥æ¸…ç†æ‰ç«¯è¾¹ç•Œä»¥å¤–çš„å†…å­˜ã€‚")]),s._v(" "),n("p",[s._v("ç”±äºå¤šäº†æ•´ç†è¿™ä¸€æ­¥ï¼Œå› æ­¤æ•ˆç‡ä¹Ÿä¸é«˜ï¼Œ"),n("strong",[s._v("é€‚åˆè€å¹´ä»£è¿™ç§åƒåœ¾å›æ”¶é¢‘ç‡ä¸æ˜¯å¾ˆé«˜çš„åœºæ™¯")]),s._v("ã€‚")]),s._v(" "),n("img",{staticClass:"zoom",attrs:{src:"https://raw.githubusercontent.com/DishuZ/PicGo/main/all/20240527204344.png",alt:"æ ‡è®°-æ•´ç†ç®—æ³•"}}),s._v(" "),n("ol",{attrs:{start:"4"}},[n("li",[n("strong",[s._v("åˆ†ä»£æ”¶é›†ç®—æ³•")])])]),s._v(" "),n("p",[s._v("å½“å‰è™šæ‹Ÿæœºçš„åƒåœ¾æ”¶é›†éƒ½é‡‡ç”¨åˆ†ä»£æ”¶é›†ç®—æ³•ï¼Œè¿™ç§ç®—æ³•æ²¡æœ‰ä»€ä¹ˆæ–°çš„æ€æƒ³ï¼Œåªæ˜¯æ ¹æ®å¯¹è±¡å­˜æ´»å‘¨æœŸçš„ä¸åŒå°†å†…å­˜åˆ†ä¸ºå‡ å—ã€‚"),n("strong",[s._v("ä¸€èˆ¬å°† Java å †åˆ†ä¸ºæ–°ç”Ÿä»£å’Œè€å¹´ä»£")]),s._v("ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥"),n("strong",[s._v("æ ¹æ®å„ä¸ªå¹´ä»£çš„ç‰¹ç‚¹é€‰æ‹©åˆé€‚çš„åƒåœ¾æ”¶é›†ç®—æ³•")]),s._v("ã€‚")]),s._v(" "),n("p",[s._v("æ¯”å¦‚ï¼š")]),s._v(" "),n("ul",[n("li",[n("strong",[s._v("æ–°ç”Ÿä»£")]),s._v("ä¸­ï¼Œæ¯æ¬¡æ”¶é›†éƒ½ä¼šæœ‰å¤§é‡å¯¹è±¡æ­»å»ï¼Œæ‰€ä»¥å¯ä»¥é€‰æ‹©"),n("strong",[s._v("å¤åˆ¶ç®—æ³•")]),s._v("ï¼Œåªéœ€è¦ä»˜å‡ºå°‘é‡å¯¹è±¡çš„å¤åˆ¶æˆæœ¬å°±å¯ä»¥å®Œæˆæ¯æ¬¡åƒåœ¾æ”¶é›†ã€‚")]),s._v(" "),n("li",[s._v("è€Œ"),n("strong",[s._v("è€å¹´ä»£")]),s._v("çš„å¯¹è±¡å­˜æ´»å‡ ç‡æ˜¯æ¯”è¾ƒé«˜çš„ï¼Œè€Œä¸”æ²¡æœ‰é¢å¤–çš„ç©ºé—´å¯¹å®ƒè¿›è¡Œåˆ†é…æ‹…ä¿ï¼Œæ‰€ä»¥æˆ‘ä»¬å¿…é¡»é€‰æ‹©ã€Œ"),n("strong",[s._v("æ ‡è®°-æ¸…é™¤")]),s._v("ã€æˆ–ã€Œ"),n("strong",[s._v("æ ‡è®°-æ•´ç†")]),s._v("ã€ç®—æ³•è¿›è¡Œåƒåœ¾æ”¶é›†ã€‚")])])])]),n("h4",{attrs:{id:"âšª-è¯´ä¸€ä¸‹jvmä¸­çš„åˆ†ä»£å›æ”¶â“"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#âšª-è¯´ä¸€ä¸‹jvmä¸­çš„åˆ†ä»£å›æ”¶â“"}},[s._v("#")]),s._v(" âšª è¯´ä¸€ä¸‹JVMä¸­çš„åˆ†ä»£å›æ”¶â“")]),s._v(" "),n("div",{staticClass:"zenbu-answer"},[n("p",{staticClass:"zenbu-answer-title"},[s._v("ğŸ™‹ğŸ»â€â™‚ï¸ ç­”ï¼š")]),n("div",{staticClass:"zenbu-answer-context"},[n("p",[s._v("ï¼ˆ1ï¼‰åˆ†ä»£")]),s._v(" "),n("p",[s._v("ä¸ºäº†æœ‰åŠ©äºä¼˜åŒ–å¯¹å †å†…å­˜åƒåœ¾å›æ”¶çš„æ€§èƒ½ï¼Œå°†å†…å­˜åˆ’åˆ†ä¸º æ–°ç”Ÿä»£ï¼ˆYoung Generationï¼‰å’Œè€å¹´ä»£ï¼ˆOld Generationï¼‰ã€‚")]),s._v(" "),n("p",[n("strong",[s._v("æ–°ç”Ÿä»£")])]),s._v(" "),n("ul",[n("li",[s._v("ä¸»è¦ç”¨äºå­˜æ”¾æ–°åˆ›å»ºçš„å¯¹è±¡ã€‚æ–°ç”Ÿä»£ä¼šåˆ†ä¸ºä¸‰ä¸ªåŒºåŸŸï¼š\n"),n("ul",[n("li",[s._v("Edenï¼ˆä¼Šç”¸å›­ï¼Œ80%ï¼‰")]),s._v(" "),n("li",[s._v("S0ï¼ˆSurvivor 0 åŒºï¼Œ10%ï¼‰")]),s._v(" "),n("li",[s._v("S1ï¼ˆSurvivor 1 åŒºï¼Œ10%ï¼‰")])])])]),s._v(" "),n("p",[n("strong",[s._v("è€å¹´ä»£")])]),s._v(" "),n("ul",[n("li",[s._v("ä¸€æ–¹é¢ï¼Œç”¨äºå­˜æ”¾é‚£äº›åœ¨æ–°ç”Ÿä»£ä¸­ç»å†äº†å¤šæ¬¡åƒåœ¾å›æ”¶ä»ç„¶å­˜æ´»çš„å¯¹è±¡ã€‚è¿™äº›å¯¹è±¡é€šå¸¸ç”Ÿå‘½å‘¨æœŸè¾ƒé•¿ã€‚")]),s._v(" "),n("li",[s._v("å¦ä¸€æ–¹é¢ï¼Œå¤§å¯¹è±¡ç›´æ¥è¿›å…¥è€å¹´ä»£ï¼Œè¿™æ˜¯å†…å­˜åˆ†é…ç­–ç•¥ä¹‹ä¸€ã€‚")]),s._v(" "),n("li",[s._v("ï¼ˆå»¶ä¼¸ï¼‰å½“è€å¹´ä»£ç©ºé—´ä¸è¶³ä»¥å®¹çº³æ–°å­˜æ´»çš„å¯¹è±¡æ—¶ï¼Œä¼šè§¦å‘ Full GCï¼Œè¿™ç§GCé€šå¸¸æ¯”Minor GCè€—æ—¶æ›´é•¿ï¼Œå› ä¸ºå®ƒæ¶‰åŠçš„å¯¹è±¡æ›´å¤šï¼Œä¸”å¯èƒ½éœ€è¦æš‚åœæ‰€æœ‰åº”ç”¨çº¿ç¨‹ã€‚")])]),s._v(" "),n("p",[s._v("ï¼ˆ2ï¼‰GC ç§ç±»")]),s._v(" "),n("p",[s._v("é’ˆå¯¹ HotSpot VM çš„å®ç°ï¼Œå®ƒé‡Œé¢çš„ GC å…¶å®å‡†ç¡®åˆ†ç±»åªæœ‰ä¸¤å¤§ç§ï¼š")]),s._v(" "),n("ul",[n("li",[n("strong",[s._v("éƒ¨åˆ†æ”¶é›† (Partial GC)")]),s._v("ï¼š\n"),n("ul",[n("li",[s._v("æ–°ç”Ÿä»£æ”¶é›†ï¼ˆMinor GC / Young GCï¼‰ï¼šåªå¯¹æ–°ç”Ÿä»£è¿›è¡Œåƒåœ¾æ”¶é›†ï¼›")]),s._v(" "),n("li",[s._v("è€å¹´ä»£æ”¶é›†ï¼ˆMajor GC / Old GCï¼‰ï¼šåªå¯¹è€å¹´ä»£è¿›è¡Œåƒåœ¾æ”¶é›†ã€‚\n"),n("ul",[n("li",[n("span",{staticStyle:{color:"rgb(122 116 116)"}},[s._v("ç›®å‰ï¼Œåªæœ‰ CMS GC ä¼šæœ‰å•ç‹¬æ”¶é›†è€å¹´ä»£çš„è¡Œä¸º")])]),s._v(" "),n("li",[n("span",{staticStyle:{color:"rgb(122 116 116)"}},[s._v("éœ€è¦æ³¨æ„çš„æ˜¯ Major GC åœ¨æœ‰çš„è¯­å¢ƒä¸­ä¹Ÿç”¨äºæŒ‡ä»£æ•´å †æ”¶é›†ï¼›")])])])]),s._v(" "),n("li",[s._v("æ··åˆæ”¶é›†ï¼ˆMixed GCï¼‰ï¼šå¯¹æ•´ä¸ªæ–°ç”Ÿä»£å’Œéƒ¨åˆ†è€å¹´ä»£è¿›è¡Œåƒåœ¾æ”¶é›†ã€‚")])])]),s._v(" "),n("li",[n("strong",[s._v("æ•´å †æ”¶é›† (Full GC)")]),s._v("ï¼šæ”¶é›†æ•´ä¸ª Java å †å’Œæ–¹æ³•åŒºã€‚")])]),s._v(" "),n("p",[s._v("ï¼ˆ3ï¼‰åˆ†ä»£åƒåœ¾å›æ”¶ç®—æ³•æ‰§è¡Œè¿‡ç¨‹")]),s._v(" "),n("ul",[n("li",[s._v("åˆå§‹æ€ï¼šå¯¹è±¡åˆ†é…åœ¨EdenåŒºï¼ŒS0ã€S1åŒºå‡ ä¹ä¸ºç©ºã€‚")]),s._v(" "),n("li",[s._v("éšç€ç¨‹åºçš„è¿è¡Œï¼Œè¶Šæ¥è¶Šå¤šçš„å¯¹è±¡è¢«åˆ†é…åœ¨EdenåŒºã€‚")]),s._v(" "),n("li",[s._v("å½“Edenæ”¾ä¸ä¸‹æ—¶ï¼Œå°±ä¼šå‘ç”ŸMinorGCï¼ˆå³YoungGCï¼‰ï¼Œæ­¤æ—¶ï¼Œä¼šå…ˆæ ‡è¯†å‡ºä¸å¯è¾¾çš„åƒåœ¾å¯¹è±¡ï¼Œç„¶åå°†å¯è¾¾çš„å¯¹è±¡ç§»åŠ¨åˆ°S0åŒºï¼Œå¹¶å°†ä¸å¯è¾¾çš„å¯¹è±¡æ¸…ç†æ‰ã€‚è¿™æ—¶å€™ï¼ŒEdenåŒºå°±æ˜¯ç©ºçš„äº†ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œä½¿ç”¨äº†æ ‡è®°æ¸…ç†ç®—æ³•åŠæ ‡è®°å¤åˆ¶ç®—æ³•ã€‚")]),s._v(" "),n("li",[s._v("éšç€Edenæ”¾ä¸ä¸‹æ—¶ï¼Œä¼šå†æ¬¡è§¦å‘minorGCï¼Œå’Œä¸Šä¸€æ­¥ä¸€æ ·ï¼Œå…ˆæ ‡è®°ã€‚è¿™ä¸ªæ—¶å€™ï¼ŒEdenå’ŒS0åŒºå¯èƒ½éƒ½æœ‰åƒåœ¾å¯¹è±¡äº†ï¼Œè€ŒS1åŒºæ˜¯ç©ºçš„ã€‚è¿™ä¸ªæ—¶å€™ï¼Œä¼šç›´æ¥å°†Edenå’ŒS0åŒºçš„å¯¹è±¡ç›´æ¥æ¬åˆ°S1åŒºï¼Œç„¶åå°†Edenä¸S0åŒºçš„åƒåœ¾å¯¹è±¡æ¸…ç†æ‰ã€‚ç»å†è¿™ä¸€è½®çš„MinorGCåï¼ŒEdenä¸S0åŒºä¸ºç©ºã€‚")]),s._v(" "),n("li",[s._v("éšç€ç¨‹åºçš„è¿è¡Œï¼ŒEdenç©ºé—´ä¼šè¢«åˆ†é…æ®†å°½ï¼Œè¿™æ—¶ä¼šé‡å¤åˆšæ‰MinorGCçš„è¿‡ç¨‹ï¼Œä¸è¿‡æ­¤æ—¶ï¼ŒS0åŒºæ˜¯ç©ºçš„ï¼ŒS0å’ŒS1åŒºåŸŸä¼šäº’æ¢ï¼Œæ­¤æ—¶å­˜æ´»çš„å¯¹è±¡ä¼šä»Edenå’ŒS1åŒºï¼Œå‘S0åŒºç§»åŠ¨ã€‚ç„¶åEdenå’ŒS1åŒºä¸­çš„åƒåœ¾ä¼šè¢«æ¸…é™¤ï¼Œè¿™ä¸€è½®å®Œæˆä¹‹åï¼Œè¿™ä¸¤ä¸ªåŒºåŸŸä¸ºç©ºã€‚")]),s._v(" "),n("li",[s._v("åœ¨ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­ï¼Œè™½ç„¶å¤§å¤šæ•°å¯¹è±¡éƒ½ä¼šå¾ˆå¿«æ¶ˆäº¡ï¼Œä½†ä»ç„¶å­˜åœ¨ä¸€äº›å­˜æ´»æ—¶é—´è¾ƒé•¿çš„å¯¹è±¡ï¼Œå¯¹äºè¿™äº›å¯¹è±¡ï¼Œåœ¨S0å’ŒS1åŒºä¸­åå¤ç§»åŠ¨ï¼Œä¼šé€ æˆä¸€å®šçš„æ€§èƒ½å¼€é”€ï¼Œé™ä½GCçš„æ•ˆç‡ã€‚å› æ­¤å¼•å…¥äº†å¯¹è±¡æ™‹å‡çš„è¡Œä¸ºã€‚")]),s._v(" "),n("li",[s._v("å½“å¯¹è±¡åœ¨æ–°ç”Ÿä»£çš„Edenã€S0ã€S1åŒºåŸŸä¹‹é—´ï¼Œæ¯æ¬¡ä»ä¸€ä¸ªåŒºåŸŸç§»åŠ¨åˆ°å¦ä¸€ä¸ªåŒºåŸŸæ—¶ï¼Œå¹´é¾„éƒ½ä¼šåŠ ä¸€ï¼Œåœ¨è¾¾åˆ°ä¸€å®šçš„é˜ˆå€¼åï¼Œå¦‚æœè¯¥å¯¹è±¡ä»ç„¶å­˜æ´»ï¼Œè¯¥å¯¹è±¡å°†ä¼šæ™‹å‡åˆ°è€å¹´ä»£ã€‚")]),s._v(" "),n("li",[s._v("å¦‚æœè€å¹´ä»£ä¹Ÿè¢«åˆ†é…å®Œæ¯•åï¼Œå°±ä¼šå‡ºç°MajorGCï¼ˆå³Full GCï¼‰ï¼Œç”±äºè€å¹´ä»£é€šå¸¸å¯¹è±¡æ¯”è¾ƒå¤šï¼Œå› æ­¤æ ‡è®°-æ•´ç†ç®—æ³•çš„è€—æ—¶è¾ƒé•¿ï¼Œå› æ­¤ä¼šå‡ºç°STWç°è±¡ï¼Œå› æ­¤å¤§å¤šæ•°åº”ç”¨éƒ½ä¼šå°½é‡å‡å°‘æˆ–ç€é¿å…å‡ºç°Full GCçš„åŸå› ã€‚")])])])]),n("h4",{attrs:{id:"âšª-è¯´ä¸€ä¸‹jvmæœ‰å“ªäº›åƒåœ¾å›æ”¶å™¨â“"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#âšª-è¯´ä¸€ä¸‹jvmæœ‰å“ªäº›åƒåœ¾å›æ”¶å™¨â“"}},[s._v("#")]),s._v(" âšª è¯´ä¸€ä¸‹JVMæœ‰å“ªäº›åƒåœ¾å›æ”¶å™¨â“")]),s._v(" "),n("div",{staticClass:"zenbu-answer"},[n("p",{staticClass:"zenbu-answer-title"},[s._v("ğŸ™‹ğŸ»â€â™‚ï¸ ç­”ï¼š")]),n("div",{staticClass:"zenbu-answer-context"},[n("p",[s._v("ä»¥ä¸‹æ˜¯ HotSpot è™šæ‹Ÿæœºä¸­çš„ 7 ä¸ªåƒåœ¾æ”¶é›†å™¨ï¼Œè¿çº¿è¡¨ç¤ºåƒåœ¾æ”¶é›†å™¨å¯ä»¥é…åˆä½¿ç”¨ã€‚")]),s._v(" "),n("p",[n("img",{attrs:{src:t(362),alt:"7 ä¸ªåƒåœ¾æ”¶é›†å™¨"}})]),s._v(" "),n("p",[s._v("å‰ç½®çŸ¥è¯†ï¼š")]),s._v(" "),n("ul",[n("li",[n("strong",[s._v("å•çº¿ç¨‹")]),s._v("&"),n("strong",[s._v("å¤šçº¿ç¨‹")]),s._v(": ã€Œå•çº¿ç¨‹ã€æŒ‡çš„æ˜¯åƒåœ¾æ”¶é›†å™¨åªä½¿ç”¨ä¸€ä¸ªçº¿ç¨‹è¿›è¡Œæ”¶é›†ï¼Œè€Œã€Œå¤šçº¿ç¨‹ã€ä½¿ç”¨å¤šä¸ªçº¿ç¨‹ï¼›")]),s._v(" "),n("li",[n("strong",[s._v("ä¸²è¡Œ")]),s._v("&"),n("strong",[s._v("å¹¶è¡Œ")]),s._v(': ã€Œä¸²è¡Œã€æŒ‡çš„æ˜¯åƒåœ¾æ”¶é›†å™¨ä¸ç”¨æˆ·ç¨‹åºäº¤æ›¿æ‰§è¡Œï¼Œè¿™æ„å‘³ç€åœ¨æ‰§è¡Œåƒåœ¾æ”¶é›†çš„æ—¶å€™éœ€è¦åœé¡¿ç”¨æˆ·ç¨‹åºï¼ˆå¿…é¡»æš‚åœå…¶ä»–æ‰€æœ‰çš„å·¥ä½œçº¿ç¨‹("Stop The World")ï¼‰ï¼›ã€Œå¹¶è¡Œã€æŒ‡çš„æ˜¯åƒåœ¾æ”¶é›†å™¨å’Œç”¨æˆ·ç¨‹åºåŒæ—¶æ‰§è¡Œã€‚'),n("strong",[s._v("é™¤äº† CMS å’Œ G1 ä¹‹å¤–ï¼Œå…¶å®ƒåƒåœ¾æ”¶é›†å™¨éƒ½æ˜¯ä»¥ä¸²è¡Œçš„æ–¹å¼æ‰§è¡Œ")]),s._v("ã€‚")])]),s._v(" "),n("p",[s._v("ç®€çŸ­æ€»ç»“ 7 ä¸ªåƒåœ¾æ”¶é›†å™¨ï¼š")]),s._v(" "),n("ul",[n("li",[n("strong",[s._v("Serial")]),s._v("ã€"),n("strong",[s._v("Serial Old")]),s._v("ï¼šå•çº¿ç¨‹æ”¶é›†å™¨ï¼Œé€‚ç”¨äºå®¢æˆ·ç«¯")]),s._v(" "),n("li",[n("strong",[s._v("Parallel Scavenge")]),s._v("ã€"),n("strong",[s._v("Parallel Old")]),s._v("ï¼šå¤šçº¿ç¨‹æ”¶é›†å™¨ï¼Œé€‚ç”¨äºæ³¨é‡ååé‡ä»¥åŠ CPU èµ„æºæ•æ„Ÿçš„åœºåˆ")]),s._v(" "),n("li",[n("strong",[s._v("ParNew")]),s._v("ï¼šSerial çš„å¤šçº¿ç¨‹ç‰ˆæœ¬ï¼Œé€‚ç”¨äºæœåŠ¡ç«¯ï¼Œåªæœ‰å®ƒèƒ½ä¸ CMS æ”¶é›†å™¨é…åˆå·¥ä½œ")]),s._v(" "),n("li",[n("strong",[s._v("CMS")]),s._v("ï¼š\n"),n("ul",[n("li",[s._v("å…¨ç§° Concurrent Mark Sweepï¼Œæ ‡è®°-æ¸…é™¤ç®—æ³•ï¼Œç”¨äºè€å¹´ä»£GC")]),s._v(" "),n("li",[s._v("ç¬¬ä¸€æ¬¾çœŸæ­£æ„ä¹‰ä¸Šçš„å¹¶å‘æ”¶é›†å™¨ï¼Œå®ƒç¬¬ä¸€æ¬¡å®ç°äº†è®©åƒåœ¾æ”¶é›†çº¿ç¨‹ä¸ç”¨æˆ·çº¿ç¨‹ï¼ˆåŸºæœ¬ä¸Šï¼‰åŒæ—¶å·¥ä½œ")]),s._v(" "),n("li",[s._v("å®ƒçš„è¿ä½œè¿‡ç¨‹ç›¸æ¯”äºå‰é¢å‡ ç§åƒåœ¾æ”¶é›†å™¨æ¥è¯´æ›´åŠ å¤æ‚ä¸€äº›ã€‚æ•´ä¸ªè¿‡ç¨‹åˆ†ä¸ºå››ä¸ªæ­¥éª¤ï¼š\n"),n("ul",[n("li",[s._v("Step1 "),n("strong",[s._v("åˆå§‹æ ‡è®°")]),s._v("ï¼š "),n("strong",[s._v("æš‚åœæ‰€æœ‰çš„å…¶ä»–çº¿ç¨‹")]),s._v("ï¼Œå¹¶è®°å½•ä¸‹ GC Roots èƒ½ç›´æ¥å…³è”åˆ°çš„å¯¹è±¡ï¼Œé€Ÿåº¦å¾ˆå¿«ï¼›"),n("em",[s._v("(éœ€è¦åœé¡¿)")])]),s._v(" "),n("li",[s._v("Step2 "),n("strong",[s._v("å¹¶å‘æ ‡è®°")]),s._v("ï¼š "),n("strong",[s._v("åŒæ—¶å¼€å¯ GC å’Œç”¨æˆ·çº¿ç¨‹")]),s._v("ï¼Œç”¨ä¸€ä¸ªé—­åŒ…ç»“æ„å»è®°å½•å¯è¾¾å¯¹è±¡ã€‚ä½†åœ¨è¿™ä¸ªé˜¶æ®µç»“æŸï¼Œè¿™ä¸ªé—­åŒ…ç»“æ„å¹¶ä¸èƒ½ä¿è¯åŒ…å«å½“å‰æ‰€æœ‰çš„å¯è¾¾å¯¹è±¡ã€‚å› ä¸ºç”¨æˆ·çº¿ç¨‹å¯èƒ½ä¼šä¸æ–­çš„æ›´æ–°å¼•ç”¨åŸŸï¼Œæ‰€ä»¥ GC çº¿ç¨‹æ— æ³•ä¿è¯å¯è¾¾æ€§åˆ†æçš„å®æ—¶æ€§ã€‚æ‰€ä»¥è¿™ä¸ªç®—æ³•é‡Œä¼šè·Ÿè¸ªè®°å½•è¿™äº›å‘ç”Ÿå¼•ç”¨æ›´æ–°çš„åœ°æ–¹ï¼›"),n("em",[s._v("(ä¸éœ€è¦åœé¡¿)")])]),s._v(" "),n("li",[s._v("Step3 "),n("strong",[s._v("é‡æ–°æ ‡è®°")]),s._v("ï¼š ä¸ºäº†ä¿®æ­£ Step2å¹¶å‘æ ‡è®°æœŸé—´ å› ç”¨æˆ·ç¨‹åºç»§ç»­è¿è¡Œè€Œå¯¼è‡´æ ‡è®°äº§ç”Ÿå˜åŠ¨çš„é‚£ä¸€éƒ¨åˆ†å¯¹è±¡çš„æ ‡è®°è®°å½•ï¼›"),n("em",[s._v("ï¼ˆéœ€è¦åœé¡¿ï¼‰")])]),s._v(" "),n("li",[s._v("Step4 "),n("strong",[s._v("å¹¶å‘æ¸…é™¤")]),s._v("ï¼š "),n("strong",[s._v("å¼€å¯ç”¨æˆ·çº¿ç¨‹ï¼ŒåŒæ—¶ GC çº¿ç¨‹å¼€å§‹")]),s._v("å¯¹æœªæ ‡è®°çš„åŒºåŸŸåšæ¸…æ‰«ã€‚"),n("em",[s._v("ï¼ˆä¸éœ€è¦è¿›è¡Œåœé¡¿ï¼‰")])])])]),s._v(" "),n("li",[n("strong",[s._v("ä» JDK9 å¼€å§‹ï¼ŒCMS æ”¶é›†å™¨å·²è¢«å¼ƒç”¨ï¼ˆG1 åƒåœ¾æ”¶é›†å™¨æˆä¸ºäº†é»˜è®¤çš„åƒåœ¾æ”¶é›†å™¨ï¼‰")]),s._v("ã€‚")])])]),s._v(" "),n("li",[n("strong",[s._v("G1")]),s._v("ï¼ˆä¸‹ä¸€ä¸ªé—®é¢˜è¯¦ç»†é˜è¿°ï¼‰ï¼šJDK9ä¹‹åé»˜è®¤ä½¿ç”¨G1ï¼Œå¯ä»¥ç›´æ¥å¯¹æ–°ç”Ÿä»£å’Œè€å¹´ä»£ä¸€èµ·å›æ”¶ï¼Œå¤åˆ¶ç®—æ³•")])])])]),n("h4",{attrs:{id:"âšª-è¯¦ç»†èŠä¸€ä¸‹g1åƒåœ¾å›æ”¶å™¨â“"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#âšª-è¯¦ç»†èŠä¸€ä¸‹g1åƒåœ¾å›æ”¶å™¨â“"}},[s._v("#")]),s._v(" âšª è¯¦ç»†èŠä¸€ä¸‹G1åƒåœ¾å›æ”¶å™¨â“")]),s._v(" "),n("div",{staticClass:"zenbu-answer"},[n("p",{staticClass:"zenbu-answer-title"},[s._v("ğŸ™‹ğŸ»â€â™‚ï¸ ç­”ï¼š")]),n("div",{staticClass:"zenbu-answer-context"},[n("p",[s._v("JDK9ä¹‹åé»˜è®¤ä½¿ç”¨G1ï¼ŒG1å¯ä»¥ç›´æ¥å¯¹æ–°ç”Ÿä»£å’Œè€å¹´ä»£ä¸€èµ·å›æ”¶ï¼Œé‡‡ç”¨å¤åˆ¶ç®—æ³•ã€‚")]),s._v(" "),n("p",[s._v("G1 æŠŠå †åˆ’åˆ†æˆå¤šä¸ªå¤§å°ç›¸ç­‰çš„ "),n("strong",[s._v("ç‹¬ç«‹åŒºåŸŸ(Region)")]),s._v(" ï¼Œæ–°ç”Ÿä»£å’Œè€å¹´ä»£ä¸å†ç‰©ç†éš”ç¦»ï¼Œå¦‚å›¾æ‰€ç¤ºï¼š")]),s._v(" "),n("p",[n("img",{attrs:{src:t(363),alt:"alt text"}})]),s._v(" "),n("p",[s._v("é€šè¿‡å¼•å…¥ Region çš„æ¦‚å¿µï¼Œä»è€Œå°†åŸæ¥çš„ä¸€æ•´å—å†…å­˜ç©ºé—´åˆ’åˆ†æˆå¤šä¸ªçš„å°ç©ºé—´ï¼Œä½¿å¾—æ¯ä¸ªå°ç©ºé—´å¯ä»¥å•ç‹¬è¿›è¡Œåƒåœ¾å›æ”¶ã€‚åŒæ—¶ï¼Œæ¯ä¸ªå°ç©ºé—´éƒ½å¯ä»¥å……å½“ Edenï¼ŒSurvivorï¼ˆs0,s1ï¼‰ï¼ŒOldï¼Œ Humongousï¼Œå…¶ä¸­ Humongous ä¸“ä¸ºå¤§å¯¹è±¡å‡†å¤‡ã€‚")]),s._v(" "),n("p",[s._v("G1 æ”¶é›†å™¨é€šè¿‡è®°å½•æ¯ä¸ª Region åƒåœ¾å›æ”¶æ—¶é—´ä»¥åŠå›æ”¶æ‰€è·å¾—çš„ç©ºé—´(è¿™ä¸¤ä¸ªå€¼æ˜¯é€šè¿‡è¿‡å»å›æ”¶çš„ç»éªŒè·å¾—)ï¼Œ"),n("strong",[s._v("å¹¶åœ¨åå°ç»´æŠ¤äº†ä¸€ä¸ªä¼˜å…ˆåˆ—è¡¨ï¼Œæ¯æ¬¡æ ¹æ®å…è®¸çš„æ”¶é›†æ—¶é—´ï¼Œä¼˜å…ˆé€‰æ‹©å›æ”¶ä»·å€¼æœ€å¤§çš„ Region(è¿™ä¹Ÿå°±æ˜¯å®ƒçš„åå­— Garbage-First çš„ç”±æ¥)")]),s._v(" ã€‚è¿™ç§ä½¿ç”¨ Region åˆ’åˆ†å†…å­˜ç©ºé—´ä»¥åŠæœ‰ä¼˜å…ˆçº§çš„åŒºåŸŸå›æ”¶æ–¹å¼ï¼Œä¿è¯äº† G1 æ”¶é›†å™¨åœ¨æœ‰é™æ—¶é—´å†…å¯ä»¥å°½å¯èƒ½é«˜çš„æ”¶é›†æ•ˆç‡ï¼ˆæŠŠå†…å­˜åŒ–æ•´ä¸ºé›¶ï¼‰ã€‚")])])]),n("h3",{attrs:{id:"jvm-å®è·µ"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#jvm-å®è·µ"}},[s._v("#")]),s._v(" JVM å®è·µ")]),s._v(" "),n("h4",{attrs:{id:"âšª-jvm-è°ƒä¼˜çš„å‚æ•°å¯ä»¥åœ¨å“ªé‡Œè®¾ç½®â“"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#âšª-jvm-è°ƒä¼˜çš„å‚æ•°å¯ä»¥åœ¨å“ªé‡Œè®¾ç½®â“"}},[s._v("#")]),s._v(" âšª JVM è°ƒä¼˜çš„å‚æ•°å¯ä»¥åœ¨å“ªé‡Œè®¾ç½®â“")]),s._v(" "),n("div",{staticClass:"zenbu-answer"},[n("p",{staticClass:"zenbu-answer-title"},[s._v("ğŸ™‹ğŸ»â€â™‚ï¸ ç­”ï¼š")]),n("div",{staticClass:"zenbu-answer-context"},[n("ol",[n("li",[n("strong",[s._v("æ–¹å¼1")]),s._v("ï¼šTomcatï¼šwar åŒ…éƒ¨ç½²åœ¨ Tomcat ä¸­è®¾ç½®")])]),s._v(" "),n("p",[s._v("ä¿®æ”¹ "),n("code",[s._v("TOMCAT_HOME/bin/catalina.sh")]),s._v(" æ–‡ä»¶ï¼ˆé’ˆå¯¹Linuxï¼ŒWinä¸‹åˆ™æ˜¯ "),n("code",[s._v(".bat")]),s._v(" åç¼€ï¼‰")]),s._v(" "),n("img",{staticClass:"zoom",attrs:{src:"https://raw.githubusercontent.com/DishuZ/PicGo/main/all/20240528002527.png",alt:"Linuxä¸‹catalina.sh"}}),s._v(" "),n("ol",{attrs:{start:"2"}},[n("li",[n("strong",[s._v("æ–¹å¼2")]),s._v("ï¼šSpringbootï¼šjar åŒ…éƒ¨ç½²åœ¨å¯åŠ¨å‚æ•°è®¾ç½®")])]),s._v(" "),n("p",[s._v("é€šå¸¸åœ¨ Linux ç³»ç»Ÿä¸‹ç›´æ¥åŠ å‚æ•°å¯åŠ¨ Springboot é¡¹ç›®ï¼Œå‘½ä»¤ï¼š")]),s._v(" "),n("p",[n("code",[s._v("nohup java -Xms512m -Xmx1024m -jar xxxx.jar --spring.profiles.active=prod &")])])])]),n("h4",{attrs:{id:"âšª-ç”¨çš„-jvm-è°ƒä¼˜çš„å‚æ•°éƒ½æœ‰å“ªäº›â“"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#âšª-ç”¨çš„-jvm-è°ƒä¼˜çš„å‚æ•°éƒ½æœ‰å“ªäº›â“"}},[s._v("#")]),s._v(" âšª ç”¨çš„ JVM è°ƒä¼˜çš„å‚æ•°éƒ½æœ‰å“ªäº›â“")]),s._v(" "),n("div",{staticClass:"zenbu-answer"},[n("p",{staticClass:"zenbu-answer-title"},[s._v("ğŸ™‹ğŸ»â€â™‚ï¸ ç­”ï¼š")]),n("div",{staticClass:"zenbu-answer-context"},[n("p",[s._v("å®˜ç½‘æ‰€æœ‰çš„ JVM è°ƒä¼˜å‚æ•°ï¼š"),n("a",{attrs:{href:"https://www.oracle.com/java/technologies/javase/vmoptions-jsp.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://www.oracle.com/java/technologies/javase/vmoptions-jsp.html"),n("OutboundLink")],1)]),s._v(" "),n("p",[s._v("åˆ—ä¸¾ä¸€äº›æ¯”è¾ƒå¸¸è§çš„ï¼š")]),s._v(" "),n("ul",[n("li",[s._v("è®¾ç½®å †ç©ºé—´å¤§å°\n"),n("ul",[n("li",[n("code",[s._v("-Xms")]),s._v(" ç”¨æ¥è¡¨ç¤ºå †çš„èµ·å§‹å†…å­˜ï¼Œç­‰ä»·äº "),n("code",[s._v("-XX:InitialHeapSize")])]),s._v(" "),n("li",[n("code",[s._v("-Xmx")]),s._v(" ç”¨æ¥è¡¨ç¤ºå †çš„æœ€å¤§å†…å­˜ï¼Œç­‰ä»·äº "),n("code",[s._v("-XX:MaxHeapSize")])])]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æœ€å¤§å¤§å°çš„é»˜è®¤å€¼æ˜¯ç‰©ç†å†…å­˜çš„1/4ï¼Œåˆå§‹å¤§å°æ˜¯ç‰©ç†å†…å­˜çš„1/64")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Xms1024")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ä¸æŒ‡å®šå•ä½é»˜è®¤ä¸ºå­—èŠ‚")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Xms1024k")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Xms1024m")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Xms1g")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])])]),s._v(" "),n("li",[s._v("è™šæ‹Ÿæœºæ ˆçš„è®¾ç½®\n"),n("ul",[n("li",[n("code",[s._v("-Xss")]),s._v("ï¼šæ¯ä¸ªçº¿ç¨‹çš„è™šæ‹Ÿæœºæ ˆçš„å¤§å°")])]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æ¯ä¸ªçº¿ç¨‹é»˜è®¤ä¼šå¼€å¯1Mçš„å†…å­˜")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Xss128k")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// å¯¹æ¯ä¸ªçº¿ç¨‹ stack å¤§å°çš„è°ƒæ•´")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])])]),s._v(" "),n("li",[s._v("å¹´è½»ä»£ä¸­EdenåŒºå’Œä¸¤ä¸ªSurvivoråŒºçš„å¤§å°æ¯”ä¾‹\n"),n("ul",[n("li",[s._v("é»˜è®¤æ¯”ä¾‹ä¸º Eden:s0:s1 = 8:1:1")]),s._v(" "),n("li",[n("code",[s._v("-XX:SurvivorRatio")]),s._v("ï¼šè¡¨ç¤ºå¹´è½»ä»£ä¸­çš„åˆ†é…æ¯”ä¾‹")])]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("XX"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SurvivorRatio")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("    \n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])]),s._v(" "),n("li",[s._v("å¹´è½»ä»£æ™‹å‡è€å¹´ä»£é˜ˆå€¼\n"),n("code",[s._v("-XX:MaxTenuringThreshold")]),s._v("ï¼šå¹´è½»ä»£æ™‹å‡è€å¹´ä»£é˜ˆå€¼")]),s._v(" "),n("li",[s._v("è®¾ç½®åƒåœ¾å›æ”¶æ”¶é›†å™¨\n"),n("ul",[n("li",[n("code",[s._v("-XX:+UseParallelGC")])]),s._v(" "),n("li",[n("code",[s._v("-XX:+UseParallelOldGC")])]),s._v(" "),n("li",[n("code",[s._v("-XX:+UseG1GC")])])])])])])]),n("h4",{attrs:{id:"âšª-è¯´ä¸€ä¸‹-jvm-è°ƒä¼˜çš„å·¥å…·â“"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#âšª-è¯´ä¸€ä¸‹-jvm-è°ƒä¼˜çš„å·¥å…·â“"}},[s._v("#")]),s._v(" âšª è¯´ä¸€ä¸‹ JVM è°ƒä¼˜çš„å·¥å…·â“")]),s._v(" "),n("div",{staticClass:"zenbu-answer"},[n("p",{staticClass:"zenbu-answer-title"},[s._v("ğŸ™‹ğŸ»â€â™‚ï¸ ç­”ï¼š")]),n("div",{staticClass:"zenbu-answer-context"},[n("ul",[n("li",[s._v("å‘½ä»¤å·¥å…·\n"),n("ul",[n("li",[s._v("jps          è¿›ç¨‹çŠ¶æ€ä¿¡æ¯")]),s._v(" "),n("li",[s._v("jstack     æŸ¥çœ‹javaè¿›ç¨‹å†…çº¿ç¨‹çš„å †æ ˆä¿¡æ¯")]),s._v(" "),n("li",[s._v("jmap      æŸ¥çœ‹å †è½¬ä¿¡æ¯")]),s._v(" "),n("li",[s._v("jhat       å †è½¬å‚¨å¿«ç…§åˆ†æå·¥å…·")]),s._v(" "),n("li",[s._v("jstat      JVMç»Ÿè®¡ç›‘æµ‹å·¥å…·")])])]),s._v(" "),n("li",[s._v("å¯è§†åŒ–å·¥å…·\n"),n("ul",[n("li",[s._v("jconsole      ç”¨äºå¯¹jvmçš„å†…å­˜ï¼Œçº¿ç¨‹ï¼Œç±» çš„ç›‘æ§ï¼ˆå¯ä»¥æ£€æµ‹æ­»é”ï¼‰")]),s._v(" "),n("li",[s._v("VisualVM    èƒ½å¤Ÿç›‘æ§çº¿ç¨‹ï¼Œå†…å­˜æƒ…å†µ")])])])])])]),n("h4",{attrs:{id:"âšª-javaå†…å­˜æ³„éœ²çš„æ’æŸ¥æ€è·¯â“"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#âšª-javaå†…å­˜æ³„éœ²çš„æ’æŸ¥æ€è·¯â“"}},[s._v("#")]),s._v(" âšª Javaå†…å­˜æ³„éœ²çš„æ’æŸ¥æ€è·¯â“")]),s._v(" "),n("div",{staticClass:"zenbu-answer"},[n("p",{staticClass:"zenbu-answer-title"},[s._v("ğŸ™‹ğŸ»â€â™‚ï¸ ç­”ï¼š")]),n("div",{staticClass:"zenbu-answer-context"},[n("p",[s._v("å†…å­˜æ³„æ¼ï¼ŒæŒ‡ä¸¢å¤±äº†æ•°æ®çš„åœ°å€ï¼Œæ²¡æ³•å¼•ç”¨ä¹Ÿæ²¡æ³•åˆ é™¤ã€‚")]),s._v(" "),n("p",[n("span",{staticStyle:{color:"rgb(122 116 116)"}},[s._v("ä»¥ä¸‹å†…å®¹å¯èƒ½æ˜¯å†…å­˜æº¢å‡ºï¼Œè€Œä¸æ˜¯å†…å­˜æ³„æ¼çš„æ’æŸ¥æ€è·¯")])]),s._v(" "),n("img",{staticClass:"zoom",attrs:{src:"https://raw.githubusercontent.com/DishuZ/PicGo/main/all/20240528011040.png",alt:"20240528011040"}}),s._v(" "),n("p",[s._v("å¦‚å›¾æ‰€ç¤ºï¼ŒJVM Stack ä¸€èˆ¬æ˜¯é€’å½’å¾ªç¯é€ æˆçš„ "),n("code",[s._v("StackOverFlowError")]),s._v(" å†…å­˜æº¢å‡ºï¼›æ–¹æ³•åŒºä¸€èˆ¬æ˜¯åŠ è½½çš„ç±»ä¿¡æ¯å¤ªå¤šå¯¼è‡´ "),n("code",[s._v("OutOfMemoryError:Metaspace")]),s._v(" å†…å­˜ä¸è¶³ï¼›Heap æ¯”è¾ƒå¸¸è§ "),n("code",[s._v("OutOfMemoryError:java heap space")]),s._v(" æŠ¥é”™ï¼Œé¢è¯•å®˜ä¹Ÿæ¯”è¾ƒå…³ç³»è¿™éƒ¨åˆ†ã€‚")]),s._v(" "),n("p",[s._v("å†…å­˜æ³„æ¼é€šå¸¸æ˜¯æŒ‡å †å†…å­˜ï¼Œé€šå¸¸æ˜¯æŒ‡ä¸€äº›å¤§å¯¹è±¡ä¸è¢«å›æ”¶çš„æƒ…å†µã€‚")]),s._v(" "),n("p",[s._v("æ’æŸ¥æ€è·¯ï¼š")]),s._v(" "),n("p",[s._v("1ã€é€šè¿‡jmapæˆ–è®¾ç½®jvmå‚æ•°è·å–å †å†…å­˜å¿«ç…§dump\n2ã€é€šè¿‡å·¥å…·ï¼Œ VisualVMå»åˆ†ædumpæ–‡ä»¶ï¼ŒVisualVMå¯ä»¥åŠ è½½ç¦»çº¿çš„dumpæ–‡ä»¶\n3ã€é€šè¿‡æŸ¥çœ‹å †ä¿¡æ¯çš„æƒ…å†µï¼Œå¯ä»¥å¤§æ¦‚å®šä½å†…å­˜æº¢å‡ºæ˜¯å“ªè¡Œä»£ç å‡ºäº†é—®é¢˜\n4ã€æ‰¾åˆ°å¯¹åº”çš„ä»£ç ï¼Œé€šè¿‡é˜…è¯»ä¸Šä¸‹æ–‡çš„æƒ…å†µï¼Œè¿›è¡Œä¿®å¤å³å¯")])])]),n("h4",{attrs:{id:"âšª-cpué£™é«˜æ’æŸ¥æ–¹æ¡ˆä¸æ€è·¯â“"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#âšª-cpué£™é«˜æ’æŸ¥æ–¹æ¡ˆä¸æ€è·¯â“"}},[s._v("#")]),s._v(" âšª CPUé£™é«˜æ’æŸ¥æ–¹æ¡ˆä¸æ€è·¯â“")]),s._v(" "),n("div",{staticClass:"zenbu-answer"},[n("p",{staticClass:"zenbu-answer-title"},[s._v("ğŸ™‹ğŸ»â€â™‚ï¸ ç­”ï¼š")]),n("div",{staticClass:"zenbu-answer-context"},[n("ol",[n("li",[s._v("Step1ï¼šä½¿ç”¨topå‘½ä»¤æŸ¥çœ‹å ç”¨cpuçš„æƒ…å†µ")]),s._v(" "),n("li",[s._v("Step2ï¼šé€šè¿‡topå‘½ä»¤æŸ¥çœ‹åï¼Œå¯ä»¥æŸ¥çœ‹æ˜¯å“ªä¸€ä¸ªè¿›ç¨‹å ç”¨cpuè¾ƒé«˜ï¼ˆç¡®å®šJavaç¨‹åºçš„è¿›ç¨‹PIDï¼‰")]),s._v(" "),n("li",[s._v("Step3ï¼šä½¿ç”¨pså‘½ä»¤æŸ¥çœ‹è¿›ç¨‹ä¸­çš„çº¿ç¨‹ä¿¡æ¯ï¼ˆæ ¹æ®è¿›ç¨‹PIDæ‰¾åˆ°å…¶ä¸­çš„æ¯ä¸ªçº¿ç¨‹PIDï¼Œç”±å“ªä¸ªçº¿ç¨‹PIDå¯¼è‡´çš„CPUé«˜å æœ‰ç‡ï¼‰")]),s._v(" "),n("li",[s._v("Step4ï¼šä½¿ç”¨jstackå‘½ä»¤æŸ¥çœ‹è¿›ç¨‹ä¸­å“ªäº›çº¿ç¨‹å‡ºç°äº†é—®é¢˜ï¼Œæœ€ç»ˆå®šä½é—®é¢˜ï¼ˆæ ¹æ®çº¿ç¨‹PIDï¼Œæ‰¾åˆ°å¯¹åº”æ ˆé¡¶æ ˆå¸§ï¼Œå®šä½ä»£ç è¡Œå·ï¼‰")])]),s._v(" "),n("p",[n("strong",[s._v("æ€»ç»“")]),s._v("ï¼š"),n("code",[s._v("top")]),s._v(" â†’ "),n("code",[s._v("ps H -eo pid,tid,%cpu | grep <pid>")]),s._v("  â†’ "),n("code",[s._v("jstack <pid>")]),s._v(" â†’ æ‰¾åˆ°å¯¹åº”nid  â†’ æ ˆé¡¶æ ˆå¸§")])])]),n("h2",{attrs:{id:"æ¡†æ¶ç¯‡"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#æ¡†æ¶ç¯‡"}},[s._v("#")]),s._v(" æ¡†æ¶ç¯‡")])])}),[],!1,null,null,null);a.default=e.exports}}]);