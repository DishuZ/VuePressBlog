(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{503:function(s,t,n){"use strict";n.r(t);var a=n(35),e=Object(a.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("div",[n("tag",{attrs:{tags:s.$frontmatter.tags}})],1),s._v(" "),n("hr"),s._v(" "),n("h2",{attrs:{id:"ubuntu-忘记-root-密码"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ubuntu-忘记-root-密码"}},[s._v("#")]),s._v(" Ubuntu 忘记 root 密码")]),s._v(" "),n("p",[s._v("忘记 root 密码有两种情况，")]),s._v(" "),n("ul",[n("li",[s._v("一种是在安装系统后未设置 root 密码，此时可以直接使用命令 "),n("code",[s._v("su passwd")]),s._v("来设置 root 密码；")]),s._v(" "),n("li",[s._v("第二种就是设置了密码但已经忘记了，这个时候只能通过开机进入到 recovery mode 来重新设置 root 密码。")])]),s._v(" "),n("p",[s._v("那么，"),n("strong",[s._v("针对第二种")]),s._v("情况，开始解决：")]),s._v(" "),n("p",[n("strong",[s._v("1.1 开机")])]),s._v(" "),n("p",[s._v("开机过程中后进入到 GNU GRUB 界面（有的机器要按住 "),n("code",[s._v("shift")]),s._v("来打开加载 GRUB 的启动界面），这个界面中有好几个选项，选择 "),n("em",[s._v("Advanced options for Ubuntu")]),s._v(" 。")]),s._v(" "),n("p",[n("strong",[s._v("1.2 设置 recovery mode")])]),s._v(" "),n("p",[s._v("进入到 _Advanced options for Ubuntu _后，会发现很多选项带有 (recovery mode) 。任选一个，将光标放在其上，但不要回车选择！接着，按 "),n("code",[s._v("e")]),s._v(" 进入该选项的编辑命令行，如下图。")]),s._v(" "),n("img",{staticClass:"zoom",attrs:{src:"https://raw.gitmirror.com/DishuZ/PicGo/main/all/20240410150700.png",alt:"VMWare 虚拟机 Ubuntu 22.4.2 开机界面"}}),s._v(" "),n("p",[s._v("Shift 进入 Recovery mode 后，选择 'root ....' ，出现如图画面")]),s._v(" "),n("img",{staticClass:"zoom",attrs:{src:"https://raw.gitmirror.com/DishuZ/PicGo/main/all/20240410151353.png",alt:"20240410151353"}}),s._v(" "),n("p",[n("strong",[s._v("/etc/fstab")]),s._v(" 文件的用处："),n("a",{attrs:{href:"https://blog.csdn.net/weixin_45264425/article/details/126963781",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://blog.csdn.net/weixin_45264425/article/details/126963781"),n("OutboundLink")],1)]),s._v(" "),n("p",[n("strong",[s._v("Ubuntu 忘记密码")]),s._v(" 的一些操作："),n("a",{attrs:{href:"https://www.jianshu.com/p/c24c52629bc3",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://www.jianshu.com/p/c24c52629bc3"),n("OutboundLink")],1)]),s._v(" "),n("p",[n("strong",[s._v("Ubuntu 启动模式介绍")]),s._v("："),n("a",{attrs:{href:"https://blog.csdn.net/HandsomeHong/article/details/133950449",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://blog.csdn.net/HandsomeHong/article/details/133950449"),n("OutboundLink")],1)]),s._v(" "),n("h2",{attrs:{id:"ubuntu-开机显示-you-are-in-emergency-mode-give-root-password-for-maintenance"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ubuntu-开机显示-you-are-in-emergency-mode-give-root-password-for-maintenance"}},[s._v("#")]),s._v(' Ubuntu 开机显示"You are in emergency mode ... Give root password for maintenance"')]),s._v(" "),n("p",[s._v("这里首先要解决的问题登录 root 账号，若忘记密码了请参考问题1。")]),s._v(" "),n("p",[s._v("可以使用 root 密码后，重新开机，查看开机加载日志，中间会出现一个红色的[FAILED]，发现是系统挂载失败，接着就想办法进入Ubuntu系统里寻找挂载失败的原因。")]),s._v(" "),n("img",{staticClass:"zoom",attrs:{src:"https://raw.gitmirror.com/DishuZ/PicGo/main/all/20240410151549.png",alt:"显示 /Data 目录挂载失败"}}),s._v(" "),n("p",[s._v("...")]),s._v(" "),n("p",[s._v("发现是硬盘类型设置错误（这可能是在对硬盘分卷挂载时写错了）")]),s._v(" "),n("h2",{attrs:{id:"重装系统-ubuntu-server-22-04-lts"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#重装系统-ubuntu-server-22-04-lts"}},[s._v("#")]),s._v(" 重装系统 Ubuntu Server 22.04 LTS")]),s._v(" "),n("h3",{attrs:{id:"第一步-制作启动盘"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#第一步-制作启动盘"}},[s._v("#")]),s._v(" 第一步：制作启动盘")]),s._v(" "),n("ul",[n("li",[s._v("参考："),n("a",{attrs:{href:"https://blog.csdn.net/weixin_49504861/article/details/129343398",target:"_blank",rel:"noopener noreferrer"}},[s._v("制作Ubuntu启动盘并安装ros的学习笔记_ubuntu做启动盘-CSDN博客"),n("OutboundLink")],1)])]),s._v(" "),n("p",[s._v("首先去 Ubuntu 官网（"),n("a",{attrs:{href:"https://ubuntu.com/download/server",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://ubuntu.com/download/server"),n("OutboundLink")],1),s._v("）下载镜像，这里我选择下载的是 Ubuntu Server 22.04.2 LTS。")]),s._v(" "),n("img",{staticClass:"zoom",attrs:{src:"https://raw.gitmirror.com/DishuZ/PicGo/main/all/20240410151829.png",alt:"我这里下载的是 Ubuntu Server 22.04.2 LTS"}}),s._v(" "),n("p",[s._v("接着，需要准备一个U盘（最好是未使用的空U盘），我们要把 Ubuntu .iso文件通过工具刻录到U盘里，做成启动盘。启动盘可以为后续重装系统提供安装引导。")]),s._v(" "),n("p",[s._v("在这里，刻录工具选择 Rufus （"),n("a",{attrs:{href:"https://rufus.ie/zh/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://rufus.ie/zh/"),n("OutboundLink")],1),s._v("，下载即用）。先插好U盘，再打开该工具，然后点击“选择”确定你的系统 iso 文件，这样基本准备好了。需要注意的是分区类型，有些旧机子用的是 MBR，而新机子用的是 GPT，根据自己机子的类型来选择（刚开始我装的是 GPT 发现不支持，后面重新烧录改成 MBR ）。然后点击“开始”就可以烧录了，点击后会让你格式化U盘也一并确认。")]),s._v(" "),n("img",{staticClass:"zoom",attrs:{src:"https://raw.gitmirror.com/DishuZ/PicGo/main/all/20240410151858.png",alt:"Rufus 工具使用界面"}}),s._v(" "),n("img",{staticClass:"zoom",attrs:{src:"https://raw.gitmirror.com/DishuZ/PicGo/main/all/20240410151919.png",alt:"Rufus 工具使用界面 - 烧录 Ubuntu 22.04"}}),s._v(" "),n("p",[s._v("最后，制作启动盘成功后，就可以把U盘取出来使用了。")]),s._v(" "),n("h3",{attrs:{id:"第二步-启动主机并开始安装"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#第二步-启动主机并开始安装"}},[s._v("#")]),s._v(" 第二步：启动主机并开始安装")]),s._v(" "),n("ul",[n("li",[s._v("参考1："),n("a",{attrs:{href:"https://www.11343.com/2527.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("Ubuntu 22.04 Server 系统安装图文教程 - 兔子教程"),n("OutboundLink")],1)]),s._v(" "),n("li",[s._v("参考2："),n("a",{attrs:{href:"https://gpu.xuandashi.com/71574.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("ubuntu20.04安装教程分区(ubuntuserver2004安装教程)"),n("OutboundLink")],1)])]),s._v(" "),n("p",[s._v("现在就要到主机的物理位置地点，把U盘插到主机的USB口上，然后启动机子。如果主机的启动优先项已经是U盘优先，那么这里在启动过程中就会直接进入到GNU GRUB界面或者Ubuntu安装界面，如下图所示。")]),s._v(" "),n("p",[s._v("GNU GRUB界面，这里一个多引导装载程序，即计算机启动时运行的软件程序。选择第一项“Try or Install Ubuntu Server”即可进入到Ubuntu安装界面：")]),s._v(" "),n("img",{staticClass:"zoom",attrs:{src:"https://raw.gitmirror.com/DishuZ/PicGo/main/all/20240410152131.png",alt:"GNU GRUB界面，这里一个多引导装载程序，即计算机启动时运行的软件程序。选择第一项“Try or Install Ubuntu Server”即可进入到Ubuntu安装界面"}}),s._v(" "),n("p",[s._v("Ubuntu安装界面，选择语言：")]),s._v(" "),n("img",{staticClass:"zoom",attrs:{src:"https://raw.gitmirror.com/DishuZ/PicGo/main/all/20240410152209.png",alt:"Ubuntu安装界面，选择语言"}}),s._v(" "),n("p",[s._v("后面的步骤就是按照_参考1_来操作，直到最后两个步骤“存储配置”和“个人资料”，按照自己的实际情况填写。“存储配置”即分区，可以根据参考2来自己分。")]),s._v(" "),n("p",[s._v("完成最后两个步骤后，系统开始进行配置，最后会告诉你 "),n("code",[s._v("subiquity/Late/run")]),s._v("（不确定是不是大家都是这个样子，这里给出的是我的参考）表示安装完成，如下图所示。选择 “Reboot Now”重启计算机，点击之后接着会提示你拔出U盘，此时再拔出，并且让电脑连网（插网线），这样就顺利安装完成了！")]),s._v(" "),n("img",{staticClass:"zoom",attrs:{src:"https://raw.gitmirror.com/DishuZ/PicGo/main/all/20240410152547.png",alt:"选择“Reboot Now”，此时还不要拔出U盘"}}),s._v(" "),n("h3",{attrs:{id:"遇到的问题"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#遇到的问题"}},[s._v("#")]),s._v(" 遇到的问题")]),s._v(" "),n("p",[s._v("（1）"),n("code",[s._v("finish: cmd-in-target: FAIL: curtin command in-target")])]),s._v(" "),n("p",[s._v("这里我操作了好几台机子，在分区后就 error ，还不清楚怎么解决这个问题，错误报告放在下面。")]),s._v(" "),n("img",{staticClass:"zoom",attrs:{src:"https://raw.gitmirror.com/DishuZ/PicGo/main/all/20240410152646.png",alt:"错误报告"}}),s._v(" "),n("img",{staticClass:"zoom",attrs:{src:"https://raw.gitmirror.com/DishuZ/PicGo/main/all/20240410152705.png",alt:"错误报告"}}),s._v(" "),n("p",[s._v("在安装系统时不要连网，然后就可以顺利进行下去。")]),s._v(" "),n("p",[s._v("（2）"),n("code",[s._v("media test failure, check cable")])]),s._v(" "),n("img",{staticClass:"zoom",attrs:{src:"https://raw.gitmirror.com/DishuZ/PicGo/main/all/20240410152734.png",alt:"20240410152734"}}),s._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[s._v("UPDATE")]),s._v(" "),n("p",[s._v("上面两个问题可能原因是在安装系统时没有断网，参考："),n("a",{attrs:{href:"https://www.soinside.com/question/d5NGVP5WwhvX9WYwiYB687",target:"_blank",rel:"noopener noreferrer"}},[s._v("链接"),n("OutboundLink")],1)])]),s._v(" "),n("h2",{attrs:{id:"基于-ubuntu-22-04-2-安装显卡"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#基于-ubuntu-22-04-2-安装显卡"}},[s._v("#")]),s._v(" 基于 Ubuntu 22.04.2 安装显卡")]),s._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://www.zhihu.com/question/549057574?utm_id=0",target:"_blank",rel:"noopener noreferrer"}},[s._v("电脑显卡如何安装？ - 知乎"),n("OutboundLink")],1)]),s._v(" "),n("li",[n("a",{attrs:{href:"https://www.52q2.com/Ai_a_21958.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("华为服务器p02报警(华为h22h05服务器参数)-吾爱圈"),n("OutboundLink")],1)]),s._v(" "),n("li",[n("a",{attrs:{href:"https://blog.csdn.net/qq_38574198/article/details/131187547",target:"_blank",rel:"noopener noreferrer"}},[s._v("Ubuntu20.04 + 3090 安装nvidia驱动，附加解决重启黑屏卡在 /dev/***: clean, **files,***blocks的问题_ubuntu启动卡在clean_流觞时光的博客-CSDN博客"),n("OutboundLink")],1)]),s._v(" "),n("li",[n("a",{attrs:{href:"https://blog.csdn.net/weixin_45989883/article/details/129589739?spm=1001.2101.3001.6650.5&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-5-129589739-blog-133994095.235%5Ev39%5Epc_relevant_anti_vip&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-5-129589739-blog-133994095.235%5Ev39%5Epc_relevant_anti_vip&utm_relevant_index=7",target:"_blank",rel:"noopener noreferrer"}},[s._v("ubuntu20.04安装Nvidia驱动后黑屏，无法启动系统_ubuntu20装完显卡驱动黑屏_gz_bro的博客-CSDN博客"),n("OutboundLink")],1)]),s._v(" "),n("li",[n("a",{attrs:{href:"https://blog.csdn.net/weixin_43387480/article/details/131947497",target:"_blank",rel:"noopener noreferrer"}},[s._v("ubuntu查看显卡驱动_ubuntu 查看显卡驱动-CSDN博客"),n("OutboundLink")],1)]),s._v(" "),n("li",[n("a",{attrs:{href:"https://blog.csdn.net/u012229282/article/details/124442555",target:"_blank",rel:"noopener noreferrer"}},[s._v("Ubuntu20.04 系统禁用自带的Nouveau驱动_ubuntu禁用nouveau_Coder802的博客-CSDN博客"),n("OutboundLink")],1)]),s._v(" "),n("li",[n("a",{attrs:{href:"https://blog.csdn.net/u012999810/article/details/120757775",target:"_blank",rel:"noopener noreferrer"}},[s._v("每天十分钟--学透linux --（day1:ubuntu的系统启动过程）_linux查看ubuntu启动时,加载的内核映像文件_maintain001的博客-CSDN博客"),n("OutboundLink")],1)]),s._v(" "),n("li",[n("a",{attrs:{href:"https://blog.csdn.net/weixin_44044411/article/details/132752621",target:"_blank",rel:"noopener noreferrer"}},[s._v("Ubuntu安装NVIDIA显卡驱动（新手教程）_非线性光学元件的博客-CSDN博客"),n("OutboundLink")],1)]),s._v(" "),n("li",[n("a",{attrs:{href:"https://blog.csdn.net/yezhijing/article/details/131358170",target:"_blank",rel:"noopener noreferrer"}},[s._v("Ubuntu 22 服务器端安装图形化界面_ubuntu图形界面-CSDN博客"),n("OutboundLink")],1)]),s._v(" "),n("li",[n("a",{attrs:{href:"https://blog.csdn.net/no1xium/article/details/127012204",target:"_blank",rel:"noopener noreferrer"}},[s._v("我把华为云的Ubuntu 18.04升级到了Ubuntu 22.04_ubuntu18升级到22-CSDN博客"),n("OutboundLink")],1)]),s._v(" "),n("li",[n("a",{attrs:{href:"https://blog.csdn.net/weixin_49777848/article/details/131684172",target:"_blank",rel:"noopener noreferrer"}},[s._v("基于RTX3090的Ubuntu22.04安装cuda11.7和cudnn8.6_3090 cuda版本_@于千的博客-CSDN博客"),n("OutboundLink")],1)]),s._v(" "),n("li",[n("a",{attrs:{href:"https://blog.csdn.net/weixin_43301333/article/details/121537145",target:"_blank",rel:"noopener noreferrer"}},[s._v("服务器RTX3090安装显卡驱动,cuda,cudnn,gpu版pytorch记录_3090显卡驱动_Reza.的博客-CSDN博客"),n("OutboundLink")],1)]),s._v(" "),n("li",[n("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/437334513",target:"_blank",rel:"noopener noreferrer"}},[s._v("RTX 3090配置深度学习环境"),n("OutboundLink")],1)]),s._v(" "),n("li",[n("a",{attrs:{href:"https://blog.csdn.net/cwg213_code/article/details/131395846",target:"_blank",rel:"noopener noreferrer"}},[s._v("Ubuntu 20.04-NVIDIA显卡驱动-安装和卸载-解决黑屏问题_ubuntu卸载显卡驱动_山雨空的博客-CSDN博客"),n("OutboundLink")],1)])]),s._v(" "),n("hr"),s._v(" "),n("h3",{attrs:{id:"物理安装显卡"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#物理安装显卡"}},[s._v("#")]),s._v(" 物理安装显卡")]),s._v(" "),n("p",[n("strong",[s._v("（1）拆卸服务器")])]),s._v(" "),n("p",[s._v("先把运行的服务器关机，然后拔掉电源，确保在安全的情况下装卸服务器。")]),s._v(" "),n("p",[s._v("这里使用的是华为服务器，机盖上有个卡扣，可以一键拆卸服务器，看到主板上的部件。")]),s._v(" "),n("p",[n("strong",[s._v("（2）更换服务器供电电源")])]),s._v(" "),n("p",[s._v("最怕后面忘记更换电源，导致服务器运行显卡后功率不足而炸机。所以，最好是第一步就更换电源，保证服务器供电正常。服务器原始使用的电源是360W的，"),n("strong",[s._v("需要更换成1200W")]),s._v("，一共有两个电源，记得都要更换。")]),s._v(" "),n("p",[s._v("如图，左边的是电源，右边的是显卡槽：")]),s._v(" "),n("img",{staticClass:"zoom",attrs:{src:"https://raw.gitmirror.com/DishuZ/PicGo/main/all/20240410152856.png",alt:"左：电源，右：显卡槽"}}),s._v(" "),n("p",[n("strong",[s._v("（3）安装显卡")])]),s._v(" "),n("p",[s._v("显卡插入到显卡槽里，然后通过线连接显卡和卡槽，注意把卡槽端端的卡扣先打开，才能把显卡插进去，最后把卡扣合上，伸展板块也对准位置并拧紧。")]),s._v(" "),n("img",{staticClass:"zoom",attrs:{src:"https://raw.gitmirror.com/DishuZ/PicGo/main/all/20240410152932.png",alt:"显卡"}}),s._v(" "),n("p",[n("strong",[s._v("（4）验证是否安装成功")])]),s._v(" "),n("p",[s._v("安装好显卡和电源后，把机盖盖好，并安置在机架上，插上电脑，等待开机。")]),s._v(" "),n("p",[s._v("开机后，通过命令 "),n("code",[s._v("lspci | grep -i nvidia")]),s._v(" 查看是否识别显卡及显卡型号，比如三号机执行该命令的效果如图所示：")]),s._v(" "),n("img",{staticClass:"zoom",attrs:{src:"https://raw.gitmirror.com/DishuZ/PicGo/main/all/20240410153039.png",alt:"显示 A5000 显卡，并且有两张"}}),s._v(" "),n("p",[s._v("如果无法显示型号的，通常用4位16进制代码表示，例如 "),n("code",[s._v("1b06")]),s._v("，根据该代码，去"),n("a",{attrs:{href:"http://pci-ids.ucw.cz/mods/PC/10de?action=help?help=pci",target:"_blank",rel:"noopener noreferrer"}},[s._v("PCI Devices"),n("OutboundLink")],1),s._v("网站上查询对应的显卡型号。")]),s._v(" "),n("p",[s._v("如果 "),n("code",[s._v("lspci | grep -i nvidia")]),s._v("命令可以查询到刚刚安装的显卡， 表示服务器识别到了显卡，成功安装。")]),s._v(" "),n("h3",{attrs:{id:"重装系统"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#重装系统"}},[s._v("#")]),s._v(" 重装系统")]),s._v(" "),n("p",[s._v("这一步可以按照"),n("a",{attrs:{href:"#cEmzR"}},[s._v("问题3")]),s._v("的步骤操作。")]),s._v(" "),n("h3",{attrs:{id:"禁用-ubuntu-自带驱动-nouveau"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#禁用-ubuntu-自带驱动-nouveau"}},[s._v("#")]),s._v(" 禁用 Ubuntu 自带驱动 nouveau")]),s._v(" "),n("p",[s._v("（1）先"),n("strong",[s._v("保持内核")]),s._v("。")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 一定要保持当前的内核，也就是安装 NVIDIA 驱动时用的内核")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" apt-mark hold linux-image-generic linux-headers-generic\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("（2）然后开始禁用自带的开源驱动 nouveau")]),s._v(" "),n("p",[s._v("找到路径 "),n("code",[s._v("/etc/modprobe.d/")]),s._v("，在该目录下"),n("strong",[s._v("创建新文件")]),s._v(" "),n("code",[s._v("blacklist-nouveau.conf")]),s._v("，当然可以用一条命令解决："),n("code",[s._v("vim /etc/modprobe.d/blacklist-nouveau.conf")]),s._v("，在该（空）文件中添加如下信息：")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("blacklist nouveau\noptions nouveau "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("modeset")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("（3）更新并验证是否屏蔽 nouveau")]),s._v(" "),n("p",[s._v("更新命令："),n("code",[s._v("sudo update-initramfs -u")])]),s._v(" "),n("p",[s._v("然后检查是否屏蔽，命令："),n("code",[s._v("lsmod | grep nouveau")]),s._v("，"),n("strong",[s._v("如果没有任何输出，表示成功屏蔽")]),s._v("。")]),s._v(" "),n("blockquote",[n("p",[s._v("解读 "),n("code",[s._v("update-initramfs -u")]),s._v("命令："),n("a",{attrs:{href:"https://www.python100.com/html/OUEK292Y133A.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://www.python100.com/html/OUEK292Y133A.html"),n("OutboundLink")],1),s._v("\n在执行该命令前后，可以通过 "),n("code",[s._v("uname -r")]),s._v("查看 Linux 内核版本是否更改。")])]),s._v(" "),n("p",[s._v("（4）重启")]),s._v(" "),n("p",[s._v("搞定这一切后，重启 "),n("code",[s._v("reboot")]),s._v("，查看是否可以正常开机，然后可以再验证一遍（3）。")]),s._v(" "),n("h3",{attrs:{id:"系统连网"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#系统连网"}},[s._v("#")]),s._v(" 系统连网")]),s._v(" "),n("p",[s._v("首先拿到服务器的 IP，通过 "),n("code",[s._v("ip -4 a")]),s._v("或者 "),n("code",[s._v("ip add show")]),s._v("都可以查看到当前 IP。然后在有网络的电脑上，通过 XShell （或其他远程连接软件）连接服务器。")]),s._v(" "),n("img",{staticClass:"zoom",attrs:{src:"https://raw.gitmirror.com/DishuZ/PicGo/main/all/20240410153155.png",alt:"xshell 连接服务器界面"}}),s._v(" "),n("p",[n("strong",[s._v("情况1：如果要在线安装 Nvidia 驱动，则先联网")])]),s._v(" "),n("p",[s._v("把校园网登录脚本 cqupt 传入（顺便把 miniconda 也传入安装了），通过脚本连接网络。")]),s._v(" "),n("p",[n("strong",[s._v("情况2：如果离线安装 Nvidia 驱动，可以不联网")])]),s._v(" "),n("p",[s._v("略")]),s._v(" "),n("h3",{attrs:{id:"安装-nvidai-驱动"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装-nvidai-驱动"}},[s._v("#")]),s._v(" 安装 Nvidai 驱动")]),s._v(" "),n("p",[n("strong",[s._v("（1）卸载原有驱动")])]),s._v(" "),n("p",[s._v("如果是重装的系统，应该是不存在 nvidia 驱动的，因此该步骤选做。")]),s._v(" "),n("p",[n("code",[s._v("sudo apt-get --purge remove nvidia*")]),s._v(" 卸载已经安装的 Nvidia 驱动。")]),s._v(" "),n("p",[n("strong",[s._v("（2）更新软件列表")])]),s._v(" "),n("p",[s._v("首先可以先更新一下软件源 "),n("code",[s._v("sources.list")]),s._v("，这个步骤也可以在重新系统时先设定好。先备份 "),n("code",[s._v("cp /etc/apt/sources.list /etc/apt/sources.list.bak")]),s._v("，然后编辑 "),n("code",[s._v("vim /etc/apt/sources.list")]),s._v("，更换成阿里源/中科大源/清华源其中之一，下面分别为三者的软件源：")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 阿里源")]),s._v("\ndeb http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiverse\ndeb http://mirrors.aliyun.com/ubuntu/ bionic-security main restricted universe multiverse\ndeb http://mirrors.aliyun.com/ubuntu/ bionic-updates main restricted universe multiverse\ndeb http://mirrors.aliyun.com/ubuntu/ bionic-proposed main restricted universe multiverse\ndeb http://mirrors.aliyun.com/ubuntu/ bionic-backports main restricted universe multiverse\ndeb-src http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiverse\ndeb-src http://mirrors.aliyun.com/ubuntu/ bionic-security main restricted universe multiverse\ndeb-src http://mirrors.aliyun.com/ubuntu/ bionic-updates main restricted universe multiverse\ndeb-src http://mirrors.aliyun.com/ubuntu/ bionic-proposed main restricted universe multiverse\ndeb-src http://mirrors.aliyun.com/ubuntu/ bionic-backports main restricted universe multiverse\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 中科大源")]),s._v("\ndeb https://mirrors.ustc.edu.cn/ubuntu/ bionic main restricted universe multiverse\ndeb-src https://mirrors.ustc.edu.cn/ubuntu/ bionic main restricted universe multiverse\ndeb https://mirrors.ustc.edu.cn/ubuntu/ bionic-updates main restricted universe multiverse\ndeb-src https://mirrors.ustc.edu.cn/ubuntu/ bionic-updates main restricted universe multiverse\ndeb https://mirrors.ustc.edu.cn/ubuntu/ bionic-backports main restricted universe multiverse\ndeb-src https://mirrors.ustc.edu.cn/ubuntu/ bionic-backports main restricted universe multiverse\ndeb https://mirrors.ustc.edu.cn/ubuntu/ bionic-security main restricted universe multiverse\ndeb-src https://mirrors.ustc.edu.cn/ubuntu/ bionic-security main restricted universe multiverse\ndeb https://mirrors.ustc.edu.cn/ubuntu/ bionic-proposed main restricted universe multiverse\ndeb-src https://mirrors.ustc.edu.cn/ubuntu/ bionic-proposed main restricted universe multiverse\n\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("### 清华源 https://mirror.tuna.tsinghua.edu.cn/help/ubuntu/")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 默认注释了源码镜像以提高 apt update 速度，如有需要可自行取消注释")]),s._v("\ndeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ jammy main restricted universe multiverse\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ jammy main restricted universe multiverse")]),s._v("\ndeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ jammy-updates main restricted universe multiverse\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ jammy-updates main restricted universe multiverse")]),s._v("\ndeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ jammy-backports main restricted universe multiverse\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ jammy-backports main restricted universe multiverse")]),s._v("\n\ndeb http://security.ubuntu.com/ubuntu/ jammy-security main restricted universe multiverse\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# deb-src http://security.ubuntu.com/ubuntu/ jammy-security main restricted universe multiverse")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 预发布软件源，不建议启用")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ jammy-proposed main restricted universe multiverse")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# # deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ jammy-proposed main restricted universe multiverse")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br")]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br")])]),n("p",[s._v("编辑后保存。")]),s._v(" "),n("p",[s._v("然后再更新软件：")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" update\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 下面这三个不一定要操作")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" g++  \n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" gcc\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("p",[s._v("三号机上的软件源：")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# See http://help.ubuntu.com/community/UpgradeNotes for how to upgrade to")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# newer versions of the distribution.")]),s._v("\ndeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu jammy main restricted\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu jammy main restricted")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## Major bug fix updates produced after the final release of the")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## distribution.")]),s._v("\ndeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu jammy-updates main restricted\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu jammy-updates main restricted")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## N.B. software from this repository is ENTIRELY UNSUPPORTED by the Ubuntu")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## team. Also, please note that software in universe WILL NOT receive any")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## review or updates from the Ubuntu security team.")]),s._v("\ndeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu jammy universe\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu jammy universe")]),s._v("\ndeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu jammy-updates universe\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu jammy-updates universe")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## N.B. software from this repository is ENTIRELY UNSUPPORTED by the Ubuntu")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## team, and may not be under a free licence. Please satisfy yourself as to")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## your rights to use the software. Also, please note that software in")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## multiverse WILL NOT receive any review or updates from the Ubuntu")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## security team.")]),s._v("\ndeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu jammy multiverse\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu jammy multiverse")]),s._v("\ndeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu jammy-updates multiverse\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu jammy-updates multiverse")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## N.B. software from this repository may not have been tested as")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## extensively as that contained in the main release, although it includes")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## newer versions of some applications which may provide useful features.")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## Also, please note that software in backports WILL NOT receive any review")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## or updates from the Ubuntu security team.")]),s._v("\ndeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu jammy-backports main restricted universe multiverse\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu jammy-backports main restricted universe multiverse")]),s._v("\n\ndeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu jammy-security main restricted\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu jammy-security main restricted")]),s._v("\ndeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu jammy-security universe\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu jammy-security universe")]),s._v("\ndeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu jammy-security multiverse\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu jammy-security multiverse")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br")]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br")])]),n("p",[n("strong",[s._v("（3）查看 Nvidia 驱动版本并安装")])]),s._v(" "),n("p",[s._v("查看当前服务器属性："),n("code",[s._v("ubuntu-drivers devices")]),s._v("，这里会显示推荐的驱动版本，标识 "),n("code",[s._v("recommended")]),s._v("，即为合适的驱动。")]),s._v(" "),n("p",[s._v("接下来有两种方式安装驱动。")]),s._v(" "),n("p",[s._v("方法1：离线安装。在"),n("a",{attrs:{href:"https://download.nvidia.com/XFree86/Linux-x86_64/",target:"_blank",rel:"noopener noreferrer"}},[s._v("镜像站"),n("OutboundLink")],1),s._v("中找到想要下载的版本，在电脑上下载，然后上传到服务器，再通过如下命令安装："),n("code",[s._v("bash NVIDIA-Linux-x86_64-xxx.run")]),s._v("，加上参数 "),n("code",[s._v("--np-opengl-files")]),s._v("保证只安装驱动文件。")]),s._v(" "),n("p",[s._v("方法2：直接安装。通过命令 "),n("code",[s._v("sudo apt-get install nvidia-driver-525")]),s._v("。")]),s._v(" "),n("p",[s._v("安装好之后，也可以执行（也可以不执行，验证失败时再尝试）下面这条指令，表示加载驱动模块："),n("code",[s._v("sudo modprobe nvidia")])]),s._v(" "),n("p",[n("a",{attrs:{href:"https://blog.csdn.net/xiao_xian_/article/details/132415898",target:"_blank",rel:"noopener noreferrer"}},[s._v("【error】nvidia-smi无效的解决策略_modprobe: error: could not insert ‘nvidia’: operat-CSDN博客"),n("OutboundLink")],1)]),s._v(" "),n("p",[n("strong",[s._v("（4）验证安装结果")])]),s._v(" "),n("p",[s._v("之后用 "),n("code",[s._v("nvidia-smi")]),s._v(" 命令，查看驱动是否安装好。")]),s._v(" "),n("img",{staticClass:"zoom",attrs:{src:"https://raw.gitmirror.com/DishuZ/PicGo/main/all/20240410153405.png",alt:"20240410153405"}}),s._v(" "),n("hr"),s._v(" "),n("h3",{attrs:{id:"系统分盘"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#系统分盘"}},[s._v("#")]),s._v(" 系统分盘")]),s._v(" "),n("h4",{attrs:{id:"整体流程"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#整体流程"}},[s._v("#")]),s._v(" 整体流程")]),s._v(" "),n("p",[s._v("分盘的整体流程：PV -> VG -> LG -> mount，如图：")]),s._v(" "),n("img",{staticClass:"zoom",attrs:{src:"https://raw.gitmirror.com/DishuZ/PicGo/main/all/20240410153505.png",alt:"分盘的整体流程：PV -> VG -> LG -> mount"}}),s._v(" "),n("p",[s._v("这是未操作前的挂载情况：")]),s._v(" "),n("img",{staticClass:"zoom",attrs:{src:"https://raw.gitmirror.com/DishuZ/PicGo/main/all/20240410153544.png",alt:"20240410153544"}}),s._v(" "),n("h4",{attrs:{id:"创建卷组"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#创建卷组"}},[s._v("#")]),s._v(" 创建卷组")]),s._v(" "),n("p",[s._v("创建卷组，卷组情况：")]),s._v(" "),n("img",{staticClass:"zoom",attrs:{src:"https://raw.gitmirror.com/DishuZ/PicGo/main/all/20240410153607.png",alt:"物理卷和卷组的创建过程"}}),s._v(" "),n("img",{staticClass:"zoom",attrs:{src:"https://raw.gitmirror.com/DishuZ/PicGo/main/all/20240410153627.png",alt:"最终的卷组情况"}}),s._v(" "),n("h4",{attrs:{id:"创建逻辑卷-挂载"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#创建逻辑卷-挂载"}},[s._v("#")]),s._v(" 创建逻辑卷&挂载")]),s._v(" "),n("p",[n("strong",[s._v("1）从卷组 "),n("code",[s._v("vg0")]),s._v(" 中分配空间来创建逻辑卷 "),n("code",[s._v("lgData")]),s._v(" 和 "),n("code",[s._v("lgHome")])])]),s._v(" "),n("p",[s._v("创建逻辑卷，逻辑卷情况：")]),s._v(" "),n("img",{staticClass:"zoom",attrs:{src:"https://raw.gitmirror.com/DishuZ/PicGo/main/all/20240410153724.png",alt:"基于卷组 vg0 创建逻辑卷"}}),s._v(" "),n("p",[n("strong",[s._v("2）逻辑卷创建好后，需要格式化成  "),n("code",[s._v("ext4")]),s._v("  ，然后再挂载（ "),n("code",[s._v("mount")]),s._v(" ）到目录")])]),s._v(" "),n("p",[s._v("格式化和挂载：")]),s._v(" "),n("p",[s._v("挂载逻辑卷 lgData 到 /Data：")]),s._v(" "),n("img",{staticClass:"zoom",attrs:{src:"https://raw.gitmirror.com/DishuZ/PicGo/main/all/20240410153802.png",alt:"挂载逻辑卷 lgData 到 /Data"}}),s._v(" "),n("p",[s._v("挂载逻辑卷 lgHome 到 /home，需要迂回一下：")]),s._v(" "),n("img",{staticClass:"zoom",attrs:{src:"https://raw.gitmirror.com/DishuZ/PicGo/main/all/20240410153824.png",alt:"挂载逻辑卷 lgHome 到 /home，需要迂回一下"}}),s._v(" "),n("h4",{attrs:{id:"开机自动挂载"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#开机自动挂载"}},[s._v("#")]),s._v(" 开机自动挂载")]),s._v(" "),n("p",[s._v("挂载操作只会在系统运行期间生效，如果系统重启，那么就会失效。因此需要设置一下文件"),n("code",[s._v("/etc/fstab")]),s._v("，使其可以做到开机自动挂载。")]),s._v(" "),n("p",[s._v("设置开机自动挂载：")]),s._v(" "),n("img",{staticClass:"zoom",attrs:{src:"https://raw.gitmirror.com/DishuZ/PicGo/main/all/20240410153902.png",alt:"vim /etc/fstab"}}),s._v(" "),n("p",[s._v("最终情况：")]),s._v(" "),n("img",{staticClass:"zoom",attrs:{src:"https://raw.gitmirror.com/DishuZ/PicGo/main/all/20240410153920.png",alt:"20240410153920"}}),s._v(" "),n("h4",{attrs:{id:"参考"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[s._v("#")]),s._v(" 参考")]),s._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://blog.csdn.net/weixin_43693967/article/details/128033305",target:"_blank",rel:"noopener noreferrer"}},[s._v("【linux】逻辑卷、lvm2使用、ubuntu将多个硬盘挂载到一个目录_linuxlvm挂载到目录-CSDN博客"),n("OutboundLink")],1)]),s._v(" "),n("li",[n("a",{attrs:{href:"https://blog.51cto.com/beyang/6037380",target:"_blank",rel:"noopener noreferrer"}},[s._v("ubuntu 的 LVM 逻辑卷_51CTO博客_在ubuntu新安装中使用lvm"),n("OutboundLink")],1)])]),s._v(" "),n("h2",{attrs:{id:"校外-校园网vpn无法访问服务器"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#校外-校园网vpn无法访问服务器"}},[s._v("#")]),s._v(" 校外+校园网VPN无法访问服务器")]),s._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[s._v("解决方法")]),s._v(" "),n("p",[s._v("需要将 sshd 的端口设置为 5122，具体原理不太清楚（有可能是学校在哪里设置了不允许22端口通过）")])]),s._v(" "),n("h3",{attrs:{id:"查看当前-sshd-端口"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#查看当前-sshd-端口"}},[s._v("#")]),s._v(" 查看当前 sshd 端口")]),s._v(" "),n("p",[s._v("先查看当前监听端口 "),n("code",[s._v("ss -tuln")]),s._v(" / "),n("code",[s._v("ss -tulnp | grep sshd")])]),s._v(" "),n("h3",{attrs:{id:"修改-ssh-服务配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#修改-ssh-服务配置"}},[s._v("#")]),s._v(" 修改 ssh 服务配置")]),s._v(" "),n("p",[s._v("修改 ssh 配置文件 "),n("code",[s._v("vim /etc/ssh/sshd_config")]),s._v("，把文件里的 "),n("code",[s._v("#Port 22")]),s._v(" 前面的注释去掉，改成：")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("Port "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5122")]),s._v("\nPort "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("同时添加 22 和 5122 两个端口，以免端口添加失败，导致自己无法远程登录服务器。")]),s._v(" "),n("h3",{attrs:{id:"重启-ssh-服务"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#重启-ssh-服务"}},[s._v("#")]),s._v(" 重启 ssh 服务")]),s._v(" "),n("p",[s._v("重启 ssh 命令："),n("code",[s._v("systemctl restart sshd.service")])]),s._v(" "),n("h3",{attrs:{id:"验证是否可访问"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#验证是否可访问"}},[s._v("#")]),s._v(" 验证是否可访问")]),s._v(" "),n("p",[s._v("一方面，通过 "),n("code",[s._v("ss -tulnp | grep sshd")]),s._v(" 再次查看监听端口，可以看到多了 5122 的监听；\n另一方面，尝试通过“校外+校园网VPN”的方式连接服务器（端口号5122），发现确实可以访问了。")]),s._v(" "),n("h3",{attrs:{id:"参考-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#参考-2"}},[s._v("#")]),s._v(" 参考")]),s._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"http://m.blog.chinaunix.net/uid-12357721-id-5817224.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("http://m.blog.chinaunix.net/uid-12357721-id-5817224.html"),n("OutboundLink")],1)])])])}),[],!1,null,null,null);t.default=e.exports}}]);